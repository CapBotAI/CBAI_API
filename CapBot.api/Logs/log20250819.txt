2025-08-19 10:06:58.564 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-19 10:06:58.820 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:58.838 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:58.852 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:58.854 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:58.854 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:58.854 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:59.059 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:59.060 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:59.078 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:59.079 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:59.079 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:59.080 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:59.084 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:59.084 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-19 10:06:59.111 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-08-19 10:06:59.111 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-08-19 10:06:59.111 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-08-19 10:06:59.111 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-08-19 10:06:59.111 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-08-19 10:06:59.111 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-08-19 10:06:59.112 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-08-19 10:06:59.112 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-08-19 10:06:59.112 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-08-19 10:06:59.112 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-08-19 10:06:59.112 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-08-19 10:06:59.112 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-08-19 10:06:59.112 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-08-19 10:06:59.112 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-08-19 10:06:59.112 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-08-19 10:06:59.113 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-08-19 10:06:59.113 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-08-19 10:06:59.113 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-19 10:06:59.113 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-08-19 10:06:59.239 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.240 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.240 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.240 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.240 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.240 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.240 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.921 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.922 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.922 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:06:59.922 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-08-19 10:07:00.069 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-08-19 10:07:00.085 +07:00 [DBG] Creating DbConnection.
2025-08-19 10:07:00.127 +07:00 [DBG] Created DbConnection. (38ms).
2025-08-19 10:07:00.131 +07:00 [DBG] Migrating using database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.137 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.310 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.315 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:00.320 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2025-08-19 10:07:00.321 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2025-08-19 10:07:00.326 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-19 10:07:00.343 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-19 10:07:00.345 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.351 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (3ms).
2025-08-19 10:07:00.353 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-19 10:07:00.353 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-19 10:07:00.353 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-19 10:07:00.353 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.354 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.354 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-19 10:07:00.364 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-19 10:07:00.365 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.365 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-08-19 10:07:00.365 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.366 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.366 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:00.366 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:00.366 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:00.366 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-19 10:07:00.367 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-19 10:07:00.367 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.367 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-08-19 10:07:00.367 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-19 10:07:00.367 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-19 10:07:00.367 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-19 10:07:00.367 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.367 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.367 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-19 10:07:00.368 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-19 10:07:00.368 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.368 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-08-19 10:07:00.378 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.378 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.378 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-19 10:07:00.378 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-19 10:07:00.379 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-19 10:07:00.379 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-19 10:07:00.385 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-19 10:07:00.387 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.387 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-08-19 10:07:00.388 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.388 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-08-19 10:07:00.396 +07:00 [INF] Applying migration '20250711090502_UpdateNullableForLastModifiedAt'.
2025-08-19 10:07:00.477 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.477 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:00.479 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-19 10:07:00.484 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-19 10:07:00.485 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:00.679 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (194ms).
2025-08-19 10:07:00.680 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (195ms).
2025-08-19 10:07:00.680 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[workflow_states]') AND [c].[name] = N'LastModifiedAt');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [workflow_states] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [workflow_states] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:00.723 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[workflow_states]') AND [c].[name] = N'LastModifiedAt');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [workflow_states] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [workflow_states] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:00.723 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:00.723 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:00.723 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:00.723 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topics]') AND [c].[name] = N'LastModifiedAt');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [topics] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [topics] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:00.738 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topics]') AND [c].[name] = N'LastModifiedAt');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [topics] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [topics] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:00.739 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:00.739 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:00.739 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:00.739 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topic_versions]') AND [c].[name] = N'LastModifiedAt');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [topic_versions] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [topic_versions] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:00.757 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topic_versions]') AND [c].[name] = N'LastModifiedAt');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [topic_versions] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [topic_versions] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:00.757 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:00.757 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:02.879 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2122ms).
2025-08-19 10:07:02.879 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topic_categories]') AND [c].[name] = N'LastModifiedAt');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [topic_categories] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [topic_categories] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:02.893 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topic_categories]') AND [c].[name] = N'LastModifiedAt');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [topic_categories] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [topic_categories] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:02.893 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:02.893 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:02.893 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:02.893 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[semesters]') AND [c].[name] = N'LastModifiedAt');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [semesters] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [semesters] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:02.907 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[semesters]') AND [c].[name] = N'LastModifiedAt');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [semesters] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [semesters] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:02.907 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:02.907 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:02.907 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:02.907 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[reviews]') AND [c].[name] = N'LastModifiedAt');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [reviews] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [reviews] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:02.923 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[reviews]') AND [c].[name] = N'LastModifiedAt');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [reviews] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [reviews] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:02.923 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:02.923 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:02.923 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:02.923 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[review_criteria_scores]') AND [c].[name] = N'LastModifiedAt');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [review_criteria_scores] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [review_criteria_scores] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:04.884 +07:00 [INF] Executed DbCommand (1,960ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[review_criteria_scores]') AND [c].[name] = N'LastModifiedAt');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [review_criteria_scores] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [review_criteria_scores] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:04.884 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:04.884 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:04.885 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:04.885 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[review_comments]') AND [c].[name] = N'LastModifiedAt');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [review_comments] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [review_comments] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:04.907 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[review_comments]') AND [c].[name] = N'LastModifiedAt');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [review_comments] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [review_comments] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:04.907 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:04.908 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:04.908 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:04.908 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[phases]') AND [c].[name] = N'LastModifiedAt');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [phases] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [phases] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:04.931 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[phases]') AND [c].[name] = N'LastModifiedAt');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [phases] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [phases] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:04.931 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:04.931 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:04.931 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:04.931 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[phase_types]') AND [c].[name] = N'LastModifiedAt');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [phase_types] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [phase_types] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:06.958 +07:00 [INF] Executed DbCommand (2,027ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[phase_types]') AND [c].[name] = N'LastModifiedAt');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [phase_types] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [phase_types] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:06.958 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:06.958 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:06.958 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:06.958 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[lecturer_skills]') AND [c].[name] = N'LastModifiedAt');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [lecturer_skills] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [lecturer_skills] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:06.972 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[lecturer_skills]') AND [c].[name] = N'LastModifiedAt');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [lecturer_skills] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [lecturer_skills] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:06.973 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:06.973 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:06.973 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:06.973 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[evaluation_criteria]') AND [c].[name] = N'LastModifiedAt');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [evaluation_criteria] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [evaluation_criteria] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:06.986 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[evaluation_criteria]') AND [c].[name] = N'LastModifiedAt');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [evaluation_criteria] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [evaluation_criteria] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:06.986 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:06.986 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:06.986 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:06.986 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250711090502_UpdateNullableForLastModifiedAt', N'8.0.16');
2025-08-19 10:07:08.927 +07:00 [INF] Executed DbCommand (1,941ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250711090502_UpdateNullableForLastModifiedAt', N'8.0.16');
2025-08-19 10:07:08.929 +07:00 [DBG] Committing transaction.
2025-08-19 10:07:08.935 +07:00 [DBG] Committed transaction.
2025-08-19 10:07:08.936 +07:00 [DBG] Disposing transaction.
2025-08-19 10:07:08.936 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:08.936 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-08-19 10:07:08.937 +07:00 [INF] Applying migration '20250813202039_UpdateSubmission'.
2025-08-19 10:07:08.997 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:08.997 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:08.997 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-19 10:07:08.997 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-19 10:07:08.997 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:08.997 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:08.997 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:08.997 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[submissions]') AND [c].[name] = N'SubmittedAt');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [submissions] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [submissions] ALTER COLUMN [SubmittedAt] datetime2 NULL;
ALTER TABLE [submissions] ADD DEFAULT (CURRENT_TIMESTAMP) FOR [SubmittedAt];
2025-08-19 10:07:09.034 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var12 sysname;
SELECT @var12 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[submissions]') AND [c].[name] = N'SubmittedAt');
IF @var12 IS NOT NULL EXEC(N'ALTER TABLE [submissions] DROP CONSTRAINT [' + @var12 + '];');
ALTER TABLE [submissions] ALTER COLUMN [SubmittedAt] datetime2 NULL;
ALTER TABLE [submissions] ADD DEFAULT (CURRENT_TIMESTAMP) FOR [SubmittedAt];
2025-08-19 10:07:09.034 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:09.034 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:09.034 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:09.034 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [CreatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-08-19 10:07:09.036 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [CreatedAt] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2025-08-19 10:07:09.036 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:09.036 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:09.036 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:09.036 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [CreatedBy] nvarchar(max) NULL;
2025-08-19 10:07:09.037 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [CreatedBy] nvarchar(max) NULL;
2025-08-19 10:07:09.037 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:09.037 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:09.037 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:09.037 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [DeletedAt] datetime2 NULL;
2025-08-19 10:07:09.038 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [DeletedAt] datetime2 NULL;
2025-08-19 10:07:09.038 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:10.788 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1750ms).
2025-08-19 10:07:10.788 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1750ms).
2025-08-19 10:07:10.788 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [IsActive] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-08-19 10:07:10.790 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [IsActive] bit NOT NULL DEFAULT CAST(0 AS bit);
2025-08-19 10:07:10.790 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:10.790 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:10.790 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:10.790 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:10.790 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [LastModifiedAt] datetime2 NULL;
2025-08-19 10:07:10.791 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:10.791 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:10.791 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:10.791 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [LastModifiedBy] nvarchar(max) NULL;
2025-08-19 10:07:10.791 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [submissions] ADD [LastModifiedBy] nvarchar(max) NULL;
2025-08-19 10:07:10.791 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-19 10:07:10.791 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:10.791 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-19 10:07:10.792 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250813202039_UpdateSubmission', N'8.0.16');
2025-08-19 10:07:10.792 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250813202039_UpdateSubmission', N'8.0.16');
2025-08-19 10:07:10.792 +07:00 [DBG] Committing transaction.
2025-08-19 10:07:10.793 +07:00 [DBG] Committed transaction.
2025-08-19 10:07:10.793 +07:00 [DBG] Disposing transaction.
2025-08-19 10:07:10.793 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:10.793 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-08-19 10:07:10.795 +07:00 [DBG] 'MyDbContext' disposed.
2025-08-19 10:07:10.796 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-08-19 10:07:10.797 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
