2025-09-28 12:20:16.383 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-28 12:20:16.471 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-28 12:20:16.655 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.673 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.686 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.687 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.688 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.689 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.860 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.861 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.874 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.875 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.875 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.876 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.881 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.882 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:20:16.919 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-09-28 12:20:16.919 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-09-28 12:20:16.919 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-09-28 12:20:16.919 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-09-28 12:20:16.919 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-09-28 12:20:16.919 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-09-28 12:20:16.919 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-09-28 12:20:16.919 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-09-28 12:20:16.919 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-28 12:20:16.920 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-28 12:20:17.038 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.039 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:20:17.196 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:20:17.259 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-09-28 12:20:17.372 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:20:17.393 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:20:17.409 +07:00 [DBG] Created DbConnection. (14ms).
2025-09-28 12:20:17.412 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.663 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.667 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:20:17.673 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-28 12:20:17.681 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2025-09-28 12:20:17.688 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:20:17.744 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:20:17.794 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:20:17.816 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.823 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 73ms reading results.
2025-09-28 12:20:17.826 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.832 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (5ms).
2025-09-28 12:20:17.836 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.838 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.838 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:20:17.838 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.839 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.839 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:20:17.844 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:20:17.845 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:20:17.845 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.846 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 12:20:17.846 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.846 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:20:17.846 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.846 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.847 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:20:17.847 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.847 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.847 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:20:17.849 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:20:17.850 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:20:17.850 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.850 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:20:17.850 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.850 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:20:17.850 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.850 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.851 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:20:17.851 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.851 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.851 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:20:17.853 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:20:17.853 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:20:17.854 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.854 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 12:20:17.854 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.855 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:20:17.864 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-28 12:20:17.874 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:20:17.875 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.876 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.876 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:20:17.876 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.876 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.876 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:20:17.884 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:20:17.920 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:20:17.948 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.948 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 63ms reading results.
2025-09-28 12:20:17.948 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.948 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:20:17.953 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-09-28 12:20:17.956 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.956 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.956 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:20:17.956 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.957 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.957 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:20:17.958 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:20:17.958 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:20:17.959 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.959 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:20:17.959 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.959 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:20:17.960 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-09-28 12:20:17.960 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.960 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.961 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:20:17.961 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.961 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.961 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:20:17.962 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:20:17.962 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:20:17.963 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.963 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:20:17.963 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.963 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:20:17.964 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.964 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.964 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:20:17.964 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.965 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:20:17.965 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:20:17.966 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:20:17.967 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:20:17.967 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.967 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:20:17.967 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.967 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:20:17.967 +07:00 [INF] Data seeding completed successfully
2025-09-28 12:20:17.969 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:20:17.970 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:20:17.972 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-09-28 12:20:18.001 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-09-28 12:20:18.145 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-09-28 12:20:18.249 +07:00 [DBG] Hosting starting
2025-09-28 12:20:18.258 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-1d6bcff1-a155-4167-8a22-de35a5f05047.xml'.
2025-09-28 12:20:18.291 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-2459dd29-32d5-4c49-ac9d-33896047bb78.xml'.
2025-09-28 12:20:18.309 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-374624f1-e856-4617-8ae6-fe6a81ce6346.xml'.
2025-09-28 12:20:18.331 +07:00 [DBG] Found key {1d6bcff1-a155-4167-8a22-de35a5f05047}.
2025-09-28 12:20:18.338 +07:00 [DBG] Found key {2459dd29-32d5-4c49-ac9d-33896047bb78}.
2025-09-28 12:20:18.339 +07:00 [DBG] Found key {374624f1-e856-4617-8ae6-fe6a81ce6346}.
2025-09-28 12:20:18.344 +07:00 [DBG] Considering key {2459dd29-32d5-4c49-ac9d-33896047bb78} with expiration date 2025-11-03 12:40:53Z as default key.
2025-09-28 12:20:18.347 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:20:18.348 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-28 12:20:18.349 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:20:18.350 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-28 12:20:18.351 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-28 12:20:18.352 +07:00 [DBG] Using key {2459dd29-32d5-4c49-ac9d-33896047bb78} as the default key.
2025-09-28 12:20:18.354 +07:00 [DBG] Key ring with default key {2459dd29-32d5-4c49-ac9d-33896047bb78} was loaded during application startup.
2025-09-28 12:20:18.358 +07:00 [DBG] Middleware loaded
2025-09-28 12:20:18.360 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-09-28 12:20:18.361 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-28 12:20:18.407 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-28 12:20:18.424 +07:00 [INF] Now listening on: http://localhost:5207
2025-09-28 12:20:18.424 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-09-28 12:20:18.424 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-28 12:20:18.424 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-28 12:20:18.424 +07:00 [INF] Hosting environment: Development
2025-09-28 12:20:18.424 +07:00 [INF] Content root path: C:\Users\Admin\Downloads\CBAI_API\capbot.api
2025-09-28 12:20:18.427 +07:00 [DBG] Hosting started
2025-09-28 12:20:18.759 +07:00 [DBG] Connection id "0HNFU9QRFVE0C" accepted.
2025-09-28 12:20:18.761 +07:00 [DBG] Connection id "0HNFU9QRFVE0C" started.
2025-09-28 12:20:18.855 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-09-28 12:20:18.864 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-28 12:20:18.940 +07:00 [DBG] Connection id "0HNFU9QRFVE0D" accepted.
2025-09-28 12:20:18.941 +07:00 [DBG] Connection id "0HNFU9QRFVE0D" started.
2025-09-28 12:20:19.010 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-28 12:20:19.026 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-28 12:20:19.026 +07:00 [DBG] Connection id "0HNFU9QRFVE0C" completed keep alive response.
2025-09-28 12:20:19.028 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 174.9753ms
2025-09-28 12:20:19.043 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-09-28 12:20:19.046 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-28 12:20:19.046 +07:00 [DBG] Connection id "0HNFU9QRFVE0C" completed keep alive response.
2025-09-28 12:20:19.046 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 3.1396ms
2025-09-28 12:20:19.132 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-09-28 12:20:19.430 +07:00 [DBG] Connection id "0HNFU9QRFVE0C" completed keep alive response.
2025-09-28 12:20:19.430 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.76ms
2025-09-28 12:20:19.981 +07:00 [DBG] Connection id "0HNFU9QRFVE0C" received FIN.
2025-09-28 12:20:19.981 +07:00 [DBG] Connection id "0HNFU9QRFVE0D" received FIN.
2025-09-28 12:20:19.982 +07:00 [DBG] Connection id "0HNFU9QRFVE0C" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:20:19.982 +07:00 [DBG] Connection id "0HNFU9QRFVE0D" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:20:19.984 +07:00 [DBG] Connection id "0HNFU9QRFVE0D" disconnecting.
2025-09-28 12:20:19.984 +07:00 [DBG] Connection id "0HNFU9QRFVE0C" disconnecting.
2025-09-28 12:20:19.985 +07:00 [DBG] Connection id "0HNFU9QRFVE0D" stopped.
2025-09-28 12:20:19.985 +07:00 [DBG] Connection id "0HNFU9QRFVE0C" stopped.
2025-09-28 12:20:20.954 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" accepted.
2025-09-28 12:20:20.954 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" started.
2025-09-28 12:20:20.958 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-09-28 12:20:20.960 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-28 12:20:20.960 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-28 12:20:20.960 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" completed keep alive response.
2025-09-28 12:20:20.961 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 2.115ms
2025-09-28 12:20:20.964 +07:00 [DBG] Connection id "0HNFU9QRFVE0F" accepted.
2025-09-28 12:20:20.964 +07:00 [DBG] Connection id "0HNFU9QRFVE0F" started.
2025-09-28 12:20:20.969 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-09-28 12:20:20.971 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-28 12:20:20.971 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" completed keep alive response.
2025-09-28 12:20:20.971 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.0297ms
2025-09-28 12:20:20.999 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-09-28 12:20:21.048 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" completed keep alive response.
2025-09-28 12:20:21.048 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.9359ms
2025-09-28 12:21:04.853 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/auth/login - application/json 105
2025-09-28 12:21:04.857 +07:00 [DBG] POST requests are not supported
2025-09-28 12:21:04.858 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-28 12:21:04.859 +07:00 [DBG] POST requests are not supported
2025-09-28 12:21:04.863 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-09-28 12:21:04.863 +07:00 [INF] CORS policy execution successful.
2025-09-28 12:21:04.948 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-09-28 12:21:04.955 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-09-28 12:21:04.956 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-09-28 12:21:05.029 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-28 12:21:05.043 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-09-28 12:21:05.082 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Entities.DTOs.Auth.LoginDTO) on controller CapBot.api.Controllers.AuthController (CapBot.api).
2025-09-28 12:21:05.085 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 12:21:05.086 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 12:21:05.086 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 12:21:05.086 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 12:21:05.086 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 12:21:05.091 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-09-28 12:21:05.099 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-09-28 12:21:05.105 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-09-28 12:21:05.108 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' using the name '' in request data ...
2025-09-28 12:21:05.110 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:21:05.110 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:21:05.111 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:21:05.111 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 12:21:05.124 +07:00 [DBG] Connection id "0HNFU9QRFVE0E", Request id "0HNFU9QRFVE0E:00000004": started reading request body.
2025-09-28 12:21:05.125 +07:00 [DBG] Connection id "0HNFU9QRFVE0E", Request id "0HNFU9QRFVE0E:00000004": done reading request body.
2025-09-28 12:21:05.137 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Auth.LoginDTO'
2025-09-28 12:21:05.137 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-09-28 12:21:05.137 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-09-28 12:21:05.138 +07:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-09-28 12:21:05.153 +07:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-09-28 12:21:05.253 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:21:05.255 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:21:05.256 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 12:21:05.256 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:21:05.256 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:21:05.257 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:21:05.257 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:21:05.258 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:21:05.258 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:21:05.261 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:21:05.262 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:21:05.263 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:21:05.264 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 12:21:05.264 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:21:05.265 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:21:05.304 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-09-28 12:21:05.377 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Name
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        WHERE u.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 12:21:05.379 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:21:05.379 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:21:05.380 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:21:05.380 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:21:05.380 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:21:05.383 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-09-28 12:21:05.392 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-09-28 12:21:05.398 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:21:05.399 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 6ms reading results.
2025-09-28 12:21:05.399 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:21:05.399 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:21:05.572 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 12:21:05.575 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 12:21:05.576 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 12:21:05.580 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 12:21:05.580 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 12:21:05.670 +07:00 [INF] Executed action CapBot.api.Controllers.AuthController.Login (CapBot.api) in 577.5763ms
2025-09-28 12:21:05.671 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-09-28 12:21:05.677 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" completed keep alive response.
2025-09-28 12:21:05.678 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:21:05.679 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:21:05.679 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:21:05.683 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/auth/login - 200 null application/json; charset=utf-8 830.4673ms
2025-09-28 12:21:40.346 +07:00 [DBG] Connection id "0HNFU9QRFVE0F" received FIN.
2025-09-28 12:21:40.347 +07:00 [DBG] Connection id "0HNFU9QRFVE0F" disconnecting.
2025-09-28 12:21:40.347 +07:00 [DBG] Connection id "0HNFU9QRFVE0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:21:40.352 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-09-28 12:21:40.352 +07:00 [DBG] Connection id "0HNFU9QRFVE0F" stopped.
2025-09-28 12:21:40.353 +07:00 [DBG] Connection id "0HNFU9QRFVE0G" accepted.
2025-09-28 12:21:40.353 +07:00 [DBG] Connection id "0HNFU9QRFVE0G" started.
2025-09-28 12:21:40.353 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-28 12:21:40.354 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-28 12:21:40.355 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" completed keep alive response.
2025-09-28 12:21:40.356 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 3.616ms
2025-09-28 12:21:40.375 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-09-28 12:21:40.377 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-28 12:21:40.377 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" completed keep alive response.
2025-09-28 12:21:40.378 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.097ms
2025-09-28 12:21:40.653 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-09-28 12:21:40.736 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" completed keep alive response.
2025-09-28 12:21:40.737 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.0565ms
2025-09-28 12:22:28.634 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - application/json 113
2025-09-28 12:22:28.634 +07:00 [DBG] POST requests are not supported
2025-09-28 12:22:28.634 +07:00 [DBG] POST requests are not supported
2025-09-28 12:22:28.635 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-09-28 12:22:28.636 +07:00 [INF] CORS policy execution successful.
2025-09-28 12:22:28.643 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:22:28.643 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:22:28.644 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:22:28.686 +07:00 [DBG] Successfully validated the token.
2025-09-28 12:22:28.686 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 12:22:28.691 +07:00 [DBG] Authorization was successful.
2025-09-28 12:22:28.691 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:22:28.697 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 12:22:28.697 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 12:22:28.697 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 12:22:28.697 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 12:22:28.697 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 12:22:28.698 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 12:22:28.698 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:22:28.778 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:22:28.780 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:22:28.781 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 12:22:28.781 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:22:28.781 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:22:28.781 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:22:28.781 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 12:22:28.782 +07:00 [DBG] Connection id "0HNFU9QRFVE0E", Request id "0HNFU9QRFVE0E:00000008": started reading request body.
2025-09-28 12:22:28.783 +07:00 [DBG] Connection id "0HNFU9QRFVE0E", Request id "0HNFU9QRFVE0E:00000008": done reading request body.
2025-09-28 12:22:28.786 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 12:22:28.786 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:22:28.786 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:22:28.786 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:22:28.787 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:22:28.788 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:22:28.788 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name 'assign' in request data ...
2025-09-28 12:22:28.789 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:22:28.789 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:22:28.789 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:22:28.789 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:22:28.791 +07:00 [INF] Processing AI suggestion for SubmissionId: 10
2025-09-28 12:22:28.792 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":10,"MaxSuggestions":1000,"UsePrompt":true,"Deadline":"2025-09-28T05:22:03.6270000Z","$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 12:22:28.809 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:22:28.815 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Include(s => s.Topic)
    .Where(s => s.Id == __input_SubmissionId_0)
    .FirstOrDefault()'
2025-09-28 12:22:28.826 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-09-28 12:22:28.848 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Submission>(
    asyncEnumerable: new SingleQueryingEnumerable<Submission>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Submission.AdditionalNotes (string), 1], [Property: Submission.AiCheckDetails (string), 2], [Property: Submission.AiCheckScore (decimal?), 3], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 4], [Property: Submission.CreatedAt (DateTime) Required, 5], [Property: Submission.CreatedBy (string), 6], [Property: Submission.DeletedAt (DateTime?), 7], [Property: Submission.DocumentUrl (string) MaxLength(500), 8], [Property: Submission.IsActive (bool) Required, 9], [Property: Submission.LastModifiedAt (DateTime?), 10], [Property: Submission.LastModifiedBy (string), 11], [Property: Submission.PhaseId (int) Required FK Index, 12], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 13], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 14], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 15], [Property: Submission.SubmittedBy (int) Required FK Index, 16], [Property: Submission.TopicId (int) Required FK Index, 17], [Property: Submission.TopicVersionId (int?) FK Index, 18] }
                1 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: Topic.Abbreviation (string), 20], [Property: Topic.CategoryId (int?) FK Index, 21], [Property: Topic.Content (string), 22], [Property: Topic.Context (string), 23], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Topic.CreatedBy (string), 25], [Property: Topic.DeletedAt (DateTime?), 26], [Property: Topic.Description (string), 27], [Property: Topic.EN_Title (string) Required MaxLength(500), 28], [Property: Topic.IsActive (bool) Required, 29], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 30], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 31], [Property: Topic.LastModifiedAt (DateTime?), 32], [Property: Topic.LastModifiedBy (string), 33], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 34], [Property: Topic.Objectives (string), 35], [Property: Topic.PotentialDuplicate (string), 36], [Property: Topic.Problem (string), 37], [Property: Topic.SemesterId (int) Required FK Index, 38], [Property: Topic.SupervisorId (int) Required FK Index, 39], [Property: Topic.VN_title (string), 40] }
            SELECT TOP(1) s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title
            FROM submissions AS s
            LEFT JOIN topics AS t ON s.TopicId == t.Id
            WHERE s.Id == @__input_SubmissionId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Submission>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:22:28.850 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:22:28.850 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 12:22:28.850 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:22:28.850 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:22:28.850 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:22:28.850 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:22:28.850 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:22:28.850 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:22:28.871 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:22:28.874 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:22:28.874 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-09-28 12:22:28.874 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:22:28.874 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:22:28.878 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Include(u => u.LecturerSkills)
    .Include(u => u.UserRoles)
    .Include(u => u.ReviewerAssignments)
    .Include(u => u.ReviewerPerformances)
    .Where(u => u.UserRoles
        .Any(r => r.Role != null && r.Role.Name == "Reviewer") && u.LecturerSkills
        .Any())'
2025-09-28 12:22:28.882 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-09-28 12:22:28.882 +07:00 [DBG] Including navigation: 'User.UserRoles'.
2025-09-28 12:22:28.882 +07:00 [DBG] Including navigation: 'User.ReviewerAssignments'.
2025-09-28 12:22:28.883 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-09-28 12:22:28.940 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-28 12:22:28.946 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: LecturerSkill.CreatedBy (string), 21], [Property: LecturerSkill.DeletedAt (DateTime?), 22], [Property: LecturerSkill.IsActive (bool) Required, 23], [Property: LecturerSkill.LastModifiedAt (DateTime?), 24], [Property: LecturerSkill.LastModifiedBy (string), 25], [Property: LecturerSkill.LecturerId (int) Required FK Index, 26], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 27], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 28] }
            3 -> 19
            4 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 29], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 30] }
            5 -> 29
            6 -> 30
            7 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 31], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 32], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 33], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 34], [Property: ReviewerAssignment.CompletedAt (DateTime?), 35], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 36], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 37], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 38], [Property: ReviewerAssignment.StartedAt (DateTime?), 39], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 40], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 41] }
            8 -> 31
            9 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 42], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 43], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 44], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 45], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 46], [Property: ReviewerPerformance.OnTimeRate (decimal?), 47], [Property: ReviewerPerformance.QualityRating (decimal?), 48], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 49], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 50], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 51] }
            10 -> 42
        SELECT u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, l0.Id, l0.CreatedAt, l0.CreatedBy, l0.DeletedAt, l0.IsActive, l0.LastModifiedAt, l0.LastModifiedBy, l0.LecturerId, l0.ProficiencyLevel, l0.SkillTag, u1.UserId, u1.RoleId, r0.Id, r0.AssignedAt, r0.AssignedBy, r0.AssignmentType, r0.CompletedAt, r0.Deadline, r0.ReviewerId, r0.SkillMatchScore, r0.StartedAt, r0.Status, r0.SubmissionId, r1.Id, r1.AverageScoreGiven, r1.AverageTimeMinutes, r1.CompletedAssignments, r1.LastUpdated, r1.OnTimeRate, r1.QualityRating, r1.ReviewerId, r1.SemesterId, r1.TotalAssignments
        FROM users AS u
        LEFT JOIN lecturer_skills AS l0 ON u.Id == l0.LecturerId
        LEFT JOIN user_roles AS u1 ON u.Id == u1.UserId
        LEFT JOIN reviewer_assignments AS r0 ON u.Id == r0.ReviewerId
        LEFT JOIN reviewer_performance AS r1 ON u.Id == r1.ReviewerId
        WHERE EXISTS (
            SELECT 1
            FROM user_roles AS u0
            INNER JOIN roles AS r ON u0.RoleId == r.Id
            WHERE ((u.Id != NULL) && (u.Id == u0.UserId)) && (Not(r.Id == NULL) && (r.Name == N'Reviewer'))) && EXISTS (
            SELECT 1
            FROM lecturer_skills AS l
            WHERE (u.Id != NULL) && (u.Id == l.LecturerId))
        ORDER BY u.Id ASC, l0.Id ASC, u1.UserId ASC, u1.RoleId ASC, r0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 12:22:28.949 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:22:28.949 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:22:28.949 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:22:28.949 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:22:28.949 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:22:28.949 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:22:29.035 +07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:22:29.041 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:22:29.041 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-09-28 12:22:29.041 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:22:29.041 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:22:47.558 +07:00 [DBG] Reviewer 7: skillScore=0 matched=
2025-09-28 12:22:47.564 +07:00 [DBG] Reviewer 7 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:22:56.716 +07:00 [DBG] Reviewer 9: skillScore=0 matched=
2025-09-28 12:22:56.716 +07:00 [DBG] Reviewer 9 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:23:04.872 +07:00 [DBG] Reviewer 10: skillScore=0 matched=
2025-09-28 12:23:04.872 +07:00 [DBG] Reviewer 10 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:23:12.657 +07:00 [DBG] Reviewer 11: skillScore=0 matched=
2025-09-28 12:23:12.658 +07:00 [DBG] Reviewer 11 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:23:21.061 +07:00 [DBG] Reviewer 12: skillScore=0 matched=
2025-09-28 12:23:21.061 +07:00 [DBG] Reviewer 12 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:23:29.042 +07:00 [DBG] Reviewer 13: skillScore=0 matched=
2025-09-28 12:23:29.042 +07:00 [DBG] Reviewer 13 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:23:37.473 +07:00 [DBG] Reviewer 14: skillScore=0 matched=
2025-09-28 12:23:37.473 +07:00 [DBG] Reviewer 14 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:23:46.693 +07:00 [DBG] Reviewer 15: skillScore=0 matched=
2025-09-28 12:23:46.694 +07:00 [DBG] Reviewer 15 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:23:51.917 +07:00 [DBG] Connection id "0HNFU9QRFVE0G" disconnecting.
2025-09-28 12:23:51.917 +07:00 [DBG] Connection id "0HNFU9QRFVE0G" stopped.
2025-09-28 12:23:51.917 +07:00 [DBG] Connection id "0HNFU9QRFVE0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:23:56.657 +07:00 [DBG] Reviewer 16: skillScore=0 matched=
2025-09-28 12:23:56.657 +07:00 [DBG] Reviewer 16 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:23:59.581 +07:00 [DBG] AI explanation generated (preview): Recommendation: rv5@.com, Id:13, Overall:30.0%, SkillMatch:0.0% - Matched tokens are absent; has zero active assignments.
Recommendation: rv6@.com, Id:14, Overall:30.0%, SkillMatch:0.0% - Matched toke...
2025-09-28 12:23:59.582 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 12:23:59.582 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 12:23:59.582 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 12:23:59.582 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 12:23:59.582 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 12:23:59.593 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 90895.2322ms
2025-09-28 12:23:59.593 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:23:59.593 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" completed keep alive response.
2025-09-28 12:23:59.593 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:23:59.593 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:23:59.593 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:23:59.593 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - 200 null application/json; charset=utf-8 90959.6756ms
2025-09-28 12:24:39.067 +07:00 [INF] Application is shutting down...
2025-09-28 12:24:39.069 +07:00 [DBG] Hosting stopping
2025-09-28 12:24:39.084 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" disconnecting.
2025-09-28 12:24:39.084 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" stopped.
2025-09-28 12:24:39.084 +07:00 [DBG] Connection id "0HNFU9QRFVE0E" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:24:39.101 +07:00 [ERR] Li khi kim tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\Admin\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-09-28 12:24:39.140 +07:00 [DBG] Hosting stopped
2025-09-28 12:25:25.453 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-28 12:25:25.520 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-28 12:25:25.670 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.683 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.696 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.697 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.697 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.698 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.846 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.847 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.864 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.865 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.865 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.867 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.871 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.871 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:25:25.906 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-09-28 12:25:25.906 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-09-28 12:25:25.906 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-09-28 12:25:25.906 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-09-28 12:25:25.906 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-28 12:25:25.907 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-28 12:25:26.010 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.010 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.011 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.011 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.011 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.011 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.011 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.011 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.011 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.011 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.011 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:25:26.117 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:25:26.156 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-09-28 12:25:26.255 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:25:26.279 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:25:26.291 +07:00 [DBG] Created DbConnection. (11ms).
2025-09-28 12:25:26.294 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.438 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.441 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:26.444 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-28 12:25:26.449 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-28 12:25:26.453 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:25:26.493 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:25:26.519 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:25:26.534 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.539 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 42ms reading results.
2025-09-28 12:25:26.541 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.543 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-09-28 12:25:26.546 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.547 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.547 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:26.547 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.547 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.547 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:25:26.549 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:25:26.549 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:25:26.549 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.550 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:25:26.550 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.550 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:25:26.550 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.550 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.550 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:26.550 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.550 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.550 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:25:26.552 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:25:26.552 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:25:26.552 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.553 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:25:26.553 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.553 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:25:26.553 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.553 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.553 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:26.553 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.554 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.554 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:25:26.554 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:25:26.555 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:25:26.555 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.555 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:25:26.555 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.555 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:25:26.558 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-28 12:25:26.563 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:25:26.564 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.564 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.564 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:26.564 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.564 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.564 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:25:26.570 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:25:26.587 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:25:26.608 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.608 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 38ms reading results.
2025-09-28 12:25:26.608 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.608 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:25:26.610 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-09-28 12:25:26.612 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.612 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.612 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:26.612 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.612 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.612 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:25:26.613 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:25:26.613 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:25:26.613 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.613 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:25:26.613 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.614 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:25:26.614 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-09-28 12:25:26.614 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.614 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.614 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:26.614 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.615 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.615 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:25:26.616 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:25:26.616 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:25:26.616 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.616 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:25:26.616 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.616 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:25:26.616 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.616 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.617 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:26.617 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.617 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:26.617 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:25:26.617 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:25:26.617 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:25:26.618 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.618 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:25:26.618 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.618 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:25:26.618 +07:00 [INF] Data seeding completed successfully
2025-09-28 12:25:26.619 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:25:26.620 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:26.620 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:25:26.630 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-09-28 12:25:26.744 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-09-28 12:25:26.823 +07:00 [DBG] Hosting starting
2025-09-28 12:25:26.833 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-1d6bcff1-a155-4167-8a22-de35a5f05047.xml'.
2025-09-28 12:25:26.834 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-2459dd29-32d5-4c49-ac9d-33896047bb78.xml'.
2025-09-28 12:25:26.834 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-374624f1-e856-4617-8ae6-fe6a81ce6346.xml'.
2025-09-28 12:25:26.838 +07:00 [DBG] Found key {1d6bcff1-a155-4167-8a22-de35a5f05047}.
2025-09-28 12:25:26.840 +07:00 [DBG] Found key {2459dd29-32d5-4c49-ac9d-33896047bb78}.
2025-09-28 12:25:26.840 +07:00 [DBG] Found key {374624f1-e856-4617-8ae6-fe6a81ce6346}.
2025-09-28 12:25:26.845 +07:00 [DBG] Considering key {2459dd29-32d5-4c49-ac9d-33896047bb78} with expiration date 2025-11-03 12:40:53Z as default key.
2025-09-28 12:25:26.847 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:25:26.847 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-28 12:25:26.848 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:25:26.849 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-28 12:25:26.850 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-28 12:25:26.851 +07:00 [DBG] Using key {2459dd29-32d5-4c49-ac9d-33896047bb78} as the default key.
2025-09-28 12:25:26.852 +07:00 [DBG] Key ring with default key {2459dd29-32d5-4c49-ac9d-33896047bb78} was loaded during application startup.
2025-09-28 12:25:26.855 +07:00 [DBG] Middleware loaded
2025-09-28 12:25:26.856 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-09-28 12:25:26.856 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-28 12:25:26.880 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-28 12:25:26.888 +07:00 [INF] Now listening on: http://localhost:5207
2025-09-28 12:25:26.888 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-09-28 12:25:26.888 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-28 12:25:26.888 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-28 12:25:26.888 +07:00 [INF] Hosting environment: Development
2025-09-28 12:25:26.888 +07:00 [INF] Content root path: C:\Users\Admin\Downloads\CBAI_API\capbot.api
2025-09-28 12:25:26.889 +07:00 [DBG] Hosting started
2025-09-28 12:25:26.958 +07:00 [DBG] Connection id "0HNFU9TNB64KS" accepted.
2025-09-28 12:25:26.959 +07:00 [DBG] Connection id "0HNFU9TNB64KS" started.
2025-09-28 12:25:26.989 +07:00 [DBG] Connection id "0HNFU9TNB64KT" accepted.
2025-09-28 12:25:26.991 +07:00 [DBG] Connection id "0HNFU9TNB64KT" started.
2025-09-28 12:25:26.996 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-09-28 12:25:27.005 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-28 12:25:27.086 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-28 12:25:27.094 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-28 12:25:27.094 +07:00 [DBG] Connection id "0HNFU9TNB64KS" completed keep alive response.
2025-09-28 12:25:27.096 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 102.6537ms
2025-09-28 12:25:27.099 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-09-28 12:25:27.102 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-28 12:25:27.102 +07:00 [DBG] Connection id "0HNFU9TNB64KS" completed keep alive response.
2025-09-28 12:25:27.102 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 3.3286ms
2025-09-28 12:25:27.165 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-09-28 12:25:27.378 +07:00 [DBG] Connection id "0HNFU9TNB64KS" completed keep alive response.
2025-09-28 12:25:27.378 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 213.5369ms
2025-09-28 12:25:39.666 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - application/json 113
2025-09-28 12:25:39.668 +07:00 [DBG] POST requests are not supported
2025-09-28 12:25:39.669 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-28 12:25:39.672 +07:00 [DBG] POST requests are not supported
2025-09-28 12:25:39.674 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-09-28 12:25:39.674 +07:00 [INF] CORS policy execution successful.
2025-09-28 12:25:39.706 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:25:39.707 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:25:39.708 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:25:39.764 +07:00 [DBG] Successfully validated the token.
2025-09-28 12:25:39.766 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 12:25:39.769 +07:00 [DBG] Authorization was successful.
2025-09-28 12:25:39.774 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:25:39.792 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 12:25:39.794 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 12:25:39.795 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 12:25:39.795 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 12:25:39.796 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 12:25:39.796 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 12:25:39.797 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:25:39.870 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:25:39.875 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:25:39.876 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 12:25:39.878 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:25:39.878 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:25:39.878 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:25:39.878 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 12:25:39.887 +07:00 [DBG] Connection id "0HNFU9TNB64KS", Request id "0HNFU9TNB64KS:00000004": started reading request body.
2025-09-28 12:25:39.887 +07:00 [DBG] Connection id "0HNFU9TNB64KS", Request id "0HNFU9TNB64KS:00000004": done reading request body.
2025-09-28 12:25:39.892 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 12:25:39.893 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:25:39.894 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:25:39.894 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:25:39.901 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:25:39.902 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:25:39.903 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name 'assign' in request data ...
2025-09-28 12:25:39.904 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:25:39.905 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:25:39.905 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:25:39.905 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:25:39.910 +07:00 [INF] Processing AI suggestion for SubmissionId: 10
2025-09-28 12:25:39.913 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":10,"MaxSuggestions":1000,"UsePrompt":true,"Deadline":"2025-09-28T05:22:03.6270000Z","$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 12:25:39.971 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:25:39.978 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Include(s => s.Topic)
    .Where(s => s.Id == __input_SubmissionId_0)
    .FirstOrDefault()'
2025-09-28 12:25:39.994 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-09-28 12:25:40.038 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Submission>(
    asyncEnumerable: new SingleQueryingEnumerable<Submission>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Submission.AdditionalNotes (string), 1], [Property: Submission.AiCheckDetails (string), 2], [Property: Submission.AiCheckScore (decimal?), 3], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 4], [Property: Submission.CreatedAt (DateTime) Required, 5], [Property: Submission.CreatedBy (string), 6], [Property: Submission.DeletedAt (DateTime?), 7], [Property: Submission.DocumentUrl (string) MaxLength(500), 8], [Property: Submission.IsActive (bool) Required, 9], [Property: Submission.LastModifiedAt (DateTime?), 10], [Property: Submission.LastModifiedBy (string), 11], [Property: Submission.PhaseId (int) Required FK Index, 12], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 13], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 14], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 15], [Property: Submission.SubmittedBy (int) Required FK Index, 16], [Property: Submission.TopicId (int) Required FK Index, 17], [Property: Submission.TopicVersionId (int?) FK Index, 18] }
                1 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: Topic.Abbreviation (string), 20], [Property: Topic.CategoryId (int?) FK Index, 21], [Property: Topic.Content (string), 22], [Property: Topic.Context (string), 23], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Topic.CreatedBy (string), 25], [Property: Topic.DeletedAt (DateTime?), 26], [Property: Topic.Description (string), 27], [Property: Topic.EN_Title (string) Required MaxLength(500), 28], [Property: Topic.IsActive (bool) Required, 29], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 30], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 31], [Property: Topic.LastModifiedAt (DateTime?), 32], [Property: Topic.LastModifiedBy (string), 33], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 34], [Property: Topic.Objectives (string), 35], [Property: Topic.PotentialDuplicate (string), 36], [Property: Topic.Problem (string), 37], [Property: Topic.SemesterId (int) Required FK Index, 38], [Property: Topic.SupervisorId (int) Required FK Index, 39], [Property: Topic.VN_title (string), 40] }
            SELECT TOP(1) s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title
            FROM submissions AS s
            LEFT JOIN topics AS t ON s.TopicId == t.Id
            WHERE s.Id == @__input_SubmissionId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Submission>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:25:40.043 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:25:40.043 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 12:25:40.044 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:40.044 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:40.044 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:40.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:40.045 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:40.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:25:40.067 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:25:40.071 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:40.072 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-09-28 12:25:40.072 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:40.072 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:25:40.076 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Include(u => u.LecturerSkills)
    .Include(u => u.UserRoles)
    .Include(u => u.ReviewerAssignments)
    .Include(u => u.ReviewerPerformances)
    .Where(u => u.UserRoles
        .Any(r => r.Role != null && r.Role.Name == "Reviewer") && u.LecturerSkills
        .Any())'
2025-09-28 12:25:40.082 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-09-28 12:25:40.082 +07:00 [DBG] Including navigation: 'User.UserRoles'.
2025-09-28 12:25:40.083 +07:00 [DBG] Including navigation: 'User.ReviewerAssignments'.
2025-09-28 12:25:40.083 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-09-28 12:25:40.125 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-28 12:25:40.130 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: LecturerSkill.CreatedBy (string), 21], [Property: LecturerSkill.DeletedAt (DateTime?), 22], [Property: LecturerSkill.IsActive (bool) Required, 23], [Property: LecturerSkill.LastModifiedAt (DateTime?), 24], [Property: LecturerSkill.LastModifiedBy (string), 25], [Property: LecturerSkill.LecturerId (int) Required FK Index, 26], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 27], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 28] }
            3 -> 19
            4 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 29], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 30] }
            5 -> 29
            6 -> 30
            7 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 31], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 32], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 33], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 34], [Property: ReviewerAssignment.CompletedAt (DateTime?), 35], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 36], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 37], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 38], [Property: ReviewerAssignment.StartedAt (DateTime?), 39], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 40], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 41] }
            8 -> 31
            9 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 42], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 43], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 44], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 45], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 46], [Property: ReviewerPerformance.OnTimeRate (decimal?), 47], [Property: ReviewerPerformance.QualityRating (decimal?), 48], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 49], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 50], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 51] }
            10 -> 42
        SELECT u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, l0.Id, l0.CreatedAt, l0.CreatedBy, l0.DeletedAt, l0.IsActive, l0.LastModifiedAt, l0.LastModifiedBy, l0.LecturerId, l0.ProficiencyLevel, l0.SkillTag, u1.UserId, u1.RoleId, r0.Id, r0.AssignedAt, r0.AssignedBy, r0.AssignmentType, r0.CompletedAt, r0.Deadline, r0.ReviewerId, r0.SkillMatchScore, r0.StartedAt, r0.Status, r0.SubmissionId, r1.Id, r1.AverageScoreGiven, r1.AverageTimeMinutes, r1.CompletedAssignments, r1.LastUpdated, r1.OnTimeRate, r1.QualityRating, r1.ReviewerId, r1.SemesterId, r1.TotalAssignments
        FROM users AS u
        LEFT JOIN lecturer_skills AS l0 ON u.Id == l0.LecturerId
        LEFT JOIN user_roles AS u1 ON u.Id == u1.UserId
        LEFT JOIN reviewer_assignments AS r0 ON u.Id == r0.ReviewerId
        LEFT JOIN reviewer_performance AS r1 ON u.Id == r1.ReviewerId
        WHERE EXISTS (
            SELECT 1
            FROM user_roles AS u0
            INNER JOIN roles AS r ON u0.RoleId == r.Id
            WHERE ((u.Id != NULL) && (u.Id == u0.UserId)) && (Not(r.Id == NULL) && (r.Name == N'Reviewer'))) && EXISTS (
            SELECT 1
            FROM lecturer_skills AS l
            WHERE (u.Id != NULL) && (u.Id == l.LecturerId))
        ORDER BY u.Id ASC, l0.Id ASC, u1.UserId ASC, u1.RoleId ASC, r0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 12:25:40.135 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:40.135 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:40.135 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:25:40.135 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:40.135 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:25:40.135 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:25:42.883 +07:00 [INF] Executed DbCommand (2,747ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:25:42.892 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:25:42.892 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 9ms reading results.
2025-09-28 12:25:42.893 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:25:42.894 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-09-28 12:25:59.778 +07:00 [DBG] Reviewer 7: skillScore=0 matched=
2025-09-28 12:25:59.781 +07:00 [DBG] Reviewer 7 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:26:08.106 +07:00 [DBG] Reviewer 9: skillScore=0 matched=
2025-09-28 12:26:08.107 +07:00 [DBG] Reviewer 9 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:26:16.158 +07:00 [DBG] Reviewer 10: skillScore=0 matched=
2025-09-28 12:26:16.159 +07:00 [DBG] Reviewer 10 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:26:23.876 +07:00 [DBG] Reviewer 11: skillScore=0 matched=
2025-09-28 12:26:23.877 +07:00 [DBG] Reviewer 11 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:26:31.329 +07:00 [DBG] Reviewer 12: skillScore=0 matched=
2025-09-28 12:26:31.330 +07:00 [DBG] Reviewer 12 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:26:39.425 +07:00 [DBG] Reviewer 13: skillScore=0 matched=
2025-09-28 12:26:39.426 +07:00 [DBG] Reviewer 13 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:26:48.100 +07:00 [DBG] Reviewer 14: skillScore=0 matched=
2025-09-28 12:26:48.101 +07:00 [DBG] Reviewer 14 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:26:57.598 +07:00 [DBG] Reviewer 15: skillScore=0 matched=
2025-09-28 12:26:57.599 +07:00 [DBG] Reviewer 15 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:27:06.368 +07:00 [DBG] Reviewer 16: skillScore=0 matched=
2025-09-28 12:27:06.368 +07:00 [DBG] Reviewer 16 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:27:08.769 +07:00 [DBG] AI explanation generated (preview): Recommendation: rv5@.com, Id:13, Overall:30.0%, SkillMatch:0.0%, Rationale: No matched skills; lowest active assignments (0) and decent overall score.
Recommendation: rv6@.com, Id:14, Overall:30.0%, S...
2025-09-28 12:27:08.772 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 12:27:08.774 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 12:27:08.774 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 12:27:08.775 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 12:27:08.777 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 12:27:08.814 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 89015.9352ms
2025-09-28 12:27:08.814 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:27:08.816 +07:00 [DBG] Connection id "0HNFU9TNB64KS" completed keep alive response.
2025-09-28 12:27:08.816 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:27:08.816 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:27:08.816 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:27:08.817 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - 200 null application/json; charset=utf-8 89151.4409ms
2025-09-28 12:27:38.809 +07:00 [DBG] Connection id "0HNFU9TNB64KT" disconnecting.
2025-09-28 12:27:38.810 +07:00 [DBG] Connection id "0HNFU9TNB64KT" stopped.
2025-09-28 12:27:38.811 +07:00 [DBG] Connection id "0HNFU9TNB64KT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:29:20.591 +07:00 [DBG] Connection id "0HNFU9TNB64KS" disconnecting.
2025-09-28 12:29:20.592 +07:00 [DBG] Connection id "0HNFU9TNB64KS" stopped.
2025-09-28 12:29:20.592 +07:00 [DBG] Connection id "0HNFU9TNB64KS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:34:04.192 +07:00 [INF] Application is shutting down...
2025-09-28 12:34:04.195 +07:00 [DBG] Hosting stopping
2025-09-28 12:34:04.208 +07:00 [ERR] Li khi kim tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\Admin\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-09-28 12:34:04.243 +07:00 [DBG] Hosting stopped
2025-09-28 12:34:15.282 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-28 12:34:15.340 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-28 12:34:15.511 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.524 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.537 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.538 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.538 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.540 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.692 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.693 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.706 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.706 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.706 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.707 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.714 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.715 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:34:15.752 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-09-28 12:34:15.753 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-09-28 12:34:15.753 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-09-28 12:34:15.753 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-09-28 12:34:15.753 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-09-28 12:34:15.753 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-09-28 12:34:15.753 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-09-28 12:34:15.753 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-09-28 12:34:15.753 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-09-28 12:34:15.754 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-09-28 12:34:15.754 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-09-28 12:34:15.754 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-09-28 12:34:15.754 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-09-28 12:34:15.754 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-09-28 12:34:15.754 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-09-28 12:34:15.754 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-09-28 12:34:15.754 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-09-28 12:34:15.755 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-28 12:34:15.755 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-28 12:34:15.860 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.860 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.861 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.861 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.861 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.861 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.861 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.862 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.862 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.862 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.862 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:34:15.971 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:34:16.009 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-09-28 12:34:16.113 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:34:16.137 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:34:16.148 +07:00 [DBG] Created DbConnection. (9ms).
2025-09-28 12:34:16.150 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.297 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.299 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:16.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-28 12:34:16.308 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2025-09-28 12:34:16.313 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:34:16.353 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:34:16.380 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:34:16.395 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.400 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 43ms reading results.
2025-09-28 12:34:16.401 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.405 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (3ms).
2025-09-28 12:34:16.406 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.407 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.407 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:16.407 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.407 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.407 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:34:16.409 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:34:16.410 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:34:16.410 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.411 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:34:16.411 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.411 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:34:16.411 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.411 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.411 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:16.412 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.412 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.412 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:34:16.413 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:34:16.413 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:34:16.413 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.413 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:34:16.414 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.414 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:34:16.414 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.414 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.414 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:16.414 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.414 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.414 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:34:16.415 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:34:16.415 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:34:16.415 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.415 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:34:16.415 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.415 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:34:16.419 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-28 12:34:16.424 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:34:16.425 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.425 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.425 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:16.426 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.426 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.426 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:34:16.435 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:34:16.453 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:34:16.474 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.474 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 39ms reading results.
2025-09-28 12:34:16.474 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.474 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:34:16.477 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-09-28 12:34:16.479 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.479 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.480 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:16.480 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.480 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.480 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:34:16.481 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:34:16.481 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:34:16.482 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.482 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:34:16.482 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.482 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:34:16.482 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-09-28 12:34:16.482 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.482 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.482 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:16.482 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.482 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.482 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:34:16.483 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:34:16.483 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:34:16.484 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.484 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:34:16.484 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.484 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:34:16.484 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.484 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.484 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:16.484 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.484 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:16.485 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:34:16.485 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:34:16.486 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:34:16.486 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.486 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:34:16.486 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.486 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:34:16.487 +07:00 [INF] Data seeding completed successfully
2025-09-28 12:34:16.488 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:34:16.489 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:16.490 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:34:16.499 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-09-28 12:34:16.603 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-09-28 12:34:16.676 +07:00 [DBG] Hosting starting
2025-09-28 12:34:16.682 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-1d6bcff1-a155-4167-8a22-de35a5f05047.xml'.
2025-09-28 12:34:16.683 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-2459dd29-32d5-4c49-ac9d-33896047bb78.xml'.
2025-09-28 12:34:16.684 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-374624f1-e856-4617-8ae6-fe6a81ce6346.xml'.
2025-09-28 12:34:16.687 +07:00 [DBG] Found key {1d6bcff1-a155-4167-8a22-de35a5f05047}.
2025-09-28 12:34:16.690 +07:00 [DBG] Found key {2459dd29-32d5-4c49-ac9d-33896047bb78}.
2025-09-28 12:34:16.690 +07:00 [DBG] Found key {374624f1-e856-4617-8ae6-fe6a81ce6346}.
2025-09-28 12:34:16.693 +07:00 [DBG] Considering key {2459dd29-32d5-4c49-ac9d-33896047bb78} with expiration date 2025-11-03 12:40:53Z as default key.
2025-09-28 12:34:16.696 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:34:16.696 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-28 12:34:16.697 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:34:16.698 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-28 12:34:16.699 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-28 12:34:16.699 +07:00 [DBG] Using key {2459dd29-32d5-4c49-ac9d-33896047bb78} as the default key.
2025-09-28 12:34:16.700 +07:00 [DBG] Key ring with default key {2459dd29-32d5-4c49-ac9d-33896047bb78} was loaded during application startup.
2025-09-28 12:34:16.704 +07:00 [DBG] Middleware loaded
2025-09-28 12:34:16.705 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-09-28 12:34:16.706 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-28 12:34:16.730 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-28 12:34:16.738 +07:00 [INF] Now listening on: http://localhost:5207
2025-09-28 12:34:16.739 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-09-28 12:34:16.739 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-28 12:34:16.739 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-28 12:34:16.739 +07:00 [INF] Hosting environment: Development
2025-09-28 12:34:16.740 +07:00 [INF] Content root path: C:\Users\Admin\Downloads\CBAI_API\capbot.api
2025-09-28 12:34:16.741 +07:00 [DBG] Hosting started
2025-09-28 12:34:16.810 +07:00 [DBG] Connection id "0HNFUA2L88946" accepted.
2025-09-28 12:34:16.811 +07:00 [DBG] Connection id "0HNFUA2L88946" started.
2025-09-28 12:34:16.838 +07:00 [DBG] Connection id "0HNFUA2L88947" accepted.
2025-09-28 12:34:16.838 +07:00 [DBG] Connection id "0HNFUA2L88947" started.
2025-09-28 12:34:16.843 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-09-28 12:34:16.849 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-28 12:34:16.924 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-28 12:34:16.931 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-28 12:34:16.932 +07:00 [DBG] Connection id "0HNFUA2L88946" completed keep alive response.
2025-09-28 12:34:16.933 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 92.479ms
2025-09-28 12:34:16.939 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-09-28 12:34:16.941 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-28 12:34:16.941 +07:00 [DBG] Connection id "0HNFUA2L88946" completed keep alive response.
2025-09-28 12:34:16.942 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.7066ms
2025-09-28 12:34:16.993 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-09-28 12:34:17.217 +07:00 [DBG] Connection id "0HNFUA2L88946" completed keep alive response.
2025-09-28 12:34:17.217 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 224.2865ms
2025-09-28 12:34:23.985 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - application/json 113
2025-09-28 12:34:23.986 +07:00 [DBG] POST requests are not supported
2025-09-28 12:34:23.990 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-28 12:34:23.990 +07:00 [DBG] POST requests are not supported
2025-09-28 12:34:23.994 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-09-28 12:34:23.994 +07:00 [INF] CORS policy execution successful.
2025-09-28 12:34:24.017 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:34:24.018 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:34:24.019 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:34:24.061 +07:00 [DBG] Successfully validated the token.
2025-09-28 12:34:24.062 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 12:34:24.065 +07:00 [DBG] Authorization was successful.
2025-09-28 12:34:24.069 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:34:24.079 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 12:34:24.080 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 12:34:24.080 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 12:34:24.081 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 12:34:24.081 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 12:34:24.081 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 12:34:24.083 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:34:24.155 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:34:24.169 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:34:24.171 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 12:34:24.173 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:34:24.173 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:34:24.173 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:34:24.173 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 12:34:24.182 +07:00 [DBG] Connection id "0HNFUA2L88946", Request id "0HNFUA2L88946:00000004": started reading request body.
2025-09-28 12:34:24.182 +07:00 [DBG] Connection id "0HNFUA2L88946", Request id "0HNFUA2L88946:00000004": done reading request body.
2025-09-28 12:34:24.187 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 12:34:24.188 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:34:24.188 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:34:24.188 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:34:24.195 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:34:24.196 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:34:24.197 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name 'assign' in request data ...
2025-09-28 12:34:24.197 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:34:24.198 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:34:24.198 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:34:24.198 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:34:24.201 +07:00 [INF] Processing AI suggestion for SubmissionId: 10
2025-09-28 12:34:24.203 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":10,"MaxSuggestions":1000,"UsePrompt":true,"Deadline":"2025-09-28T05:22:03.6270000Z","$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 12:34:24.253 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:34:24.259 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Include(s => s.Topic)
    .Where(s => s.Id == __input_SubmissionId_0)
    .FirstOrDefault()'
2025-09-28 12:34:24.265 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-09-28 12:34:24.295 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Submission>(
    asyncEnumerable: new SingleQueryingEnumerable<Submission>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Submission.AdditionalNotes (string), 1], [Property: Submission.AiCheckDetails (string), 2], [Property: Submission.AiCheckScore (decimal?), 3], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 4], [Property: Submission.CreatedAt (DateTime) Required, 5], [Property: Submission.CreatedBy (string), 6], [Property: Submission.DeletedAt (DateTime?), 7], [Property: Submission.DocumentUrl (string) MaxLength(500), 8], [Property: Submission.IsActive (bool) Required, 9], [Property: Submission.LastModifiedAt (DateTime?), 10], [Property: Submission.LastModifiedBy (string), 11], [Property: Submission.PhaseId (int) Required FK Index, 12], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 13], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 14], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 15], [Property: Submission.SubmittedBy (int) Required FK Index, 16], [Property: Submission.TopicId (int) Required FK Index, 17], [Property: Submission.TopicVersionId (int?) FK Index, 18] }
                1 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: Topic.Abbreviation (string), 20], [Property: Topic.CategoryId (int?) FK Index, 21], [Property: Topic.Content (string), 22], [Property: Topic.Context (string), 23], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Topic.CreatedBy (string), 25], [Property: Topic.DeletedAt (DateTime?), 26], [Property: Topic.Description (string), 27], [Property: Topic.EN_Title (string) Required MaxLength(500), 28], [Property: Topic.IsActive (bool) Required, 29], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 30], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 31], [Property: Topic.LastModifiedAt (DateTime?), 32], [Property: Topic.LastModifiedBy (string), 33], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 34], [Property: Topic.Objectives (string), 35], [Property: Topic.PotentialDuplicate (string), 36], [Property: Topic.Problem (string), 37], [Property: Topic.SemesterId (int) Required FK Index, 38], [Property: Topic.SupervisorId (int) Required FK Index, 39], [Property: Topic.VN_title (string), 40] }
            SELECT TOP(1) s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title
            FROM submissions AS s
            LEFT JOIN topics AS t ON s.TopicId == t.Id
            WHERE s.Id == @__input_SubmissionId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Submission>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:34:24.300 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:34:24.300 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 12:34:24.300 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:24.300 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:24.300 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:24.300 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:24.300 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:24.301 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:34:24.318 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:34:24.322 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:24.322 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-09-28 12:34:24.322 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:24.322 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:34:24.327 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Include(u => u.LecturerSkills)
    .Include(u => u.UserRoles)
    .Include(u => u.ReviewerAssignments)
    .Include(u => u.ReviewerPerformances)
    .Where(u => u.UserRoles
        .Any(r => r.Role != null && r.Role.Name == "Reviewer") && u.LecturerSkills
        .Any())'
2025-09-28 12:34:24.332 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-09-28 12:34:24.332 +07:00 [DBG] Including navigation: 'User.UserRoles'.
2025-09-28 12:34:24.332 +07:00 [DBG] Including navigation: 'User.ReviewerAssignments'.
2025-09-28 12:34:24.333 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-09-28 12:34:24.372 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-28 12:34:24.378 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: LecturerSkill.CreatedBy (string), 21], [Property: LecturerSkill.DeletedAt (DateTime?), 22], [Property: LecturerSkill.IsActive (bool) Required, 23], [Property: LecturerSkill.LastModifiedAt (DateTime?), 24], [Property: LecturerSkill.LastModifiedBy (string), 25], [Property: LecturerSkill.LecturerId (int) Required FK Index, 26], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 27], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 28] }
            3 -> 19
            4 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 29], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 30] }
            5 -> 29
            6 -> 30
            7 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 31], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 32], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 33], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 34], [Property: ReviewerAssignment.CompletedAt (DateTime?), 35], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 36], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 37], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 38], [Property: ReviewerAssignment.StartedAt (DateTime?), 39], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 40], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 41] }
            8 -> 31
            9 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 42], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 43], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 44], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 45], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 46], [Property: ReviewerPerformance.OnTimeRate (decimal?), 47], [Property: ReviewerPerformance.QualityRating (decimal?), 48], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 49], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 50], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 51] }
            10 -> 42
        SELECT u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, l0.Id, l0.CreatedAt, l0.CreatedBy, l0.DeletedAt, l0.IsActive, l0.LastModifiedAt, l0.LastModifiedBy, l0.LecturerId, l0.ProficiencyLevel, l0.SkillTag, u1.UserId, u1.RoleId, r0.Id, r0.AssignedAt, r0.AssignedBy, r0.AssignmentType, r0.CompletedAt, r0.Deadline, r0.ReviewerId, r0.SkillMatchScore, r0.StartedAt, r0.Status, r0.SubmissionId, r1.Id, r1.AverageScoreGiven, r1.AverageTimeMinutes, r1.CompletedAssignments, r1.LastUpdated, r1.OnTimeRate, r1.QualityRating, r1.ReviewerId, r1.SemesterId, r1.TotalAssignments
        FROM users AS u
        LEFT JOIN lecturer_skills AS l0 ON u.Id == l0.LecturerId
        LEFT JOIN user_roles AS u1 ON u.Id == u1.UserId
        LEFT JOIN reviewer_assignments AS r0 ON u.Id == r0.ReviewerId
        LEFT JOIN reviewer_performance AS r1 ON u.Id == r1.ReviewerId
        WHERE EXISTS (
            SELECT 1
            FROM user_roles AS u0
            INNER JOIN roles AS r ON u0.RoleId == r.Id
            WHERE ((u.Id != NULL) && (u.Id == u0.UserId)) && (Not(r.Id == NULL) && (r.Name == N'Reviewer'))) && EXISTS (
            SELECT 1
            FROM lecturer_skills AS l
            WHERE (u.Id != NULL) && (u.Id == l.LecturerId))
        ORDER BY u.Id ASC, l0.Id ASC, u1.UserId ASC, u1.RoleId ASC, r0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 12:34:24.384 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:24.385 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:24.385 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:34:24.385 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:24.385 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:34:24.386 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:34:24.493 +07:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:34:24.501 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:34:24.502 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 7ms reading results.
2025-09-28 12:34:24.502 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:24.502 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:34:25.783 +07:00 [DBG] Reviewer 7: skillScore=0 matched=
2025-09-28 12:34:25.785 +07:00 [DBG] Reviewer 7 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:34:26.006 +07:00 [DBG] Reviewer 9: skillScore=0 matched=
2025-09-28 12:34:26.007 +07:00 [DBG] Reviewer 9 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:34:26.890 +07:00 [DBG] Reviewer 10: skillScore=0 matched=
2025-09-28 12:34:26.891 +07:00 [DBG] Reviewer 10 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:34:27.114 +07:00 [DBG] Reviewer 11: skillScore=0 matched=
2025-09-28 12:34:27.114 +07:00 [DBG] Reviewer 11 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:34:27.992 +07:00 [DBG] Reviewer 12: skillScore=0 matched=
2025-09-28 12:34:27.992 +07:00 [DBG] Reviewer 12 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:34:28.165 +07:00 [DBG] Reviewer 13: skillScore=0 matched=
2025-09-28 12:34:28.165 +07:00 [DBG] Reviewer 13 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:34:28.234 +07:00 [DBG] Reviewer 14: skillScore=0 matched=
2025-09-28 12:34:28.234 +07:00 [DBG] Reviewer 14 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:34:28.340 +07:00 [DBG] Reviewer 15: skillScore=0 matched=
2025-09-28 12:34:28.340 +07:00 [DBG] Reviewer 15 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:34:28.472 +07:00 [DBG] Reviewer 16: skillScore=0 matched=
2025-09-28 12:34:28.472 +07:00 [DBG] Reviewer 16 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:34:28.558 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 12:34:28.559 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 12:34:28.560 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 12:34:28.561 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 12:34:28.561 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 12:34:28.597 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 4513.435ms
2025-09-28 12:34:28.597 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:34:28.599 +07:00 [DBG] Connection id "0HNFUA2L88946" completed keep alive response.
2025-09-28 12:34:28.599 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:34:28.599 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:34:28.599 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:34:28.600 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - 200 null application/json; charset=utf-8 4615.2951ms
2025-09-28 12:35:10.238 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - application/json 113
2025-09-28 12:35:10.238 +07:00 [DBG] POST requests are not supported
2025-09-28 12:35:10.238 +07:00 [DBG] POST requests are not supported
2025-09-28 12:35:10.238 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-09-28 12:35:10.238 +07:00 [INF] CORS policy execution successful.
2025-09-28 12:35:10.242 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:35:10.242 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:35:10.242 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:35:10.244 +07:00 [DBG] Successfully validated the token.
2025-09-28 12:35:10.244 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 12:35:10.245 +07:00 [DBG] Authorization was successful.
2025-09-28 12:35:10.246 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:35:10.246 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 12:35:10.246 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 12:35:10.247 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 12:35:10.247 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 12:35:10.247 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 12:35:10.247 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 12:35:10.247 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:35:10.248 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:35:10.248 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:35:10.249 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 12:35:10.249 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:35:10.249 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:35:10.249 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:35:10.249 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 12:35:10.249 +07:00 [DBG] Connection id "0HNFUA2L88946", Request id "0HNFUA2L88946:00000005": started reading request body.
2025-09-28 12:35:10.249 +07:00 [DBG] Connection id "0HNFUA2L88946", Request id "0HNFUA2L88946:00000005": done reading request body.
2025-09-28 12:35:10.249 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 12:35:10.249 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:35:10.249 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:35:10.249 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:35:10.250 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:35:10.250 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:35:10.250 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name 'assign' in request data ...
2025-09-28 12:35:10.251 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:35:10.251 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:35:10.251 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:35:10.251 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:35:10.251 +07:00 [INF] Processing AI suggestion for SubmissionId: 10
2025-09-28 12:35:10.252 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":10,"MaxSuggestions":1000,"UsePrompt":true,"Deadline":"2025-09-28T05:22:03.6270000Z","$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 12:35:10.261 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:35:10.262 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:35:10.262 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 12:35:10.263 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:35:10.263 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:35:10.263 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:35:10.263 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:35:10.263 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:35:10.263 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:35:10.280 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:35:10.281 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:35:10.281 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:35:10.281 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:35:10.281 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:35:10.282 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:35:10.282 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:35:10.282 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:35:10.282 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:35:10.282 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:35:10.282 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:35:10.385 +07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:35:10.391 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:35:10.391 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-09-28 12:35:10.391 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:35:10.392 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:35:10.575 +07:00 [DBG] Reviewer 7: skillScore=0 matched=
2025-09-28 12:35:10.575 +07:00 [DBG] Reviewer 7 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:35:10.642 +07:00 [DBG] Reviewer 9: skillScore=0 matched=
2025-09-28 12:35:10.642 +07:00 [DBG] Reviewer 9 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:35:10.787 +07:00 [DBG] Reviewer 10: skillScore=0 matched=
2025-09-28 12:35:10.787 +07:00 [DBG] Reviewer 10 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:35:10.851 +07:00 [DBG] Reviewer 11: skillScore=0 matched=
2025-09-28 12:35:10.851 +07:00 [DBG] Reviewer 11 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:35:10.967 +07:00 [DBG] Reviewer 12: skillScore=0 matched=
2025-09-28 12:35:10.967 +07:00 [DBG] Reviewer 12 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:35:11.039 +07:00 [DBG] Reviewer 13: skillScore=0 matched=
2025-09-28 12:35:11.039 +07:00 [DBG] Reviewer 13 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:35:11.098 +07:00 [DBG] Reviewer 14: skillScore=0 matched=
2025-09-28 12:35:11.098 +07:00 [DBG] Reviewer 14 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:35:11.164 +07:00 [DBG] Reviewer 15: skillScore=0 matched=
2025-09-28 12:35:11.164 +07:00 [DBG] Reviewer 15 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:35:11.227 +07:00 [DBG] Reviewer 16: skillScore=0 matched=
2025-09-28 12:35:11.227 +07:00 [DBG] Reviewer 16 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:35:11.301 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 12:35:11.302 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 12:35:11.302 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 12:35:11.303 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 12:35:11.303 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 12:35:11.304 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 1057.5589ms
2025-09-28 12:35:11.304 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:35:11.305 +07:00 [DBG] Connection id "0HNFUA2L88946" completed keep alive response.
2025-09-28 12:35:11.305 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:35:11.305 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:35:11.305 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:35:11.306 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - 200 null application/json; charset=utf-8 1067.6078ms
2025-09-28 12:35:36.289 +07:00 [INF] Application is shutting down...
2025-09-28 12:35:36.292 +07:00 [DBG] Hosting stopping
2025-09-28 12:35:36.300 +07:00 [DBG] Connection id "0HNFUA2L88946" disconnecting.
2025-09-28 12:35:36.301 +07:00 [DBG] Connection id "0HNFUA2L88947" disconnecting.
2025-09-28 12:35:36.302 +07:00 [DBG] Connection id "0HNFUA2L88947" stopped.
2025-09-28 12:35:36.302 +07:00 [DBG] Connection id "0HNFUA2L88946" stopped.
2025-09-28 12:35:36.305 +07:00 [DBG] Connection id "0HNFUA2L88947" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:35:36.305 +07:00 [DBG] Connection id "0HNFUA2L88946" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:35:36.310 +07:00 [ERR] Li khi kim tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\Admin\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-09-28 12:35:36.326 +07:00 [DBG] Hosting stopped
2025-09-28 12:42:20.027 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-28 12:42:20.089 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-28 12:42:20.251 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.265 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.278 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.280 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.280 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.282 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.442 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.442 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.456 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.457 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.457 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.459 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.463 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.463 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:42:20.500 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-09-28 12:42:20.500 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-09-28 12:42:20.500 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-09-28 12:42:20.500 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-09-28 12:42:20.500 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-09-28 12:42:20.500 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-09-28 12:42:20.500 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-09-28 12:42:20.500 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-09-28 12:42:20.500 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-09-28 12:42:20.501 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-09-28 12:42:20.501 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-09-28 12:42:20.501 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-09-28 12:42:20.501 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-09-28 12:42:20.502 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-09-28 12:42:20.502 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-09-28 12:42:20.502 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-09-28 12:42:20.502 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-09-28 12:42:20.502 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-28 12:42:20.502 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-28 12:42:20.630 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.631 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.631 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.631 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.631 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.631 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.631 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.631 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.631 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.632 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.632 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:42:20.738 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:42:20.781 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-09-28 12:42:20.886 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:42:20.910 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:42:20.923 +07:00 [DBG] Created DbConnection. (11ms).
2025-09-28 12:42:20.926 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.071 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.073 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:21.076 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-28 12:42:21.081 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-28 12:42:21.087 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:42:21.126 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:42:21.156 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:42:21.170 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.174 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 45ms reading results.
2025-09-28 12:42:21.176 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.179 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-09-28 12:42:21.180 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.181 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.181 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:21.181 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.182 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.182 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:42:21.184 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:42:21.184 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:42:21.184 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.185 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:42:21.185 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.185 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:42:21.185 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.185 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.185 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:21.185 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.185 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.185 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:42:21.186 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:42:21.186 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:42:21.186 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.187 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:42:21.187 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.187 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:42:21.187 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.187 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.187 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:21.187 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.187 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.187 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:42:21.188 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:42:21.188 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:42:21.189 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.189 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:42:21.189 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.189 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:42:21.192 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-28 12:42:21.197 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:42:21.198 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.198 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.198 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:21.198 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.198 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.198 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:42:21.206 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:42:21.225 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:42:21.248 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.248 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 42ms reading results.
2025-09-28 12:42:21.248 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.249 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:42:21.251 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-09-28 12:42:21.253 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.253 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.253 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:21.253 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.253 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.253 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:42:21.254 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:42:21.254 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:42:21.255 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.255 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:42:21.255 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.255 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:42:21.255 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-09-28 12:42:21.255 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.255 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.255 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:21.255 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.255 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:42:21.256 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:42:21.256 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:42:21.256 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.256 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:42:21.256 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.256 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:42:21.257 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.257 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.257 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:21.257 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.257 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:21.258 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:42:21.259 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:42:21.259 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:42:21.260 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.260 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:42:21.260 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.260 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:42:21.260 +07:00 [INF] Data seeding completed successfully
2025-09-28 12:42:21.261 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:42:21.262 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:21.263 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:42:21.272 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-09-28 12:42:21.383 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-09-28 12:42:21.470 +07:00 [DBG] Hosting starting
2025-09-28 12:42:21.478 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-1d6bcff1-a155-4167-8a22-de35a5f05047.xml'.
2025-09-28 12:42:21.479 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-2459dd29-32d5-4c49-ac9d-33896047bb78.xml'.
2025-09-28 12:42:21.480 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-374624f1-e856-4617-8ae6-fe6a81ce6346.xml'.
2025-09-28 12:42:21.482 +07:00 [DBG] Found key {1d6bcff1-a155-4167-8a22-de35a5f05047}.
2025-09-28 12:42:21.484 +07:00 [DBG] Found key {2459dd29-32d5-4c49-ac9d-33896047bb78}.
2025-09-28 12:42:21.485 +07:00 [DBG] Found key {374624f1-e856-4617-8ae6-fe6a81ce6346}.
2025-09-28 12:42:21.489 +07:00 [DBG] Considering key {2459dd29-32d5-4c49-ac9d-33896047bb78} with expiration date 2025-11-03 12:40:53Z as default key.
2025-09-28 12:42:21.490 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:42:21.491 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-28 12:42:21.492 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:42:21.493 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-28 12:42:21.494 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-28 12:42:21.495 +07:00 [DBG] Using key {2459dd29-32d5-4c49-ac9d-33896047bb78} as the default key.
2025-09-28 12:42:21.495 +07:00 [DBG] Key ring with default key {2459dd29-32d5-4c49-ac9d-33896047bb78} was loaded during application startup.
2025-09-28 12:42:21.499 +07:00 [DBG] Middleware loaded
2025-09-28 12:42:21.500 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-09-28 12:42:21.501 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-28 12:42:21.525 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-28 12:42:21.532 +07:00 [INF] Now listening on: http://localhost:5207
2025-09-28 12:42:21.533 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-09-28 12:42:21.533 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-28 12:42:21.533 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-28 12:42:21.533 +07:00 [INF] Hosting environment: Development
2025-09-28 12:42:21.533 +07:00 [INF] Content root path: C:\Users\Admin\Downloads\CBAI_API\capbot.api
2025-09-28 12:42:21.534 +07:00 [DBG] Hosting started
2025-09-28 12:42:21.600 +07:00 [DBG] Connection id "0HNFUA75NI7QI" accepted.
2025-09-28 12:42:21.601 +07:00 [DBG] Connection id "0HNFUA75NI7QI" started.
2025-09-28 12:42:21.626 +07:00 [DBG] Connection id "0HNFUA75NI7QJ" accepted.
2025-09-28 12:42:21.627 +07:00 [DBG] Connection id "0HNFUA75NI7QJ" started.
2025-09-28 12:42:21.627 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-09-28 12:42:21.634 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-28 12:42:21.714 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-28 12:42:21.721 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-28 12:42:21.722 +07:00 [DBG] Connection id "0HNFUA75NI7QI" completed keep alive response.
2025-09-28 12:42:21.724 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 99.4887ms
2025-09-28 12:42:21.726 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-09-28 12:42:21.727 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-28 12:42:21.728 +07:00 [DBG] Connection id "0HNFUA75NI7QI" completed keep alive response.
2025-09-28 12:42:21.728 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 1.8778ms
2025-09-28 12:42:21.776 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-09-28 12:42:22.010 +07:00 [DBG] Connection id "0HNFUA75NI7QI" completed keep alive response.
2025-09-28 12:42:22.011 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 234.2083ms
2025-09-28 12:42:42.915 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - application/json 113
2025-09-28 12:42:42.920 +07:00 [DBG] POST requests are not supported
2025-09-28 12:42:42.922 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-28 12:42:42.923 +07:00 [DBG] POST requests are not supported
2025-09-28 12:42:42.924 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-09-28 12:42:42.925 +07:00 [INF] CORS policy execution successful.
2025-09-28 12:42:42.954 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:42:42.955 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:42:42.955 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:42:42.998 +07:00 [DBG] Successfully validated the token.
2025-09-28 12:42:42.999 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 12:42:43.002 +07:00 [DBG] Authorization was successful.
2025-09-28 12:42:43.006 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:42:43.017 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 12:42:43.018 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 12:42:43.019 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 12:42:43.019 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 12:42:43.019 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 12:42:43.020 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 12:42:43.021 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:42:43.086 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:42:43.089 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:42:43.091 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 12:42:43.091 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:42:43.092 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:42:43.092 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:42:43.092 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 12:42:43.098 +07:00 [DBG] Connection id "0HNFUA75NI7QI", Request id "0HNFUA75NI7QI:00000004": started reading request body.
2025-09-28 12:42:43.098 +07:00 [DBG] Connection id "0HNFUA75NI7QI", Request id "0HNFUA75NI7QI:00000004": done reading request body.
2025-09-28 12:42:43.103 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 12:42:43.104 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:42:43.104 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:42:43.105 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:42:43.111 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:42:43.114 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:42:43.116 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name 'assign' in request data ...
2025-09-28 12:42:43.118 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:42:43.119 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:42:43.119 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:42:43.119 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:42:43.123 +07:00 [INF] Processing AI suggestion for SubmissionId: 10
2025-09-28 12:42:43.125 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":10,"MaxSuggestions":1000,"UsePrompt":true,"Deadline":"2025-09-28T05:22:03.6270000Z","$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 12:42:43.174 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:42:43.182 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Include(s => s.Topic)
    .Where(s => s.Id == __input_SubmissionId_0)
    .FirstOrDefault()'
2025-09-28 12:42:43.193 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-09-28 12:42:43.225 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Submission>(
    asyncEnumerable: new SingleQueryingEnumerable<Submission>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Submission.AdditionalNotes (string), 1], [Property: Submission.AiCheckDetails (string), 2], [Property: Submission.AiCheckScore (decimal?), 3], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 4], [Property: Submission.CreatedAt (DateTime) Required, 5], [Property: Submission.CreatedBy (string), 6], [Property: Submission.DeletedAt (DateTime?), 7], [Property: Submission.DocumentUrl (string) MaxLength(500), 8], [Property: Submission.IsActive (bool) Required, 9], [Property: Submission.LastModifiedAt (DateTime?), 10], [Property: Submission.LastModifiedBy (string), 11], [Property: Submission.PhaseId (int) Required FK Index, 12], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 13], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 14], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 15], [Property: Submission.SubmittedBy (int) Required FK Index, 16], [Property: Submission.TopicId (int) Required FK Index, 17], [Property: Submission.TopicVersionId (int?) FK Index, 18] }
                1 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: Topic.Abbreviation (string), 20], [Property: Topic.CategoryId (int?) FK Index, 21], [Property: Topic.Content (string), 22], [Property: Topic.Context (string), 23], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Topic.CreatedBy (string), 25], [Property: Topic.DeletedAt (DateTime?), 26], [Property: Topic.Description (string), 27], [Property: Topic.EN_Title (string) Required MaxLength(500), 28], [Property: Topic.IsActive (bool) Required, 29], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 30], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 31], [Property: Topic.LastModifiedAt (DateTime?), 32], [Property: Topic.LastModifiedBy (string), 33], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 34], [Property: Topic.Objectives (string), 35], [Property: Topic.PotentialDuplicate (string), 36], [Property: Topic.Problem (string), 37], [Property: Topic.SemesterId (int) Required FK Index, 38], [Property: Topic.SupervisorId (int) Required FK Index, 39], [Property: Topic.VN_title (string), 40] }
            SELECT TOP(1) s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title
            FROM submissions AS s
            LEFT JOIN topics AS t ON s.TopicId == t.Id
            WHERE s.Id == @__input_SubmissionId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Submission>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:42:43.229 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:42:43.229 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 12:42:43.229 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:43.229 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:43.229 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:43.229 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:43.230 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:43.230 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:42:43.244 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:42:43.247 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:43.247 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-09-28 12:42:43.247 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:43.247 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:42:43.252 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Include(u => u.LecturerSkills)
    .Include(u => u.UserRoles)
    .Include(u => u.ReviewerAssignments)
    .Include(u => u.ReviewerPerformances)
    .Where(u => u.UserRoles
        .Any(r => r.Role != null && r.Role.Name == "Reviewer") && u.LecturerSkills
        .Any())'
2025-09-28 12:42:43.257 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-09-28 12:42:43.257 +07:00 [DBG] Including navigation: 'User.UserRoles'.
2025-09-28 12:42:43.258 +07:00 [DBG] Including navigation: 'User.ReviewerAssignments'.
2025-09-28 12:42:43.258 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-09-28 12:42:43.294 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-28 12:42:43.299 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: LecturerSkill.CreatedBy (string), 21], [Property: LecturerSkill.DeletedAt (DateTime?), 22], [Property: LecturerSkill.IsActive (bool) Required, 23], [Property: LecturerSkill.LastModifiedAt (DateTime?), 24], [Property: LecturerSkill.LastModifiedBy (string), 25], [Property: LecturerSkill.LecturerId (int) Required FK Index, 26], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 27], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 28] }
            3 -> 19
            4 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 29], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 30] }
            5 -> 29
            6 -> 30
            7 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 31], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 32], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 33], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 34], [Property: ReviewerAssignment.CompletedAt (DateTime?), 35], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 36], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 37], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 38], [Property: ReviewerAssignment.StartedAt (DateTime?), 39], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 40], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 41] }
            8 -> 31
            9 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 42], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 43], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 44], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 45], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 46], [Property: ReviewerPerformance.OnTimeRate (decimal?), 47], [Property: ReviewerPerformance.QualityRating (decimal?), 48], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 49], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 50], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 51] }
            10 -> 42
        SELECT u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, l0.Id, l0.CreatedAt, l0.CreatedBy, l0.DeletedAt, l0.IsActive, l0.LastModifiedAt, l0.LastModifiedBy, l0.LecturerId, l0.ProficiencyLevel, l0.SkillTag, u1.UserId, u1.RoleId, r0.Id, r0.AssignedAt, r0.AssignedBy, r0.AssignmentType, r0.CompletedAt, r0.Deadline, r0.ReviewerId, r0.SkillMatchScore, r0.StartedAt, r0.Status, r0.SubmissionId, r1.Id, r1.AverageScoreGiven, r1.AverageTimeMinutes, r1.CompletedAssignments, r1.LastUpdated, r1.OnTimeRate, r1.QualityRating, r1.ReviewerId, r1.SemesterId, r1.TotalAssignments
        FROM users AS u
        LEFT JOIN lecturer_skills AS l0 ON u.Id == l0.LecturerId
        LEFT JOIN user_roles AS u1 ON u.Id == u1.UserId
        LEFT JOIN reviewer_assignments AS r0 ON u.Id == r0.ReviewerId
        LEFT JOIN reviewer_performance AS r1 ON u.Id == r1.ReviewerId
        WHERE EXISTS (
            SELECT 1
            FROM user_roles AS u0
            INNER JOIN roles AS r ON u0.RoleId == r.Id
            WHERE ((u.Id != NULL) && (u.Id == u0.UserId)) && (Not(r.Id == NULL) && (r.Name == N'Reviewer'))) && EXISTS (
            SELECT 1
            FROM lecturer_skills AS l
            WHERE (u.Id != NULL) && (u.Id == l.LecturerId))
        ORDER BY u.Id ASC, l0.Id ASC, u1.UserId ASC, u1.RoleId ASC, r0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 12:42:43.303 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:43.303 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:43.303 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:42:43.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:43.303 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:42:43.303 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:42:43.390 +07:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:42:43.399 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:42:43.399 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-09-28 12:42:43.399 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:43.399 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:42:44.670 +07:00 [DBG] Reviewer 7: skillScore=0 matched=
2025-09-28 12:42:44.676 +07:00 [DBG] Reviewer 7 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:42:44.913 +07:00 [DBG] Reviewer 9: skillScore=0 matched=
2025-09-28 12:42:44.913 +07:00 [DBG] Reviewer 9 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:42:45.782 +07:00 [DBG] Reviewer 10: skillScore=0 matched=
2025-09-28 12:42:45.782 +07:00 [DBG] Reviewer 10 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:42:46.019 +07:00 [DBG] Reviewer 11: skillScore=0 matched=
2025-09-28 12:42:46.019 +07:00 [DBG] Reviewer 11 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:42:46.200 +07:00 [DBG] Reviewer 12: skillScore=0 matched=
2025-09-28 12:42:46.200 +07:00 [DBG] Reviewer 12 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:42:46.277 +07:00 [DBG] Reviewer 13: skillScore=0 matched=
2025-09-28 12:42:46.277 +07:00 [DBG] Reviewer 13 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:42:46.376 +07:00 [DBG] Reviewer 14: skillScore=0 matched=
2025-09-28 12:42:46.376 +07:00 [DBG] Reviewer 14 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:42:46.447 +07:00 [DBG] Reviewer 15: skillScore=0 matched=
2025-09-28 12:42:46.448 +07:00 [DBG] Reviewer 15 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:42:46.552 +07:00 [DBG] Reviewer 16: skillScore=0 matched=
2025-09-28 12:42:46.552 +07:00 [DBG] Reviewer 16 field scores: Title:0, VN_Title:0, Category:0, Description:0, Objectives:0, Problem:0, Content:0, Context:0
2025-09-28 12:42:46.699 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 12:42:46.701 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 12:42:46.702 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 12:42:46.705 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 12:42:46.706 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 12:42:46.744 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 3721.314ms
2025-09-28 12:42:46.744 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:42:46.745 +07:00 [DBG] Connection id "0HNFUA75NI7QI" completed keep alive response.
2025-09-28 12:42:46.746 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:42:46.746 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:42:46.746 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:42:46.746 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - 200 null application/json; charset=utf-8 3831.6ms
2025-09-28 12:43:51.834 +07:00 [INF] Application is shutting down...
2025-09-28 12:43:51.838 +07:00 [DBG] Hosting stopping
2025-09-28 12:43:51.845 +07:00 [DBG] Connection id "0HNFUA75NI7QJ" disconnecting.
2025-09-28 12:43:51.845 +07:00 [DBG] Connection id "0HNFUA75NI7QI" disconnecting.
2025-09-28 12:43:51.847 +07:00 [DBG] Connection id "0HNFUA75NI7QI" stopped.
2025-09-28 12:43:51.847 +07:00 [DBG] Connection id "0HNFUA75NI7QJ" stopped.
2025-09-28 12:43:51.849 +07:00 [DBG] Connection id "0HNFUA75NI7QJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:43:51.850 +07:00 [DBG] Connection id "0HNFUA75NI7QI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:43:51.859 +07:00 [ERR] Li khi kim tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\Admin\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-09-28 12:43:51.903 +07:00 [DBG] Hosting stopped
2025-09-28 12:52:43.190 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-28 12:52:43.261 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-28 12:52:43.415 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.429 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.438 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.440 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.440 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.441 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.588 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.588 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.601 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.602 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.602 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.603 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.607 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.607 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 12:52:43.642 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-09-28 12:52:43.642 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-09-28 12:52:43.642 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-09-28 12:52:43.642 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-09-28 12:52:43.642 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-09-28 12:52:43.642 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-09-28 12:52:43.642 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-28 12:52:43.643 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-28 12:52:43.748 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.749 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 12:52:43.856 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:52:43.906 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-09-28 12:52:44.010 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:52:44.037 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:52:44.050 +07:00 [DBG] Created DbConnection. (10ms).
2025-09-28 12:52:44.053 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.198 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.200 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:52:44.204 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-28 12:52:44.210 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2025-09-28 12:52:44.215 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:52:44.256 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:52:44.283 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:52:44.297 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.302 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 42ms reading results.
2025-09-28 12:52:44.303 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.307 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (3ms).
2025-09-28 12:52:44.309 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.309 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.309 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:52:44.309 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.310 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.310 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:52:44.312 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:52:44.312 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:52:44.312 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.312 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:52:44.313 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.313 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:52:44.314 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.314 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.314 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:52:44.314 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.314 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.314 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:52:44.315 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:52:44.315 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:52:44.315 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.315 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:52:44.315 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.315 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:52:44.316 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.316 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.316 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:52:44.316 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.316 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:52:44.317 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 12:52:44.317 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:52:44.317 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.317 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:52:44.317 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.317 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:52:44.321 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-28 12:52:44.325 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:52:44.326 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.326 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.326 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:52:44.326 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.326 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.326 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:52:44.336 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:52:44.355 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:52:44.379 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.379 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 42ms reading results.
2025-09-28 12:52:44.379 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.379 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:52:44.381 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-09-28 12:52:44.383 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.383 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.383 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:52:44.383 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.383 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.384 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:52:44.385 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:52:44.385 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:52:44.385 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.385 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:52:44.385 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.385 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:52:44.385 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-09-28 12:52:44.386 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.386 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.386 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:52:44.386 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.386 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.386 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:52:44.387 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:52:44.387 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:52:44.387 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.387 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:52:44.387 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.388 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:52:44.388 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.388 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.388 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:52:44.388 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.388 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:52:44.388 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:52:44.389 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 12:52:44.389 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 12:52:44.389 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.389 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 12:52:44.389 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.389 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:52:44.389 +07:00 [INF] Data seeding completed successfully
2025-09-28 12:52:44.391 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:52:44.392 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:52:44.393 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:52:44.403 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-09-28 12:52:44.506 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-09-28 12:52:44.578 +07:00 [DBG] Hosting starting
2025-09-28 12:52:44.584 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-1d6bcff1-a155-4167-8a22-de35a5f05047.xml'.
2025-09-28 12:52:44.585 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-2459dd29-32d5-4c49-ac9d-33896047bb78.xml'.
2025-09-28 12:52:44.586 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-374624f1-e856-4617-8ae6-fe6a81ce6346.xml'.
2025-09-28 12:52:44.588 +07:00 [DBG] Found key {1d6bcff1-a155-4167-8a22-de35a5f05047}.
2025-09-28 12:52:44.591 +07:00 [DBG] Found key {2459dd29-32d5-4c49-ac9d-33896047bb78}.
2025-09-28 12:52:44.591 +07:00 [DBG] Found key {374624f1-e856-4617-8ae6-fe6a81ce6346}.
2025-09-28 12:52:44.595 +07:00 [DBG] Considering key {2459dd29-32d5-4c49-ac9d-33896047bb78} with expiration date 2025-11-03 12:40:53Z as default key.
2025-09-28 12:52:44.598 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:52:44.599 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-28 12:52:44.600 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 12:52:44.601 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-28 12:52:44.601 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-28 12:52:44.602 +07:00 [DBG] Using key {2459dd29-32d5-4c49-ac9d-33896047bb78} as the default key.
2025-09-28 12:52:44.602 +07:00 [DBG] Key ring with default key {2459dd29-32d5-4c49-ac9d-33896047bb78} was loaded during application startup.
2025-09-28 12:52:44.606 +07:00 [DBG] Middleware loaded
2025-09-28 12:52:44.607 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-09-28 12:52:44.609 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-28 12:52:44.633 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-28 12:52:44.641 +07:00 [INF] Now listening on: http://localhost:5207
2025-09-28 12:52:44.641 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-09-28 12:52:44.641 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-28 12:52:44.641 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-28 12:52:44.641 +07:00 [INF] Hosting environment: Development
2025-09-28 12:52:44.641 +07:00 [INF] Content root path: C:\Users\Admin\Downloads\CBAI_API\capbot.api
2025-09-28 12:52:44.642 +07:00 [DBG] Hosting started
2025-09-28 12:52:44.712 +07:00 [DBG] Connection id "0HNFUACVE10QS" accepted.
2025-09-28 12:52:44.713 +07:00 [DBG] Connection id "0HNFUACVE10QS" started.
2025-09-28 12:52:44.740 +07:00 [DBG] Connection id "0HNFUACVE10QT" accepted.
2025-09-28 12:52:44.741 +07:00 [DBG] Connection id "0HNFUACVE10QT" started.
2025-09-28 12:52:44.744 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-09-28 12:52:44.751 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-28 12:52:44.822 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-28 12:52:44.828 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-28 12:52:44.829 +07:00 [DBG] Connection id "0HNFUACVE10QS" completed keep alive response.
2025-09-28 12:52:44.831 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 92.4508ms
2025-09-28 12:52:44.834 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-09-28 12:52:44.836 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-28 12:52:44.836 +07:00 [DBG] Connection id "0HNFUACVE10QS" completed keep alive response.
2025-09-28 12:52:44.836 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.2728ms
2025-09-28 12:52:44.897 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-09-28 12:52:45.115 +07:00 [DBG] Connection id "0HNFUACVE10QS" completed keep alive response.
2025-09-28 12:52:45.115 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 218.8961ms
2025-09-28 12:53:31.669 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - application/json 113
2025-09-28 12:53:31.670 +07:00 [DBG] POST requests are not supported
2025-09-28 12:53:31.671 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-28 12:53:31.671 +07:00 [DBG] POST requests are not supported
2025-09-28 12:53:31.672 +07:00 [DBG] The request has an origin header: 'http://localhost:5207'.
2025-09-28 12:53:31.672 +07:00 [INF] CORS policy execution successful.
2025-09-28 12:53:31.703 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:53:31.704 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 12:53:31.705 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:53:31.769 +07:00 [DBG] Successfully validated the token.
2025-09-28 12:53:31.769 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 12:53:31.774 +07:00 [DBG] Authorization was successful.
2025-09-28 12:53:31.778 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:53:31.791 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 12:53:31.793 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 12:53:31.794 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 12:53:31.795 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 12:53:31.795 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 12:53:31.796 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 12:53:31.797 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:53:31.877 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 12:53:31.881 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:53:31.883 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 12:53:31.885 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:53:31.885 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:53:31.886 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 12:53:31.886 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 12:53:31.895 +07:00 [DBG] Connection id "0HNFUACVE10QS", Request id "0HNFUACVE10QS:00000004": started reading request body.
2025-09-28 12:53:31.895 +07:00 [DBG] Connection id "0HNFUACVE10QS", Request id "0HNFUACVE10QS:00000004": done reading request body.
2025-09-28 12:53:31.902 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 12:53:31.903 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:53:31.903 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:53:31.903 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 12:53:31.909 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 12:53:31.911 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:53:31.911 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name 'assign' in request data ...
2025-09-28 12:53:31.912 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:53:31.913 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:53:31.913 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 12:53:31.913 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 12:53:31.915 +07:00 [INF] Processing AI suggestion for SubmissionId: 10
2025-09-28 12:53:31.917 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":10,"MaxSuggestions":1000,"UsePrompt":true,"Deadline":"2025-09-28T05:22:03.6270000Z","$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 12:53:31.957 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 12:53:31.963 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Include(s => s.Topic)
    .Where(s => s.Id == __input_SubmissionId_0)
    .FirstOrDefault()'
2025-09-28 12:53:31.973 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-09-28 12:53:32.008 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Submission>(
    asyncEnumerable: new SingleQueryingEnumerable<Submission>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Submission.AdditionalNotes (string), 1], [Property: Submission.AiCheckDetails (string), 2], [Property: Submission.AiCheckScore (decimal?), 3], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 4], [Property: Submission.CreatedAt (DateTime) Required, 5], [Property: Submission.CreatedBy (string), 6], [Property: Submission.DeletedAt (DateTime?), 7], [Property: Submission.DocumentUrl (string) MaxLength(500), 8], [Property: Submission.IsActive (bool) Required, 9], [Property: Submission.LastModifiedAt (DateTime?), 10], [Property: Submission.LastModifiedBy (string), 11], [Property: Submission.PhaseId (int) Required FK Index, 12], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 13], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 14], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 15], [Property: Submission.SubmittedBy (int) Required FK Index, 16], [Property: Submission.TopicId (int) Required FK Index, 17], [Property: Submission.TopicVersionId (int?) FK Index, 18] }
                1 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: Topic.Abbreviation (string), 20], [Property: Topic.CategoryId (int?) FK Index, 21], [Property: Topic.Content (string), 22], [Property: Topic.Context (string), 23], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Topic.CreatedBy (string), 25], [Property: Topic.DeletedAt (DateTime?), 26], [Property: Topic.Description (string), 27], [Property: Topic.EN_Title (string) Required MaxLength(500), 28], [Property: Topic.IsActive (bool) Required, 29], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 30], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 31], [Property: Topic.LastModifiedAt (DateTime?), 32], [Property: Topic.LastModifiedBy (string), 33], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 34], [Property: Topic.Objectives (string), 35], [Property: Topic.PotentialDuplicate (string), 36], [Property: Topic.Problem (string), 37], [Property: Topic.SemesterId (int) Required FK Index, 38], [Property: Topic.SupervisorId (int) Required FK Index, 39], [Property: Topic.VN_title (string), 40] }
            SELECT TOP(1) s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title
            FROM submissions AS s
            LEFT JOIN topics AS t ON s.TopicId == t.Id
            WHERE s.Id == @__input_SubmissionId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Submission>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 12:53:32.015 +07:00 [DBG] Creating DbConnection.
2025-09-28 12:53:32.016 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 12:53:32.016 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:53:32.016 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:53:32.016 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:53:32.016 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:53:32.017 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:53:32.017 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:53:32.041 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 12:53:32.047 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:53:32.048 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-09-28 12:53:32.048 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:53:32.048 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:53:32.054 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Include(u => u.LecturerSkills)
    .Include(u => u.UserRoles)
    .Include(u => u.ReviewerAssignments)
    .Include(u => u.ReviewerPerformances)
    .Where(u => u.UserRoles
        .Any(r => r.Role != null && r.Role.Name == "Reviewer") && u.LecturerSkills
        .Any())'
2025-09-28 12:53:32.062 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-09-28 12:53:32.062 +07:00 [DBG] Including navigation: 'User.UserRoles'.
2025-09-28 12:53:32.062 +07:00 [DBG] Including navigation: 'User.ReviewerAssignments'.
2025-09-28 12:53:32.063 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-09-28 12:53:32.105 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-28 12:53:32.111 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: LecturerSkill.CreatedBy (string), 21], [Property: LecturerSkill.DeletedAt (DateTime?), 22], [Property: LecturerSkill.IsActive (bool) Required, 23], [Property: LecturerSkill.LastModifiedAt (DateTime?), 24], [Property: LecturerSkill.LastModifiedBy (string), 25], [Property: LecturerSkill.LecturerId (int) Required FK Index, 26], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 27], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 28] }
            3 -> 19
            4 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 29], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 30] }
            5 -> 29
            6 -> 30
            7 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 31], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 32], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 33], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 34], [Property: ReviewerAssignment.CompletedAt (DateTime?), 35], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 36], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 37], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 38], [Property: ReviewerAssignment.StartedAt (DateTime?), 39], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 40], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 41] }
            8 -> 31
            9 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 42], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 43], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 44], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 45], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 46], [Property: ReviewerPerformance.OnTimeRate (decimal?), 47], [Property: ReviewerPerformance.QualityRating (decimal?), 48], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 49], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 50], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 51] }
            10 -> 42
        SELECT u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, l0.Id, l0.CreatedAt, l0.CreatedBy, l0.DeletedAt, l0.IsActive, l0.LastModifiedAt, l0.LastModifiedBy, l0.LecturerId, l0.ProficiencyLevel, l0.SkillTag, u1.UserId, u1.RoleId, r0.Id, r0.AssignedAt, r0.AssignedBy, r0.AssignmentType, r0.CompletedAt, r0.Deadline, r0.ReviewerId, r0.SkillMatchScore, r0.StartedAt, r0.Status, r0.SubmissionId, r1.Id, r1.AverageScoreGiven, r1.AverageTimeMinutes, r1.CompletedAssignments, r1.LastUpdated, r1.OnTimeRate, r1.QualityRating, r1.ReviewerId, r1.SemesterId, r1.TotalAssignments
        FROM users AS u
        LEFT JOIN lecturer_skills AS l0 ON u.Id == l0.LecturerId
        LEFT JOIN user_roles AS u1 ON u.Id == u1.UserId
        LEFT JOIN reviewer_assignments AS r0 ON u.Id == r0.ReviewerId
        LEFT JOIN reviewer_performance AS r1 ON u.Id == r1.ReviewerId
        WHERE EXISTS (
            SELECT 1
            FROM user_roles AS u0
            INNER JOIN roles AS r ON u0.RoleId == r.Id
            WHERE ((u.Id != NULL) && (u.Id == u0.UserId)) && (Not(r.Id == NULL) && (r.Name == N'Reviewer'))) && EXISTS (
            SELECT 1
            FROM lecturer_skills AS l
            WHERE (u.Id != NULL) && (u.Id == l.LecturerId))
        ORDER BY u.Id ASC, l0.Id ASC, u1.UserId ASC, u1.RoleId ASC, r0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 12:53:32.115 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:53:32.115 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:53:32.115 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 12:53:32.115 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:53:32.115 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 12:53:32.116 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:53:32.206 +07:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 12:53:32.216 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 12:53:32.216 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 9ms reading results.
2025-09-28 12:53:32.216 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:53:32.216 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 12:53:35.217 +07:00 [DBG] Reviewer 7 skill 'fjfjurybffbbhrhipabbbfbnxmd' sim=0.4861 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 12:53:40.718 +07:00 [DBG] Reviewer 7 skill 'ai, ml' sim=0.5285 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 12:53:40.718 +07:00 [DBG] Reviewer 7 semantic breakdown: maxSim=0.5285 matchedSkills=[]
2025-09-28 12:54:00.201 +07:00 [DBG] Connection id "0HNFUACVE10QT" received FIN.
2025-09-28 12:54:00.204 +07:00 [DBG] Connection id "0HNFUACVE10QT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:54:00.205 +07:00 [DBG] Connection id "0HNFUACVE10QT" disconnecting.
2025-09-28 12:54:00.208 +07:00 [DBG] Connection id "0HNFUACVE10QT" stopped.
2025-09-28 12:54:10.802 +07:00 [DBG] Reviewer 7: skillScore=0.5285 matched=
2025-09-28 12:54:10.804 +07:00 [DBG] Reviewer 7 field scores: Title:0.5233, VN_Title:0.6011, Category:0, Description:0.5144, Objectives:0.5238, Problem:0.5406, Content:0.5519, Context:0.5708
2025-09-28 12:54:12.155 +07:00 [DBG] Reviewer 9 skill 'Web' sim=0.5352 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 12:54:12.155 +07:00 [DBG] Reviewer 9 semantic breakdown: maxSim=0.5352 matchedSkills=[]
2025-09-28 12:54:12.157 +07:00 [DBG] Reviewer 9: skillScore=0.5352 matched=
2025-09-28 12:54:12.158 +07:00 [DBG] Reviewer 9 field scores: Title:0.5238, VN_Title:0.6371, Category:0, Description:0.5349, Objectives:0.5255, Problem:0.5392, Content:0.5426, Context:0.5601
2025-09-28 12:54:13.530 +07:00 [DBG] Reviewer 10 skill 'blockchain' sim=0.5396 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 12:54:13.530 +07:00 [DBG] Reviewer 10 semantic breakdown: maxSim=0.5396 matchedSkills=[]
2025-09-28 12:54:13.533 +07:00 [DBG] Reviewer 10: skillScore=0.5396 matched=
2025-09-28 12:54:13.533 +07:00 [DBG] Reviewer 10 field scores: Title:0.5190, VN_Title:0.5761, Category:0, Description:0.5303, Objectives:0.5414, Problem:0.5458, Content:0.5678, Context:0.6009
2025-09-28 12:54:14.946 +07:00 [DBG] Reviewer 11 skill 'AI' sim=0.5226 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 12:54:14.946 +07:00 [DBG] Reviewer 11 semantic breakdown: maxSim=0.5226 matchedSkills=[]
2025-09-28 12:54:14.947 +07:00 [DBG] Reviewer 11: skillScore=0.5226 matched=
2025-09-28 12:54:14.948 +07:00 [DBG] Reviewer 11 field scores: Title:0.5121, VN_Title:0.5797, Category:0, Description:0.5133, Objectives:0.5073, Problem:0.5375, Content:0.5397, Context:0.5572
2025-09-28 12:54:16.358 +07:00 [DBG] Reviewer 12 skill 'iot, embeded' sim=0.6387 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 12:54:16.359 +07:00 [DBG] Reviewer 12 semantic breakdown: maxSim=0.6387 matchedSkills=[iot, embeded]
2025-09-28 12:54:16.364 +07:00 [DBG] Reviewer 12: skillScore=0.6387 matched=iot, embeded
2025-09-28 12:54:16.364 +07:00 [DBG] Reviewer 12 field scores: Title:0.6227, VN_Title:0.5638, Category:0, Description:0.6125, Objectives:0.6233, Problem:0.5853, Content:0.6484, Context:0.6080
2025-09-28 12:54:17.766 +07:00 [DBG] Reviewer 13 skill 'iot, ai' sim=0.6156 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 12:54:17.767 +07:00 [DBG] Reviewer 13 semantic breakdown: maxSim=0.6156 matchedSkills=[iot, ai]
2025-09-28 12:54:17.768 +07:00 [DBG] Reviewer 13: skillScore=0.6156 matched=iot, ai
2025-09-28 12:54:17.769 +07:00 [DBG] Reviewer 13 field scores: Title:0.6271, VN_Title:0.5575, Category:0, Description:0.5886, Objectives:0.6110, Problem:0.5774, Content:0.6023, Context:0.6070
2025-09-28 12:54:18.268 +07:00 [DBG] Reviewer 14 skill 'blockchain' sim=0.5396 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 12:54:18.269 +07:00 [DBG] Reviewer 14 semantic breakdown: maxSim=0.5396 matchedSkills=[]
2025-09-28 12:54:18.270 +07:00 [DBG] Reviewer 14: skillScore=0.5396 matched=
2025-09-28 12:54:18.271 +07:00 [DBG] Reviewer 14 field scores: Title:0.5190, VN_Title:0.5761, Category:0, Description:0.5303, Objectives:0.5414, Problem:0.5458, Content:0.5678, Context:0.6009
2025-09-28 12:54:19.648 +07:00 [DBG] Reviewer 15 skill 'mobile' sim=0.5013 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 12:54:19.649 +07:00 [DBG] Reviewer 15 semantic breakdown: maxSim=0.5013 matchedSkills=[]
2025-09-28 12:54:19.650 +07:00 [DBG] Reviewer 15: skillScore=0.5013 matched=
2025-09-28 12:54:19.650 +07:00 [DBG] Reviewer 15 field scores: Title:0.4947, VN_Title:0.5999, Category:0, Description:0.4920, Objectives:0.5045, Problem:0.5357, Content:0.5164, Context:0.5417
2025-09-28 12:54:21.005 +07:00 [DBG] Reviewer 16 skill 'marketing' sim=0.4879 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 12:54:21.005 +07:00 [DBG] Reviewer 16 semantic breakdown: maxSim=0.4879 matchedSkills=[]
2025-09-28 12:54:21.006 +07:00 [DBG] Reviewer 16: skillScore=0.4879 matched=
2025-09-28 12:54:21.006 +07:00 [DBG] Reviewer 16 field scores: Title:0.4864, VN_Title:0.5741, Category:0, Description:0.4785, Objectives:0.5031, Problem:0.5269, Content:0.5031, Context:0.5314
2025-09-28 12:54:23.929 +07:00 [DBG] AI explanation generated (preview): Recommendation: rv5@.com (Id:13) Overall:60.8% SkillMatch:61.6% Rationale: Matches iot, ai skills and tokens iot,smart,sensors with zero active assignments.
Recommendation: rv6@.com (Id:14) Overall:57...
2025-09-28 12:54:23.936 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 12:54:23.939 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 12:54:23.942 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 12:54:23.946 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 12:54:23.946 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 12:54:23.981 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 52183.5233ms
2025-09-28 12:54:23.981 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 12:54:23.983 +07:00 [DBG] Connection id "0HNFUACVE10QS" completed keep alive response.
2025-09-28 12:54:23.984 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 12:54:23.984 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 12:54:23.984 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 12:54:23.985 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission?assign=false - 200 null application/json; charset=utf-8 52316.3066ms
2025-09-28 12:56:34.359 +07:00 [DBG] Connection id "0HNFUACVE10QS" disconnecting.
2025-09-28 12:56:34.360 +07:00 [DBG] Connection id "0HNFUACVE10QS" stopped.
2025-09-28 12:56:34.362 +07:00 [DBG] Connection id "0HNFUACVE10QS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 12:58:23.154 +07:00 [INF] Application is shutting down...
2025-09-28 12:58:23.156 +07:00 [DBG] Hosting stopping
2025-09-28 12:58:23.162 +07:00 [ERR] Li khi kim tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\Admin\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-09-28 12:58:23.167 +07:00 [DBG] Hosting stopped
2025-09-28 13:02:05.575 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-28 13:02:05.633 +07:00 [INF] User profile is available. Using 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-28 13:02:05.797 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.811 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.826 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.827 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.827 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.829 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.975 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.976 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.991 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.992 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.992 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.993 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.997 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:05.998 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-09-28 13:02:06.032 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-09-28 13:02:06.032 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-09-28 13:02:06.033 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-09-28 13:02:06.033 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-09-28 13:02:06.033 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-09-28 13:02:06.033 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-09-28 13:02:06.033 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-09-28 13:02:06.033 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-09-28 13:02:06.033 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-09-28 13:02:06.033 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-09-28 13:02:06.034 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicId', 'PhaseId', 'SubmissionRound'}.
2025-09-28 13:02:06.034 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-09-28 13:02:06.034 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-09-28 13:02:06.034 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-09-28 13:02:06.034 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-09-28 13:02:06.034 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-09-28 13:02:06.034 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-09-28 13:02:06.034 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-09-28 13:02:06.034 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-09-28 13:02:06.141 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.141 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.141 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.142 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.142 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.142 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.142 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.142 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.142 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.142 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.143 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-09-28 13:02:06.252 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:02:06.291 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-09-28 13:02:06.391 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 13:02:06.413 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:02:06.424 +07:00 [DBG] Created DbConnection. (9ms).
2025-09-28 13:02:06.427 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.563 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.565 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:06.569 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-28 13:02:06.573 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-28 13:02:06.578 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 13:02:06.622 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 13:02:06.647 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 13:02:06.659 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.663 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 38ms reading results.
2025-09-28 13:02:06.665 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.667 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-09-28 13:02:06.669 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.670 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.670 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:06.670 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.670 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.670 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 13:02:06.674 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 13:02:06.674 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 13:02:06.674 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.675 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:02:06.675 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.675 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:06.675 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.676 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.676 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:06.676 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.676 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.676 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 13:02:06.677 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 13:02:06.677 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 13:02:06.677 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.677 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:02:06.677 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.677 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:06.678 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.678 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.678 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:06.678 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.678 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.678 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 13:02:06.678 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-09-28 13:02:06.679 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 13:02:06.679 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.679 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:02:06.679 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.679 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:06.682 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-09-28 13:02:06.687 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 13:02:06.687 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.688 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.688 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:06.688 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.688 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.688 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:06.695 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:06.713 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 13:02:06.732 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.732 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 36ms reading results.
2025-09-28 13:02:06.732 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.732 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:06.734 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-09-28 13:02:06.736 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.736 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.736 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:06.736 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.736 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.736 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:06.737 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:06.738 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 13:02:06.738 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.738 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:02:06.738 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.738 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:06.739 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-09-28 13:02:06.739 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.739 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.739 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:06.739 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.739 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.739 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:06.740 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:06.740 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 13:02:06.740 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.740 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:02:06.740 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.741 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:06.741 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.741 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.741 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:06.741 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.741 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:06.741 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:06.742 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:06.742 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 13:02:06.742 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.742 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:02:06.742 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.742 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:06.742 +07:00 [INF] Data seeding completed successfully
2025-09-28 13:02:06.743 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:02:06.744 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:06.745 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:02:06.758 +07:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-09-28 13:02:06.860 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-09-28 13:02:06.934 +07:00 [DBG] Hosting starting
2025-09-28 13:02:06.941 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-1d6bcff1-a155-4167-8a22-de35a5f05047.xml'.
2025-09-28 13:02:06.942 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-2459dd29-32d5-4c49-ac9d-33896047bb78.xml'.
2025-09-28 13:02:06.942 +07:00 [DBG] Reading data from file 'C:\Users\Admin\AppData\Local\ASP.NET\DataProtection-Keys\key-374624f1-e856-4617-8ae6-fe6a81ce6346.xml'.
2025-09-28 13:02:06.945 +07:00 [DBG] Found key {1d6bcff1-a155-4167-8a22-de35a5f05047}.
2025-09-28 13:02:06.947 +07:00 [DBG] Found key {2459dd29-32d5-4c49-ac9d-33896047bb78}.
2025-09-28 13:02:06.947 +07:00 [DBG] Found key {374624f1-e856-4617-8ae6-fe6a81ce6346}.
2025-09-28 13:02:06.951 +07:00 [DBG] Considering key {2459dd29-32d5-4c49-ac9d-33896047bb78} with expiration date 2025-11-03 12:40:53Z as default key.
2025-09-28 13:02:06.953 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 13:02:06.953 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-28 13:02:06.955 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-28 13:02:06.955 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-28 13:02:06.956 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-28 13:02:06.956 +07:00 [DBG] Using key {2459dd29-32d5-4c49-ac9d-33896047bb78} as the default key.
2025-09-28 13:02:06.957 +07:00 [DBG] Key ring with default key {2459dd29-32d5-4c49-ac9d-33896047bb78} was loaded during application startup.
2025-09-28 13:02:06.961 +07:00 [DBG] Middleware loaded
2025-09-28 13:02:06.962 +07:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-09-28 13:02:06.962 +07:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-28 13:02:06.984 +07:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-28 13:02:06.992 +07:00 [INF] Now listening on: http://localhost:5207
2025-09-28 13:02:06.992 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-09-28 13:02:06.992 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-28 13:02:06.992 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-28 13:02:06.992 +07:00 [INF] Hosting environment: Development
2025-09-28 13:02:06.992 +07:00 [INF] Content root path: C:\Users\Admin\Downloads\CBAI_API\capbot.api
2025-09-28 13:02:06.993 +07:00 [DBG] Hosting started
2025-09-28 13:02:07.060 +07:00 [DBG] Connection id "0HNFUAI7100OP" accepted.
2025-09-28 13:02:07.061 +07:00 [DBG] Connection id "0HNFUAI7100OP" started.
2025-09-28 13:02:07.089 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/index.html - null null
2025-09-28 13:02:07.096 +07:00 [DBG] Connection id "0HNFUAI7100OQ" accepted.
2025-09-28 13:02:07.096 +07:00 [DBG] Connection id "0HNFUAI7100OQ" started.
2025-09-28 13:02:07.100 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-28 13:02:07.192 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-28 13:02:07.201 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-28 13:02:07.201 +07:00 [DBG] Connection id "0HNFUAI7100OP" completed keep alive response.
2025-09-28 13:02:07.204 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/index.html - 200 null text/html;charset=utf-8 115.2352ms
2025-09-28 13:02:07.207 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - null null
2025-09-28 13:02:07.209 +07:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-28 13:02:07.210 +07:00 [DBG] Connection id "0HNFUAI7100OP" completed keep alive response.
2025-09-28 13:02:07.210 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/_framework/aspnetcore-browser-refresh.js - 200 16481 application/javascript; charset=utf-8 2.7728ms
2025-09-28 13:02:07.257 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - null null
2025-09-28 13:02:07.502 +07:00 [DBG] Connection id "0HNFUAI7100OP" completed keep alive response.
2025-09-28 13:02:07.502 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 245.2534ms
2025-09-28 13:02:48.637 +07:00 [DBG] Connection id "0HNFUAI7100OR" accepted.
2025-09-28 13:02:48.637 +07:00 [DBG] Connection id "0HNFUAI7100OR" started.
2025-09-28 13:02:48.639 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/auth/login - null null
2025-09-28 13:02:48.642 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:02:48.643 +07:00 [WRN] Failed to determine the https port for redirect.
2025-09-28 13:02:48.644 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:02:48.645 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:02:48.647 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:02:48.650 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:02:48.651 +07:00 [DBG] Connection id "0HNFUAI7100OR" completed keep alive response.
2025-09-28 13:02:48.651 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/auth/login - 204 null null 12.4344ms
2025-09-28 13:02:48.652 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/auth/login - application/json 92
2025-09-28 13:02:48.653 +07:00 [DBG] POST requests are not supported
2025-09-28 13:02:48.653 +07:00 [DBG] POST requests are not supported
2025-09-28 13:02:48.655 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:02:48.656 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:02:48.701 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-09-28 13:02:48.702 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-09-28 13:02:48.704 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-09-28 13:02:48.728 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-28 13:02:48.735 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-09-28 13:02:48.749 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Entities.DTOs.Auth.LoginDTO) on controller CapBot.api.Controllers.AuthController (CapBot.api).
2025-09-28 13:02:48.750 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:02:48.751 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 13:02:48.752 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:02:48.753 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:02:48.753 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:02:48.754 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-09-28 13:02:48.759 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-09-28 13:02:48.763 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-09-28 13:02:48.764 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' using the name '' in request data ...
2025-09-28 13:02:48.767 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:02:48.767 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:02:48.768 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:02:48.768 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 13:02:48.776 +07:00 [DBG] Connection id "0HNFUAI7100OR", Request id "0HNFUAI7100OR:00000002": started reading request body.
2025-09-28 13:02:48.777 +07:00 [DBG] Connection id "0HNFUAI7100OR", Request id "0HNFUAI7100OR:00000002": done reading request body.
2025-09-28 13:02:48.783 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Auth.LoginDTO'
2025-09-28 13:02:48.784 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-09-28 13:02:48.784 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-09-28 13:02:48.784 +07:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-09-28 13:02:48.791 +07:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-09-28 13:02:48.839 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:02:48.840 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:02:48.840 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:02:48.840 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:48.841 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:48.841 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:48.841 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:48.841 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:48.841 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:48.842 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-09-28 13:02:48.842 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-28 13:02:48.842 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:48.843 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:02:48.843 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:48.843 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:48.850 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-09-28 13:02:48.868 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Name
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        WHERE u.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 13:02:48.870 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:48.870 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:48.870 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:48.870 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:48.870 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:48.871 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-09-28 13:02:48.878 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-09-28 13:02:48.879 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:48.879 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:02:48.879 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:48.879 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:48.939 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:02:48.939 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:02:48.940 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:02:48.940 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:02:48.941 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:02:48.962 +07:00 [INF] Executed action CapBot.api.Controllers.AuthController.Login (CapBot.api) in 207.0719ms
2025-09-28 13:02:48.962 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-09-28 13:02:48.963 +07:00 [DBG] Connection id "0HNFUAI7100OR" completed keep alive response.
2025-09-28 13:02:48.964 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:02:48.964 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:48.964 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:02:48.965 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/auth/login - 200 null application/json; charset=utf-8 312.4071ms
2025-09-28 13:02:48.965 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:02:48.966 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:02:48.966 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:02:48.967 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:02:48.968 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:02:48.969 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:02:48.969 +07:00 [DBG] Connection id "0HNFUAI7100OR" completed keep alive response.
2025-09-28 13:02:48.969 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - 204 null null 3.8476ms
2025-09-28 13:02:48.972 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:02:48.973 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:02:48.973 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:02:48.973 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:02:48.973 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:02:48.976 +07:00 [DBG] 2 candidate(s) found for the request path '/api/user-profiles/me'
2025-09-28 13:02:48.976 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)' with route pattern 'api/user-profiles/me' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:02:48.976 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetById (CapBot.api)' with route pattern 'api/user-profiles/{id}' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:02:48.976 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:02:48.999 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:02:49.000 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:02:49.003 +07:00 [DBG] Authorization was successful.
2025-09-28 13:02:49.004 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:02:49.006 +07:00 [INF] Route matched with {action = "GetMyProfile", controller = "UserProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller CapBot.api.Controllers.UserProfileController (CapBot.api).
2025-09-28 13:02:49.006 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:02:49.006 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:02:49.006 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:02:49.006 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:02:49.006 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:02:49.006 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:02:49.009 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:02:49.018 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:02:49.023 +07:00 [DBG] Compiling query expression: 
'DbSet<UserProfile>()
    .AsNoTracking()
    .Where(x => x.UserId == __targetUserId_0 && x.IsActive && x.DeletedAt == null && x.DeletedAt == null)
    .FirstOrDefault()'
2025-09-28 13:02:49.027 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserProfile>(
    asyncEnumerable: new SingleQueryingEnumerable<UserProfile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UserProfile.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UserProfile.Address (string), 1], [Property: UserProfile.Avatar (string), 2], [Property: UserProfile.CoverImage (string), 3], [Property: UserProfile.CreatedAt (DateTime) Required, 4], [Property: UserProfile.CreatedBy (string), 5], [Property: UserProfile.DeletedAt (DateTime?), 6], [Property: UserProfile.FullName (string), 7], [Property: UserProfile.IsActive (bool) Required, 8], [Property: UserProfile.LastModifiedAt (DateTime?), 9], [Property: UserProfile.LastModifiedBy (string), 10], [Property: UserProfile.UserId (int) Required FK Index, 11] }
            SELECT TOP(1) p.Id, p.Address, p.Avatar, p.CoverImage, p.CreatedAt, p.CreatedBy, p.DeletedAt, p.FullName, p.IsActive, p.LastModifiedAt, p.LastModifiedBy, p.UserId
            FROM profiles AS p
            WHERE (((p.UserId == @__targetUserId_0) && p.IsActive) && (p.DeletedAt == NULL)) && (p.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserProfile>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 13:02:49.031 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:02:49.031 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:02:49.031 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:49.032 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:49.032 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:02:49.032 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:49.032 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:02:49.032 +07:00 [DBG] Executing DbCommand [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:02:49.037 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:02:49.038 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:02:49.038 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:02:49.038 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:49.038 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:02:49.039 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:02:49.039 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:02:49.040 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:02:49.040 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:02:49.040 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:02:49.040 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:02:49.042 +07:00 [INF] Executed action CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api) in 35.4443ms
2025-09-28 13:02:49.042 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:02:49.043 +07:00 [DBG] Connection id "0HNFUAI7100OR" completed keep alive response.
2025-09-28 13:02:49.043 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:02:49.043 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:02:49.044 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:02:49.044 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - 200 null application/json; charset=utf-8 71.8608ms
2025-09-28 13:03:13.772 +07:00 [DBG] Connection id "0HNFUAI7100OQ" received FIN.
2025-09-28 13:03:13.774 +07:00 [DBG] Connection id "0HNFUAI7100OQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:03:13.775 +07:00 [DBG] Connection id "0HNFUAI7100OQ" disconnecting.
2025-09-28 13:03:13.778 +07:00 [DBG] Connection id "0HNFUAI7100OQ" stopped.
2025-09-28 13:04:17.132 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:04:17.132 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.132 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.132 +07:00 [DBG] Connection id "0HNFUAI7100OS" accepted.
2025-09-28 13:04:17.133 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.133 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.133 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:04:17.133 +07:00 [DBG] Connection id "0HNFUAI7100OT" accepted.
2025-09-28 13:04:17.133 +07:00 [DBG] Connection id "0HNFUAI7100OR" completed keep alive response.
2025-09-28 13:04:17.133 +07:00 [DBG] Connection id "0HNFUAI7100OS" started.
2025-09-28 13:04:17.133 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - 204 null null 1.493ms
2025-09-28 13:04:17.134 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/list?PageNumber=1&PageSize=50 - null null
2025-09-28 13:04:17.134 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.134 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.134 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.134 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.135 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:04:17.135 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:04:17.135 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/list?PageNumber=1&PageSize=50 - 204 null null 1.1105ms
2025-09-28 13:04:17.137 +07:00 [DBG] Connection id "0HNFUAI7100OT" started.
2025-09-28 13:04:17.137 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/workload - null null
2025-09-28 13:04:17.138 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.138 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.139 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.139 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.139 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:04:17.139 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:04:17.140 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:04:17.141 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:04:17.141 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.141 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.140 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:04:17.143 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/list?PageNumber=1&PageSize=50 - null null
2025-09-28 13:04:17.143 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/workload - 204 null null 5.403ms
2025-09-28 13:04:17.143 +07:00 [DBG] The request path /api/submission/list does not match a supported file type
2025-09-28 13:04:17.144 +07:00 [DBG] The request path /api/submission/list does not match a supported file type
2025-09-28 13:04:17.144 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.150 +07:00 [DBG] 2 candidate(s) found for the request path '/api/user-profiles/me'
2025-09-28 13:04:17.150 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)' with route pattern 'api/user-profiles/me' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:04:17.150 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetById (CapBot.api)' with route pattern 'api/user-profiles/{id}' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:04:17.150 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:04:17.151 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.152 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/list'
2025-09-28 13:04:17.152 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)' with route pattern 'api/submission/list' is valid for the request path '/api/submission/list'
2025-09-28 13:04:17.152 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)'
2025-09-28 13:04:17.158 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload - null null
2025-09-28 13:04:17.158 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-09-28 13:04:17.158 +07:00 [DBG] The request path /api/reviewer-assignments/workload does not match a supported file type
2025-09-28 13:04:17.159 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.159 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.159 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/workload'
2025-09-28 13:04:17.159 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)' with route pattern 'api/reviewer-assignments/workload' is valid for the request path '/api/reviewer-assignments/workload'
2025-09-28 13:04:17.159 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-09-28 13:04:17.160 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:04:17.160 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:04:17.160 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:04:17.162 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:04:17.162 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:04:17.160 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:04:17.165 +07:00 [DBG] Authorization was successful.
2025-09-28 13:04:17.165 +07:00 [DBG] Authorization was successful.
2025-09-28 13:04:17.167 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:04:17.168 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)'
2025-09-28 13:04:17.167 +07:00 [INF] Route matched with {action = "GetMyProfile", controller = "UserProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller CapBot.api.Controllers.UserProfileController (CapBot.api).
2025-09-28 13:04:17.171 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:04:17.172 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:04:17.172 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:04:17.172 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:04:17.172 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:04:17.173 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:04:17.173 +07:00 [DBG] Authorization was successful.
2025-09-28 13:04:17.173 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-09-28 13:04:17.175 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:04:17.180 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:04:17.182 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:04:17.183 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:04:17.183 +07:00 [INF] Route matched with {action = "GetReviewersWorkload", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetReviewersWorkload(System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:04:17.183 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.185 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:04:17.185 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.185 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:04:17.185 +07:00 [INF] Route matched with {action = "List", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:04:17.185 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.186 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:04:17.186 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.186 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:04:17.186 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:04:17.186 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.186 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:04:17.186 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:04:17.186 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:04:17.186 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:04:17.186 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:04:17.186 +07:00 [DBG] Executing DbCommand [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:04:17.186 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:04:17.186 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:17.202 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:04:17.202 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.203 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:04:17.203 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.203 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.204 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:04:17.204 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:04:17.206 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:04:17.206 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:04:17.206 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:04:17.206 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:04:17.206 +07:00 [INF] Executed action CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api) in 33.8955ms
2025-09-28 13:04:17.207 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:04:17.207 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:04:17.207 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:04:17.207 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.208 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:04:17.208 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - 200 null application/json; charset=utf-8 68.3259ms
2025-09-28 13:04:17.213 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:17.219 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO' ...
2025-09-28 13:04:17.220 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO' using the name '' in request data ...
2025-09-28 13:04:17.222 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/images/entities/11111111.png - null null
2025-09-28 13:04:17.224 +07:00 [DBG] The request path /images/entities/11111111.png does not match an existing file
2025-09-28 13:04:17.224 +07:00 [DBG] The request path /images/entities/11111111.png does not match an existing file
2025-09-28 13:04:17.226 +07:00 [DBG] No candidates found for the request path '/images/entities/11111111.png'
2025-09-28 13:04:17.227 +07:00 [DBG] Request did not match any endpoints
2025-09-28 13:04:17.227 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TopicVersionId' of type 'System.Nullable`1[System.Int32]' using the name 'TopicVersionId' in request data ...
2025-09-28 13:04:17.228 +07:00 [DBG] Could not find a value in the request with name 'TopicVersionId' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TopicVersionId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.228 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-28 13:04:17.228 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TopicVersionId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.228 +07:00 [DBG] Connection id "0HNFUAI7100OP" completed keep alive response.
2025-09-28 13:04:17.228 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/images/entities/11111111.png - 404 0 null 6.6681ms
2025-09-28 13:04:17.229 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PhaseId' of type 'System.Nullable`1[System.Int32]' using the name 'PhaseId' in request data ...
2025-09-28 13:04:17.229 +07:00 [DBG] Could not find a value in the request with name 'PhaseId' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PhaseId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.229 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PhaseId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.229 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-09-28 13:04:17.230 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.230 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.230 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Status' of type 'System.Nullable`1[App.Entities.Enums.SubmissionStatus]' using the name 'Status' in request data ...
2025-09-28 13:04:17.230 +07:00 [DBG] Could not find a value in the request with name 'Status' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Status' of type 'System.Nullable`1[App.Entities.Enums.SubmissionStatus]'.
2025-09-28 13:04:17.230 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Status' of type 'System.Nullable`1[App.Entities.Enums.SubmissionStatus]'.
2025-09-28 13:04:17.230 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-09-28 13:04:17.231 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5207/images/entities/11111111.png, Response status code: 404
2025-09-28 13:04:17.231 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageNumber' of type 'System.Int32'.
2025-09-28 13:04:17.232 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-09-28 13:04:17.232 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageSize' of type 'System.Int32'.
2025-09-28 13:04:17.234 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-09-28 13:04:17.234 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Keyword' of type 'System.String'.
2025-09-28 13:04:17.235 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Keyword' of type 'System.String'.
2025-09-28 13:04:17.236 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-09-28 13:04:17.236 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-09-28 13:04:17.236 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-09-28 13:04:17.237 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO'.
2025-09-28 13:04:17.237 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO'.
2025-09-28 13:04:17.237 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO' ...
2025-09-28 13:04:17.241 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO'.
2025-09-28 13:04:17.247 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:04:17.253 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Include(x => x.SubmittedByUser)
    .Include(x => x.Topic)
    .Where(x => True)
    .Count()'
2025-09-28 13:04:17.312 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM submissions AS s), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 13:04:17.319 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:04:17.319 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:04:17.319 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.319 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.320 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.320 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.321 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.321 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [submissions] AS [s]
2025-09-28 13:04:17.340 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [submissions] AS [s]
2025-09-28 13:04:17.344 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.345 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-09-28 13:04:17.345 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.345 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.348 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Include(x => x.SubmittedByUser)
    .Include(x => x.Topic)
    .Where(x => True)
    .OrderByDescending(x => x.SubmittedAt)
    .Skip(__p_0)
    .Take(__p_1)'
2025-09-28 13:04:17.361 +07:00 [DBG] Including navigation: 'Submission.SubmittedByUser'.
2025-09-28 13:04:17.364 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-09-28 13:04:17.381 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:04:17.382 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-09-28 13:04:17.382 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-09-28 13:04:17.383 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.384 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.385 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.385 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-09-28 13:04:17.385 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:17.399 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:04:17.404 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .AsNoTracking()
    .Include(ur => ur.User)
    .Include(ur => ur.User.LecturerSkills)
    .Include(ur => ur.User.ReviewerPerformances)
    .Include(ur => ur.Role)
    .Where(ur => ur.Role.Name == "Reviewer")'
2025-09-28 13:04:17.410 +07:00 [DBG] Including navigation: 'UserRole.User'.
2025-09-28 13:04:17.411 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-09-28 13:04:17.412 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-09-28 13:04:17.413 +07:00 [DBG] Including navigation: 'UserRole.Role'.
2025-09-28 13:04:17.428 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Submission>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Submission.AdditionalNotes (string), 1], [Property: Submission.AiCheckDetails (string), 2], [Property: Submission.AiCheckScore (decimal?), 3], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 4], [Property: Submission.CreatedAt (DateTime) Required, 5], [Property: Submission.CreatedBy (string), 6], [Property: Submission.DeletedAt (DateTime?), 7], [Property: Submission.DocumentUrl (string) MaxLength(500), 8], [Property: Submission.IsActive (bool) Required, 9], [Property: Submission.LastModifiedAt (DateTime?), 10], [Property: Submission.LastModifiedBy (string), 11], [Property: Submission.PhaseId (int) Required FK Index, 12], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 13], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 14], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 15], [Property: Submission.SubmittedBy (int) Required FK Index, 16], [Property: Submission.TopicId (int) Required FK Index, 17], [Property: Submission.TopicVersionId (int?) FK Index, 18] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: User.AccessFailedCount (int) Required, 20], [Property: User.ConcurrencyStamp (string), 21], [Property: User.CreatedAt (DateTime) Required, 22], [Property: User.DeletedAt (DateTime?), 23], [Property: User.Email (string), 24], [Property: User.EmailConfirmed (bool) Required, 25], [Property: User.LastModifiedAt (DateTime) Required, 26], [Property: User.LastModifiedBy (string), 27], [Property: User.LockoutEnabled (bool) Required, 28], [Property: User.LockoutEnd (DateTimeOffset?), 29], [Property: User.NormalizedEmail (string), 30], [Property: User.NormalizedUserName (string), 31], [Property: User.PasswordHash (string), 32], [Property: User.PhoneNumber (string), 33], [Property: User.PhoneNumberConfirmed (bool) Required, 34], [Property: User.SecurityStamp (string), 35], [Property: User.TwoFactorEnabled (bool) Required, 36], [Property: User.UserName (string), 37] }
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 38], [Property: Topic.Abbreviation (string), 39], [Property: Topic.CategoryId (int?) FK Index, 40], [Property: Topic.Content (string), 41], [Property: Topic.Context (string), 42], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 43], [Property: Topic.CreatedBy (string), 44], [Property: Topic.DeletedAt (DateTime?), 45], [Property: Topic.Description (string), 46], [Property: Topic.EN_Title (string) Required MaxLength(500), 47], [Property: Topic.IsActive (bool) Required, 48], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 49], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 50], [Property: Topic.LastModifiedAt (DateTime?), 51], [Property: Topic.LastModifiedBy (string), 52], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 53], [Property: Topic.Objectives (string), 54], [Property: Topic.PotentialDuplicate (string), 55], [Property: Topic.Problem (string), 56], [Property: Topic.SemesterId (int) Required FK Index, 57], [Property: Topic.SupervisorId (int) Required FK Index, 58], [Property: Topic.VN_title (string), 59] }
        SELECT t.Id, t.AdditionalNotes, t.AiCheckDetails, t.AiCheckScore, t.AiCheckStatus, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.DocumentUrl, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.PhaseId, t.Status, t.SubmissionRound, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.TopicVersionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM 
        (
            SELECT s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId
            FROM submissions AS s
            ORDER BY s.SubmittedAt DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        INNER JOIN users AS u ON t.SubmittedBy == u.Id
        LEFT JOIN topics AS t0 ON t.TopicId == t0.Id
        ORDER BY t.SubmittedAt DESC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Submission>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 13:04:17.433 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.433 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.434 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.434 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.434 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.434 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdditionalNotes], [t].[AiCheckDetails], [t].[AiCheckScore], [t].[AiCheckStatus], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[DocumentUrl], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[PhaseId], [t].[Status], [t].[SubmissionRound], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[TopicVersionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM (
    SELECT [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId]
    FROM [submissions] AS [s]
    ORDER BY [s].[SubmittedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [users] AS [u] ON [t].[SubmittedBy] = [u].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
ORDER BY [t].[SubmittedAt] DESC
2025-09-28 13:04:17.458 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdditionalNotes], [t].[AiCheckDetails], [t].[AiCheckScore], [t].[AiCheckStatus], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[DocumentUrl], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[PhaseId], [t].[Status], [t].[SubmissionRound], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[TopicVersionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM (
    SELECT [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId]
    FROM [submissions] AS [s]
    ORDER BY [s].[SubmittedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [users] AS [u] ON [t].[SubmittedBy] = [u].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
ORDER BY [t].[SubmittedAt] DESC
2025-09-28 13:04:17.467 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.467 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-09-28 13:04:17.467 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.468 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.471 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:04:17.471 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:04:17.472 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:04:17.472 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:04:17.472 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:04:17.477 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-28 13:04:17.494 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserRole>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 0], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 1] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 2], [Property: User.AccessFailedCount (int) Required, 3], [Property: User.ConcurrencyStamp (string), 4], [Property: User.CreatedAt (DateTime) Required, 5], [Property: User.DeletedAt (DateTime?), 6], [Property: User.Email (string), 7], [Property: User.EmailConfirmed (bool) Required, 8], [Property: User.LastModifiedAt (DateTime) Required, 9], [Property: User.LastModifiedBy (string), 10], [Property: User.LockoutEnabled (bool) Required, 11], [Property: User.LockoutEnd (DateTimeOffset?), 12], [Property: User.NormalizedEmail (string), 13], [Property: User.NormalizedUserName (string), 14], [Property: User.PasswordHash (string), 15], [Property: User.PhoneNumber (string), 16], [Property: User.PhoneNumberConfirmed (bool) Required, 17], [Property: User.SecurityStamp (string), 18], [Property: User.TwoFactorEnabled (bool) Required, 19], [Property: User.UserName (string), 20] }
            2 -> 0
            3 -> 1
            4 -> 21
            5 -> 2
            6 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 22], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 23], [Property: LecturerSkill.CreatedBy (string), 24], [Property: LecturerSkill.DeletedAt (DateTime?), 25], [Property: LecturerSkill.IsActive (bool) Required, 26], [Property: LecturerSkill.LastModifiedAt (DateTime?), 27], [Property: LecturerSkill.LastModifiedBy (string), 28], [Property: LecturerSkill.LecturerId (int) Required FK Index, 29], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 30], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 31] }
            7 -> 22
            8 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 32], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 33], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 34], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 35], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 36], [Property: ReviewerPerformance.OnTimeRate (decimal?), 37], [Property: ReviewerPerformance.QualityRating (decimal?), 38], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 39], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 40], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 41] }
            9 -> 32
            10 -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 21], [Property: Role.ConcurrencyStamp (string), 42], [Property: Role.IsAdmin (bool) Required, 43], [Property: Role.Name (string), 44], [Property: Role.NormalizedName (string), 45] }
        SELECT u.UserId, u.RoleId, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, r.Id, l.Id, l.CreatedAt, l.CreatedBy, l.DeletedAt, l.IsActive, l.LastModifiedAt, l.LastModifiedBy, l.LecturerId, l.ProficiencyLevel, l.SkillTag, r0.Id, r0.AverageScoreGiven, r0.AverageTimeMinutes, r0.CompletedAssignments, r0.LastUpdated, r0.OnTimeRate, r0.QualityRating, r0.ReviewerId, r0.SemesterId, r0.TotalAssignments, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        INNER JOIN users AS u0 ON u.UserId == u0.Id
        LEFT JOIN lecturer_skills AS l ON u0.Id == l.LecturerId
        LEFT JOIN reviewer_performance AS r0 ON u0.Id == r0.ReviewerId
        WHERE r.Name == N'Reviewer'
        ORDER BY u.UserId ASC, u.RoleId ASC, r.Id ASC, u0.Id ASC, l.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserRole>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 13:04:17.496 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.List (CapBot.api) in 309.5013ms
2025-09-28 13:04:17.498 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)'
2025-09-28 13:04:17.498 +07:00 [DBG] Connection id "0HNFUAI7100OR" completed keep alive response.
2025-09-28 13:04:17.499 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:04:17.499 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.499 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:04:17.499 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/list?PageNumber=1&PageSize=50 - 200 null application/json; charset=utf-8 356.992ms
2025-09-28 13:04:17.500 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:04:17.500 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:04:17.500 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.500 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.501 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.501 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.501 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.501 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-09-28 13:04:17.516 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/10 - null null
2025-09-28 13:04:17.517 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.517 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.518 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.518 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.518 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:04:17.518 +07:00 [DBG] Connection id "0HNFUAI7100OR" completed keep alive response.
2025-09-28 13:04:17.518 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/10 - 204 null null 2.6513ms
2025-09-28 13:04:17.518 +07:00 [DBG] Connection id "0HNFUAI7100OU" accepted.
2025-09-28 13:04:17.519 +07:00 [DBG] Connection id "0HNFUAI7100OU" started.
2025-09-28 13:04:17.519 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/5 - null null
2025-09-28 13:04:17.519 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/6 - null null
2025-09-28 13:04:17.519 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.519 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.519 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.519 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.519 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:17.519 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.519 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.519 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:04:17.519 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.519 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:04:17.520 +07:00 [DBG] Connection id "0HNFUAI7100OU" completed keep alive response.
2025-09-28 13:04:17.520 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:04:17.520 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/5 - 204 null null 0.7215ms
2025-09-28 13:04:17.520 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/6 - 204 null null 0.7862ms
2025-09-28 13:04:17.520 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/detail/10 - null null
2025-09-28 13:04:17.520 +07:00 [DBG] The request path /api/submission/detail/10 does not match a supported file type
2025-09-28 13:04:17.520 +07:00 [DBG] The request path /api/submission/detail/10 does not match a supported file type
2025-09-28 13:04:17.520 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.521 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.521 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-09-28 13:04:17.522 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/detail/5 - null null
2025-09-28 13:04:17.522 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/detail/10'
2025-09-28 13:04:17.522 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)' with route pattern 'api/submission/detail/{id}' is valid for the request path '/api/submission/detail/10'
2025-09-28 13:04:17.522 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:04:17.528 +07:00 [DBG] The request path /api/submission/detail/5 does not match a supported file type
2025-09-28 13:04:17.528 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/detail/6 - null null
2025-09-28 13:04:17.528 +07:00 [DBG] The request path /api/submission/detail/5 does not match a supported file type
2025-09-28 13:04:17.528 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.528 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:04:17.528 +07:00 [DBG] The request path /api/submission/detail/6 does not match a supported file type
2025-09-28 13:04:17.528 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.528 +07:00 [DBG] The request path /api/submission/detail/6 does not match a supported file type
2025-09-28 13:04:17.528 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/detail/5'
2025-09-28 13:04:17.528 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:17.528 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)' with route pattern 'api/submission/detail/{id}' is valid for the request path '/api/submission/detail/5'
2025-09-28 13:04:17.528 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:17.529 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:04:17.529 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/detail/6'
2025-09-28 13:04:17.529 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)' with route pattern 'api/submission/detail/{id}' is valid for the request path '/api/submission/detail/6'
2025-09-28 13:04:17.529 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:04:17.529 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:04:17.529 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:04:17.529 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:04:17.529 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:04:17.529 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:04:17.529 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:04:17.529 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:04:17.529 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:04:17.542 +07:00 [INF] Route matched with {action = "Detail", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Detail(Int32) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:04:17.542 +07:00 [INF] Route matched with {action = "Detail", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Detail(Int32) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:04:17.543 +07:00 [INF] Route matched with {action = "Detail", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Detail(Int32) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:04:17.543 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:04:17.543 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:04:17.545 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:04:17.545 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:04:17.547 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:04:17.545 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:04:17.547 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:04:17.547 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:17.547 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:17.548 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:17.548 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:17.548 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:17.550 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-28 13:04:17.550 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-28 13:04:17.550 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-28 13:04:17.551 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-28 13:04:17.551 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:04:17.552 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:04:17.552 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-28 13:04:17.551 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:04:17.549 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-28 13:04:17.553 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:04:17.553 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-28 13:04:17.554 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-28 13:04:17.553 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-28 13:04:17.554 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-28 13:04:17.554 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:04:17.554 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:04:17.554 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-28 13:04:17.555 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-28 13:04:17.562 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:04:17.562 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:04:17.562 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:04:17.563 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.564 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 41ms reading results.
2025-09-28 13:04:17.564 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.564 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Include(x => x.TopicVersion)
    .Include(x => x.Topic)
    .Include(x => x.Phase)
    .Include(x => x.SubmittedByUser)
    .Where(x => x.Id == __id_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-09-28 13:04:17.564 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.568 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-09-28 13:04:17.570 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-09-28 13:04:17.572 +07:00 [DBG] Including navigation: 'Submission.Phase'.
2025-09-28 13:04:17.575 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.Topic)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => __reviewerIds_0.Contains(ra.ReviewerId))'
2025-09-28 13:04:17.576 +07:00 [DBG] Including navigation: 'Submission.SubmittedByUser'.
2025-09-28 13:04:17.581 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-09-28 13:04:17.583 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-09-28 13:04:17.584 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-09-28 13:04:17.587 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-09-28 13:04:17.625 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Submission>(
    asyncEnumerable: new SingleQueryingEnumerable<Submission>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Submission.AdditionalNotes (string), 1], [Property: Submission.AiCheckDetails (string), 2], [Property: Submission.AiCheckScore (decimal?), 3], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 4], [Property: Submission.CreatedAt (DateTime) Required, 5], [Property: Submission.CreatedBy (string), 6], [Property: Submission.DeletedAt (DateTime?), 7], [Property: Submission.DocumentUrl (string) MaxLength(500), 8], [Property: Submission.IsActive (bool) Required, 9], [Property: Submission.LastModifiedAt (DateTime?), 10], [Property: Submission.LastModifiedBy (string), 11], [Property: Submission.PhaseId (int) Required FK Index, 12], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 13], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 14], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 15], [Property: Submission.SubmittedBy (int) Required FK Index, 16], [Property: Submission.TopicId (int) Required FK Index, 17], [Property: Submission.TopicVersionId (int?) FK Index, 18] }
                1 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: TopicVersion.Content (string), 20], [Property: TopicVersion.Context (string), 21], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 22], [Property: TopicVersion.CreatedBy (string), 23], [Property: TopicVersion.DeletedAt (DateTime?), 24], [Property: TopicVersion.Description (string), 25], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 26], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 27], [Property: TopicVersion.ExpectedOutcomes (string), 28], [Property: TopicVersion.IsActive (bool) Required, 29], [Property: TopicVersion.LastModifiedAt (DateTime?), 30], [Property: TopicVersion.LastModifiedBy (string), 31], [Property: TopicVersion.Methodology (string), 32], [Property: TopicVersion.Objectives (string), 33], [Property: TopicVersion.PotentialDuplicate (string), 34], [Property: TopicVersion.Problem (string), 35], [Property: TopicVersion.Requirements (string), 36], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 37], [Property: TopicVersion.SubmittedAt (DateTime?), 38], [Property: TopicVersion.SubmittedBy (int?) FK Index, 39], [Property: TopicVersion.TopicId (int) Required FK Index, 40], [Property: TopicVersion.VN_title (string), 41], [Property: TopicVersion.VersionNumber (int) Required Index, 42] }
                2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 43], [Property: Topic.Abbreviation (string), 44], [Property: Topic.CategoryId (int?) FK Index, 45], [Property: Topic.Content (string), 46], [Property: Topic.Context (string), 47], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 48], [Property: Topic.CreatedBy (string), 49], [Property: Topic.DeletedAt (DateTime?), 50], [Property: Topic.Description (string), 51], [Property: Topic.EN_Title (string) Required MaxLength(500), 52], [Property: Topic.IsActive (bool) Required, 53], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 54], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 55], [Property: Topic.LastModifiedAt (DateTime?), 56], [Property: Topic.LastModifiedBy (string), 57], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 58], [Property: Topic.Objectives (string), 59], [Property: Topic.PotentialDuplicate (string), 60], [Property: Topic.Problem (string), 61], [Property: Topic.SemesterId (int) Required FK Index, 62], [Property: Topic.SupervisorId (int) Required FK Index, 63], [Property: Topic.VN_title (string), 64] }
                3 -> Dictionary<IProperty, int> { [Property: Phase.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 65], [Property: Phase.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 66], [Property: Phase.CreatedBy (string), 67], [Property: Phase.DeletedAt (DateTime?), 68], [Property: Phase.EndDate (DateTime) Required, 69], [Property: Phase.IsActive (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 70], [Property: Phase.LastModifiedAt (DateTime?), 71], [Property: Phase.LastModifiedBy (string), 72], [Property: Phase.Name (string) Required MaxLength(100), 73], [Property: Phase.PhaseTypeId (int) Required FK Index, 74], [Property: Phase.SemesterId (int) Required FK Index, 75], [Property: Phase.StartDate (DateTime) Required, 76], [Property: Phase.SubmissionDeadline (DateTime?), 77] }
                4 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 78], [Property: User.AccessFailedCount (int) Required, 79], [Property: User.ConcurrencyStamp (string), 80], [Property: User.CreatedAt (DateTime) Required, 81], [Property: User.DeletedAt (DateTime?), 82], [Property: User.Email (string), 83], [Property: User.EmailConfirmed (bool) Required, 84], [Property: User.LastModifiedAt (DateTime) Required, 85], [Property: User.LastModifiedBy (string), 86], [Property: User.LockoutEnabled (bool) Required, 87], [Property: User.LockoutEnd (DateTimeOffset?), 88], [Property: User.NormalizedEmail (string), 89], [Property: User.NormalizedUserName (string), 90], [Property: User.PasswordHash (string), 91], [Property: User.PhoneNumber (string), 92], [Property: User.PhoneNumberConfirmed (bool) Required, 93], [Property: User.SecurityStamp (string), 94], [Property: User.TwoFactorEnabled (bool) Required, 95], [Property: User.UserName (string), 96] }
            SELECT TOP(1) s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title, p.Id, p.CreatedAt, p.CreatedBy, p.DeletedAt, p.EndDate, p.IsActive, p.LastModifiedAt, p.LastModifiedBy, p.Name, p.PhaseTypeId, p.SemesterId, p.StartDate, p.SubmissionDeadline, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM submissions AS s
            LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
            LEFT JOIN topics AS t0 ON s.TopicId == t0.Id
            INNER JOIN phases AS p ON s.PhaseId == p.Id
            INNER JOIN users AS u ON s.SubmittedBy == u.Id
            WHERE ((s.Id == @__id_0) && s.IsActive) && (s.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Submission>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 13:04:17.628 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:04:17.628 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:04:17.628 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:04:17.628 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:04:17.628 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:04:17.628 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.628 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:04:17.628 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.629 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.629 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.629 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.629 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.629 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.629 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:04:17.646 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.647 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.648 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-28 13:04:17.649 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-28 13:04:17.649 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:04:17.652 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:04:17.658 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.660 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:04:17.668 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.669 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.671 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-09-28 13:04:17.671 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.671 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-09-28 13:04:17.672 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-28 13:04:17.672 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 13:04:17.672 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.672 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.672 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:04:17.672 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.673 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.681 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:04:17.685 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.685 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:04:17.685 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.685 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.693 +07:00 [DBG] Compiling query expression: 
'DbSet<EntityFile>()
    .AsNoTracking()
    .Include(x => x.File)
    .Where(x => x.EntityId == __p_0 && (int)x.EntityType == 3 && x.IsPrimary)
    .FirstOrDefault()'
2025-09-28 13:04:17.698 +07:00 [DBG] Including navigation: 'EntityFile.File'.
2025-09-28 13:04:17.731 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Submission.AdditionalNotes (string), 12], [Property: Submission.AiCheckDetails (string), 13], [Property: Submission.AiCheckScore (decimal?), 14], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 15], [Property: Submission.CreatedAt (DateTime) Required, 16], [Property: Submission.CreatedBy (string), 17], [Property: Submission.DeletedAt (DateTime?), 18], [Property: Submission.DocumentUrl (string) MaxLength(500), 19], [Property: Submission.IsActive (bool) Required, 20], [Property: Submission.LastModifiedAt (DateTime?), 21], [Property: Submission.LastModifiedBy (string), 22], [Property: Submission.PhaseId (int) Required FK Index, 23], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 24], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 25], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 26], [Property: Submission.SubmittedBy (int) Required FK Index, 27], [Property: Submission.TopicId (int) Required FK Index, 28], [Property: Submission.TopicVersionId (int?) FK Index, 29] }
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: Topic.Abbreviation (string), 31], [Property: Topic.CategoryId (int?) FK Index, 32], [Property: Topic.Content (string), 33], [Property: Topic.Context (string), 34], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 35], [Property: Topic.CreatedBy (string), 36], [Property: Topic.DeletedAt (DateTime?), 37], [Property: Topic.Description (string), 38], [Property: Topic.EN_Title (string) Required MaxLength(500), 39], [Property: Topic.IsActive (bool) Required, 40], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 41], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 42], [Property: Topic.LastModifiedAt (DateTime?), 43], [Property: Topic.LastModifiedBy (string), 44], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 45], [Property: Topic.Objectives (string), 46], [Property: Topic.PotentialDuplicate (string), 47], [Property: Topic.Problem (string), 48], [Property: Topic.SemesterId (int) Required FK Index, 49], [Property: Topic.SupervisorId (int) Required FK Index, 50], [Property: Topic.VN_title (string), 51] }
            3 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 52], [Property: TopicVersion.Content (string), 53], [Property: TopicVersion.Context (string), 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 60], [Property: TopicVersion.ExpectedOutcomes (string), 61], [Property: TopicVersion.IsActive (bool) Required, 62], [Property: TopicVersion.LastModifiedAt (DateTime?), 63], [Property: TopicVersion.LastModifiedBy (string), 64], [Property: TopicVersion.Methodology (string), 65], [Property: TopicVersion.Objectives (string), 66], [Property: TopicVersion.PotentialDuplicate (string), 67], [Property: TopicVersion.Problem (string), 68], [Property: TopicVersion.Requirements (string), 69], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 70], [Property: TopicVersion.SubmittedAt (DateTime?), 71], [Property: TopicVersion.SubmittedBy (int?) FK Index, 72], [Property: TopicVersion.TopicId (int) Required FK Index, 73], [Property: TopicVersion.VN_title (string), 74], [Property: TopicVersion.VersionNumber (int) Required Index, 75] }
            4 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 76], [Property: Topic.Abbreviation (string), 77], [Property: Topic.CategoryId (int?) FK Index, 78], [Property: Topic.Content (string), 79], [Property: Topic.Context (string), 80], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 81], [Property: Topic.CreatedBy (string), 82], [Property: Topic.DeletedAt (DateTime?), 83], [Property: Topic.Description (string), 84], [Property: Topic.EN_Title (string) Required MaxLength(500), 85], [Property: Topic.IsActive (bool) Required, 86], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 87], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 88], [Property: Topic.LastModifiedAt (DateTime?), 89], [Property: Topic.LastModifiedBy (string), 90], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 91], [Property: Topic.Objectives (string), 92], [Property: Topic.PotentialDuplicate (string), 93], [Property: Topic.Problem (string), 94], [Property: Topic.SemesterId (int) Required FK Index, 95], [Property: Topic.SupervisorId (int) Required FK Index, 96], [Property: Topic.VN_title (string), 97] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title, t0.Id, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.DocumentUrl, t0.EN_Title, t0.ExpectedOutcomes, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Methodology, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.Requirements, t0.Status, t0.SubmittedAt, t0.SubmittedBy, t0.TopicId, t0.VN_title, t0.VersionNumber, t1.Id, t1.Abbreviation, t1.CategoryId, t1.Content, t1.Context, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.EN_Title, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.PotentialDuplicate, t1.Problem, t1.SemesterId, t1.SupervisorId, t1.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topics AS t ON s.TopicId == t.Id
        LEFT JOIN topic_versions AS t0 ON s.TopicVersionId == t0.Id
        LEFT JOIN topics AS t1 ON t0.TopicId == t1.Id
        WHERE r.ReviewerId IN (
            SELECT r0.value
            FROM OPENJSON(@__reviewerIds_0) WITH (value int '') AS r0)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 13:04:17.742 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<EntityFile>(
    asyncEnumerable: new SingleQueryingEnumerable<EntityFile>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: EntityFile.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: EntityFile.Caption (string) MaxLength(512), 1], [Property: EntityFile.CreatedAt (DateTime) Required, 2], [Property: EntityFile.EntityId (long) Required Index, 3], [Property: EntityFile.EntityType (EntityType) Required Index, 4], [Property: EntityFile.FileId (long) Required FK Index, 5], [Property: EntityFile.IsPrimary (bool) Required, 6] }
                1 -> Dictionary<IProperty, int> { [Property: AppFile.Id (long) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: AppFile.Alt (string) MaxLength(255), 8], [Property: AppFile.Checksum (string) MaxLength(128), 9], [Property: AppFile.CreatedAt (DateTime) Required, 10], [Property: AppFile.CreatedBy (string), 11], [Property: AppFile.DeletedAt (DateTime?), 12], [Property: AppFile.FileName (string) Required MaxLength(255), 13], [Property: AppFile.FilePath (string) Required MaxLength(1024), 14], [Property: AppFile.FileSize (long) Required, 15], [Property: AppFile.FileType (FileType) Required, 16], [Property: AppFile.Height (int?), 17], [Property: AppFile.IsActive (bool) Required, 18], [Property: AppFile.LastModifiedAt (DateTime?), 19], [Property: AppFile.LastModifiedBy (string), 20], [Property: AppFile.MimeType (string) MaxLength(255), 21], [Property: AppFile.ThumbnailUrl (string) MaxLength(2048), 22], [Property: AppFile.Url (string) Required MaxLength(2048), 23], [Property: AppFile.Width (int?), 24] }
            SELECT TOP(1) e.Id, e.Caption, e.CreatedAt, e.EntityId, e.EntityType, e.FileId, e.IsPrimary, f.Id, f.Alt, f.Checksum, f.CreatedAt, f.CreatedBy, f.DeletedAt, f.FileName, f.FilePath, f.FileSize, f.FileType, f.Height, f.IsActive, f.LastModifiedAt, f.LastModifiedBy, f.MimeType, f.ThumbnailUrl, f.Url, f.Width
            FROM entity_files AS e
            INNER JOIN files AS f ON e.FileId == f.Id
            WHERE ((e.EntityId == @__p_0) && (e.EntityType == 3)) && e.IsPrimary), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, EntityFile>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 13:04:17.744 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.744 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.745 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.744 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.745 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.745 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.745 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.745 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.746 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.746 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.746 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:04:17.745 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.745 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.748 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.748 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:04:17.748 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.748 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.748 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:04:17.749 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.760 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.761 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.761 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.761 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:04:17.762 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:04:17.763 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.763 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.763 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 13:04:17.763 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 13:04:17.763 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.763 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.764 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.764 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.764 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:04:17.765 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.765 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:04:17.765 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.766 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.767 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:04:17.767 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:04:17.767 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:04:17.767 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:04:17.767 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:04:17.767 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:04:17.768 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:04:17.768 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:04:17.768 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:04:17.768 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:04:17.768 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:04:17.769 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:04:17.769 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:04:17.769 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:04:17.770 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:04:17.773 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-09-28 13:04:17.774 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
)
2025-09-28 13:04:17.809 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.Detail (CapBot.api) in 265.614ms
2025-09-28 13:04:17.809 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.Detail (CapBot.api) in 262.1823ms
2025-09-28 13:04:17.809 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.Detail (CapBot.api) in 262.1249ms
2025-09-28 13:04:17.809 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:04:17.809 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:04:17.809 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:04:17.810 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:04:17.810 +07:00 [DBG] Connection id "0HNFUAI7100OR" completed keep alive response.
2025-09-28 13:04:17.810 +07:00 [DBG] Connection id "0HNFUAI7100OU" completed keep alive response.
2025-09-28 13:04:17.810 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:04:17.810 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:04:17.810 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:04:17.810 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.810 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.810 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.810 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:04:17.810 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:04:17.810 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:04:17.810 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/detail/10 - 200 null application/json; charset=utf-8 290.0555ms
2025-09-28 13:04:17.810 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/detail/5 - 200 null application/json; charset=utf-8 288.0233ms
2025-09-28 13:04:17.810 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/detail/6 - 200 null application/json; charset=utf-8 282.4061ms
2025-09-28 13:04:17.812 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title], [t0].[Id], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[DocumentUrl], [t0].[EN_Title], [t0].[ExpectedOutcomes], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Methodology], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[Requirements], [t0].[Status], [t0].[SubmittedAt], [t0].[SubmittedBy], [t0].[TopicId], [t0].[VN_title], [t0].[VersionNumber], [t1].[Id], [t1].[Abbreviation], [t1].[CategoryId], [t1].[Content], [t1].[Context], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[EN_Title], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[PotentialDuplicate], [t1].[Problem], [t1].[SemesterId], [t1].[SupervisorId], [t1].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
LEFT JOIN [topic_versions] AS [t0] ON [s].[TopicVersionId] = [t0].[Id]
LEFT JOIN [topics] AS [t1] ON [t0].[TopicId] = [t1].[Id]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
)
2025-09-28 13:04:17.816 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.816 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-09-28 13:04:17.816 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.817 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.823 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerPerformance>()
    .AsNoTracking()
    .Where(rp => __reviewerIds_0.Contains(rp.ReviewerId) && True)'
2025-09-28 13:04:17.832 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerPerformance>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 1], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 2], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 3], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 4], [Property: ReviewerPerformance.OnTimeRate (decimal?), 5], [Property: ReviewerPerformance.QualityRating (decimal?), 6], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 7], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 8], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 9] }
        SELECT r.Id, r.AverageScoreGiven, r.AverageTimeMinutes, r.CompletedAssignments, r.LastUpdated, r.OnTimeRate, r.QualityRating, r.ReviewerId, r.SemesterId, r.TotalAssignments
        FROM reviewer_performance AS r
        WHERE r.ReviewerId IN (
            SELECT r0.value
            FROM OPENJSON(@__reviewerIds_0) WITH (value int '') AS r0) && CAST(1 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerPerformance>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 13:04:17.834 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.834 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.834 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:17.834 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.835 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:17.835 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewerIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
)
2025-09-28 13:04:17.844 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__reviewerIds_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AverageScoreGiven], [r].[AverageTimeMinutes], [r].[CompletedAssignments], [r].[LastUpdated], [r].[OnTimeRate], [r].[QualityRating], [r].[ReviewerId], [r].[SemesterId], [r].[TotalAssignments]
FROM [reviewer_performance] AS [r]
WHERE [r].[ReviewerId] IN (
    SELECT [r0].[value]
    FROM OPENJSON(@__reviewerIds_0) WITH ([value] int '$') AS [r0]
)
2025-09-28 13:04:17.845 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.846 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 13:04:17.846 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.846 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:17.854 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:04:17.854 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:04:17.854 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:04:17.854 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:04:17.854 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:04:17.854 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:04:17.867 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api) in 681.0087ms
2025-09-28 13:04:17.867 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetReviewersWorkload (CapBot.api)'
2025-09-28 13:04:17.868 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:04:17.868 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:04:17.868 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:17.869 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:04:17.869 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/workload - 200 null application/json; charset=utf-8 711.3205ms
2025-09-28 13:04:51.126 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:04:51.126 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/list?PageNumber=1&PageSize=10 - null null
2025-09-28 13:04:51.127 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:51.127 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:51.127 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:51.127 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:51.127 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:04:51.127 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:51.127 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:51.127 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:04:51.127 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:51.127 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:04:51.127 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:04:51.127 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:04:51.127 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - 204 null null 0.4194ms
2025-09-28 13:04:51.127 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/list?PageNumber=1&PageSize=10 - 204 null null 0.4052ms
2025-09-28 13:04:51.131 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/list?PageNumber=1&PageSize=10 - null null
2025-09-28 13:04:51.131 +07:00 [DBG] The request path /api/submission/list does not match a supported file type
2025-09-28 13:04:51.131 +07:00 [DBG] The request path /api/submission/list does not match a supported file type
2025-09-28 13:04:51.131 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:51.131 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:51.131 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/list'
2025-09-28 13:04:51.131 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)' with route pattern 'api/submission/list' is valid for the request path '/api/submission/list'
2025-09-28 13:04:51.131 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)'
2025-09-28 13:04:51.132 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:04:51.132 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:04:51.132 +07:00 [DBG] Authorization was successful.
2025-09-28 13:04:51.133 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)'
2025-09-28 13:04:51.134 +07:00 [INF] Route matched with {action = "List", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:04:51.134 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:04:51.135 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:04:51.135 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:04:51.135 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:04:51.135 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:04:51.135 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:04:51.135 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:04:51.135 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:04:51.135 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:04:51.135 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:04:51.135 +07:00 [DBG] 2 candidate(s) found for the request path '/api/user-profiles/me'
2025-09-28 13:04:51.135 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)' with route pattern 'api/user-profiles/me' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:04:51.135 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:51.135 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetById (CapBot.api)' with route pattern 'api/user-profiles/{id}' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:04:51.135 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:04:51.136 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:04:51.136 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:04:51.136 +07:00 [DBG] Authorization was successful.
2025-09-28 13:04:51.136 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:04:51.137 +07:00 [INF] Route matched with {action = "GetMyProfile", controller = "UserProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller CapBot.api.Controllers.UserProfileController (CapBot.api).
2025-09-28 13:04:51.137 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:04:51.139 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:04:51.139 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:04:51.139 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:04:51.139 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:04:51.139 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:04:51.169 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:04:51.171 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:04:51.173 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:04:51.173 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:04:51.173 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.173 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.173 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:51.174 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:51.174 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:51.174 +07:00 [DBG] Executing DbCommand [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:04:51.176 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:04:51.176 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.177 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:04:51.177 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.177 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:51.177 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:04:51.177 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:04:51.177 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:04:51.177 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:04:51.178 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:04:51.178 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:04:51.178 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:04:51.178 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO' ...
2025-09-28 13:04:51.180 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO' using the name '' in request data ...
2025-09-28 13:04:51.181 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TopicVersionId' of type 'System.Nullable`1[System.Int32]' using the name 'TopicVersionId' in request data ...
2025-09-28 13:04:51.181 +07:00 [INF] Executed action CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api) in 42.1973ms
2025-09-28 13:04:51.182 +07:00 [DBG] Could not find a value in the request with name 'TopicVersionId' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TopicVersionId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:51.182 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:04:51.182 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TopicVersionId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:51.183 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:04:51.183 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PhaseId' of type 'System.Nullable`1[System.Int32]' using the name 'PhaseId' in request data ...
2025-09-28 13:04:51.183 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:04:51.183 +07:00 [DBG] Could not find a value in the request with name 'PhaseId' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PhaseId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:51.183 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.183 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PhaseId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:51.183 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:04:51.183 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-09-28 13:04:51.183 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - 200 null application/json; charset=utf-8 48.6608ms
2025-09-28 13:04:51.183 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:51.183 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:04:51.184 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Status' of type 'System.Nullable`1[App.Entities.Enums.SubmissionStatus]' using the name 'Status' in request data ...
2025-09-28 13:04:51.184 +07:00 [DBG] Could not find a value in the request with name 'Status' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Status' of type 'System.Nullable`1[App.Entities.Enums.SubmissionStatus]'.
2025-09-28 13:04:51.184 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Status' of type 'System.Nullable`1[App.Entities.Enums.SubmissionStatus]'.
2025-09-28 13:04:51.184 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-09-28 13:04:51.184 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageNumber' of type 'System.Int32'.
2025-09-28 13:04:51.184 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-09-28 13:04:51.185 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageSize' of type 'System.Int32'.
2025-09-28 13:04:51.185 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-09-28 13:04:51.186 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Keyword' of type 'System.String'.
2025-09-28 13:04:51.186 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Keyword' of type 'System.String'.
2025-09-28 13:04:51.186 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-09-28 13:04:51.186 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-09-28 13:04:51.186 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-09-28 13:04:51.186 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO'.
2025-09-28 13:04:51.186 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO'.
2025-09-28 13:04:51.186 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO' ...
2025-09-28 13:04:51.187 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO'.
2025-09-28 13:04:51.194 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:04:51.194 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:04:51.195 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:04:51.195 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.195 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.195 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:51.195 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:51.195 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:51.196 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [submissions] AS [s]
2025-09-28 13:04:51.197 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [submissions] AS [s]
2025-09-28 13:04:51.198 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.198 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:04:51.198 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.198 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:51.199 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.200 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.200 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:04:51.200 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:51.200 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:04:51.200 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdditionalNotes], [t].[AiCheckDetails], [t].[AiCheckScore], [t].[AiCheckStatus], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[DocumentUrl], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[PhaseId], [t].[Status], [t].[SubmissionRound], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[TopicVersionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM (
    SELECT [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId]
    FROM [submissions] AS [s]
    ORDER BY [s].[SubmittedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [users] AS [u] ON [t].[SubmittedBy] = [u].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
ORDER BY [t].[SubmittedAt] DESC
2025-09-28 13:04:51.201 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/images/entities/11111111.png - null null
2025-09-28 13:04:51.201 +07:00 [DBG] The request path /images/entities/11111111.png does not match an existing file
2025-09-28 13:04:51.202 +07:00 [DBG] The request path /images/entities/11111111.png does not match an existing file
2025-09-28 13:04:51.202 +07:00 [DBG] No candidates found for the request path '/images/entities/11111111.png'
2025-09-28 13:04:51.202 +07:00 [DBG] Request did not match any endpoints
2025-09-28 13:04:51.206 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdditionalNotes], [t].[AiCheckDetails], [t].[AiCheckScore], [t].[AiCheckStatus], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[DocumentUrl], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[PhaseId], [t].[Status], [t].[SubmissionRound], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[TopicVersionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM (
    SELECT [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId]
    FROM [submissions] AS [s]
    ORDER BY [s].[SubmittedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [users] AS [u] ON [t].[SubmittedBy] = [u].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
ORDER BY [t].[SubmittedAt] DESC
2025-09-28 13:04:51.206 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-28 13:04:51.207 +07:00 [DBG] Connection id "0HNFUAI7100OP" completed keep alive response.
2025-09-28 13:04:51.207 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/images/entities/11111111.png - 404 0 null 6.5806ms
2025-09-28 13:04:51.207 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.207 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5207/images/entities/11111111.png, Response status code: 404
2025-09-28 13:04:51.207 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:04:51.209 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.209 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:04:51.209 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:04:51.209 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:04:51.210 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:04:51.210 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:04:51.210 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:04:51.210 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.List (CapBot.api) in 75.2361ms
2025-09-28 13:04:51.210 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)'
2025-09-28 13:04:51.210 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:04:51.210 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:04:51.210 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:04:51.210 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:04:51.210 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/list?PageNumber=1&PageSize=10 - 200 null application/json; charset=utf-8 79.702ms
2025-09-28 13:05:02.735 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/10 - null null
2025-09-28 13:05:02.735 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:02.735 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:02.735 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:02.735 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:02.735 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:02.735 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:02.735 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:02.735 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:02.735 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:02.735 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:05:02.735 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:05:02.735 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:02.735 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:05:02.735 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/10 - 204 null null 0.6604ms
2025-09-28 13:05:02.735 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.5304ms
2025-09-28 13:05:02.737 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/detail/10 - null null
2025-09-28 13:05:02.737 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:02.737 +07:00 [DBG] The request path /api/submission/detail/10 does not match a supported file type
2025-09-28 13:05:02.738 +07:00 [DBG] The request path /api/submission/detail/10 does not match a supported file type
2025-09-28 13:05:02.738 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:02.738 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:02.738 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:02.738 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:02.738 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:02.738 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:02.738 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/detail/10'
2025-09-28 13:05:02.738 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)' with route pattern 'api/submission/detail/{id}' is valid for the request path '/api/submission/detail/10'
2025-09-28 13:05:02.738 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:05:02.739 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:05:02.739 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:05:02.739 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:05:02.739 +07:00 [INF] Route matched with {action = "Detail", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Detail(Int32) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:05:02.739 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:05:02.739 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:05:02.739 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:05:02.739 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:05:02.739 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:05:02.739 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:05:02.742 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:02.742 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:02.742 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:05:02.742 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:02.742 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-28 13:05:02.742 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-28 13:05:02.742 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:05:02.742 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:05:02.742 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-28 13:05:02.743 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-28 13:05:02.743 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:05:02.743 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:05:02.743 +07:00 [DBG] Authorization was successful.
2025-09-28 13:05:02.743 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:02.744 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:05:02.745 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:05:02.745 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:05:02.745 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.745 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.746 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:02.747 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:02.747 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:02.747 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:05:02.751 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:05:02.752 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.752 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:05:02.753 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.753 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:02.754 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.754 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.754 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:02.754 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:02.754 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:02.754 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:05:02.756 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:05:02.757 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.757 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:05:02.757 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.757 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:02.757 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:05:02.757 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:05:02.757 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:05:02.757 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:05:02.757 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:05:02.758 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:05:02.758 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:05:02.758 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:05:02.758 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:05:02.758 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:05:02.758 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:05:02.758 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:02.758 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.Detail (CapBot.api) in 18.6023ms
2025-09-28 13:05:02.758 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:05:02.758 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:05:02.758 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:05:02.759 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.759 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:05:02.759 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/detail/10 - 200 null application/json; charset=utf-8 21.6737ms
2025-09-28 13:05:02.760 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:02.760 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:02.760 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:05:02.760 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:02.760 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:02.760 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:02.761 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:02.766 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:05:02.767 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Include(ra => ra.Reviewer)
    .Include(ra => ra.AssignedByUser)
    .Include(ra => ra.Submission)
    .Include(ra => ra.Submission.TopicVersion)
    .Include(ra => ra.Submission.TopicVersion.Topic)
    .Where(ra => ra.SubmissionId == __submissionId_0)'
2025-09-28 13:05:02.770 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Reviewer'.
2025-09-28 13:05:02.771 +07:00 [DBG] Including navigation: 'ReviewerAssignment.AssignedByUser'.
2025-09-28 13:05:02.772 +07:00 [DBG] Including navigation: 'ReviewerAssignment.Submission'.
2025-09-28 13:05:02.773 +07:00 [DBG] Including navigation: 'Submission.TopicVersion'.
2025-09-28 13:05:02.775 +07:00 [DBG] Including navigation: 'TopicVersion.Topic'.
2025-09-28 13:05:02.811 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: User.AccessFailedCount (int) Required, 12], [Property: User.ConcurrencyStamp (string), 13], [Property: User.CreatedAt (DateTime) Required, 14], [Property: User.DeletedAt (DateTime?), 15], [Property: User.Email (string), 16], [Property: User.EmailConfirmed (bool) Required, 17], [Property: User.LastModifiedAt (DateTime) Required, 18], [Property: User.LastModifiedBy (string), 19], [Property: User.LockoutEnabled (bool) Required, 20], [Property: User.LockoutEnd (DateTimeOffset?), 21], [Property: User.NormalizedEmail (string), 22], [Property: User.NormalizedUserName (string), 23], [Property: User.PasswordHash (string), 24], [Property: User.PhoneNumber (string), 25], [Property: User.PhoneNumberConfirmed (bool) Required, 26], [Property: User.SecurityStamp (string), 27], [Property: User.TwoFactorEnabled (bool) Required, 28], [Property: User.UserName (string), 29] }
            2 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 30], [Property: User.AccessFailedCount (int) Required, 31], [Property: User.ConcurrencyStamp (string), 32], [Property: User.CreatedAt (DateTime) Required, 33], [Property: User.DeletedAt (DateTime?), 34], [Property: User.Email (string), 35], [Property: User.EmailConfirmed (bool) Required, 36], [Property: User.LastModifiedAt (DateTime) Required, 37], [Property: User.LastModifiedBy (string), 38], [Property: User.LockoutEnabled (bool) Required, 39], [Property: User.LockoutEnd (DateTimeOffset?), 40], [Property: User.NormalizedEmail (string), 41], [Property: User.NormalizedUserName (string), 42], [Property: User.PasswordHash (string), 43], [Property: User.PhoneNumber (string), 44], [Property: User.PhoneNumberConfirmed (bool) Required, 45], [Property: User.SecurityStamp (string), 46], [Property: User.TwoFactorEnabled (bool) Required, 47], [Property: User.UserName (string), 48] }
            3 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 49], [Property: Submission.AdditionalNotes (string), 50], [Property: Submission.AiCheckDetails (string), 51], [Property: Submission.AiCheckScore (decimal?), 52], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 53], [Property: Submission.CreatedAt (DateTime) Required, 54], [Property: Submission.CreatedBy (string), 55], [Property: Submission.DeletedAt (DateTime?), 56], [Property: Submission.DocumentUrl (string) MaxLength(500), 57], [Property: Submission.IsActive (bool) Required, 58], [Property: Submission.LastModifiedAt (DateTime?), 59], [Property: Submission.LastModifiedBy (string), 60], [Property: Submission.PhaseId (int) Required FK Index, 61], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 62], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 63], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 64], [Property: Submission.SubmittedBy (int) Required FK Index, 65], [Property: Submission.TopicId (int) Required FK Index, 66], [Property: Submission.TopicVersionId (int?) FK Index, 67] }
            4 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 68], [Property: TopicVersion.Content (string), 69], [Property: TopicVersion.Context (string), 70], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 71], [Property: TopicVersion.CreatedBy (string), 72], [Property: TopicVersion.DeletedAt (DateTime?), 73], [Property: TopicVersion.Description (string), 74], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 75], [Property: TopicVersion.EN_Title (string) Required MaxLength(500), 76], [Property: TopicVersion.ExpectedOutcomes (string), 77], [Property: TopicVersion.IsActive (bool) Required, 78], [Property: TopicVersion.LastModifiedAt (DateTime?), 79], [Property: TopicVersion.LastModifiedBy (string), 80], [Property: TopicVersion.Methodology (string), 81], [Property: TopicVersion.Objectives (string), 82], [Property: TopicVersion.PotentialDuplicate (string), 83], [Property: TopicVersion.Problem (string), 84], [Property: TopicVersion.Requirements (string), 85], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 86], [Property: TopicVersion.SubmittedAt (DateTime?), 87], [Property: TopicVersion.SubmittedBy (int?) FK Index, 88], [Property: TopicVersion.TopicId (int) Required FK Index, 89], [Property: TopicVersion.VN_title (string), 90], [Property: TopicVersion.VersionNumber (int) Required Index, 91] }
            5 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 92], [Property: Topic.Abbreviation (string), 93], [Property: Topic.CategoryId (int?) FK Index, 94], [Property: Topic.Content (string), 95], [Property: Topic.Context (string), 96], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 97], [Property: Topic.CreatedBy (string), 98], [Property: Topic.DeletedAt (DateTime?), 99], [Property: Topic.Description (string), 100], [Property: Topic.EN_Title (string) Required MaxLength(500), 101], [Property: Topic.IsActive (bool) Required, 102], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 103], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 104], [Property: Topic.LastModifiedAt (DateTime?), 105], [Property: Topic.LastModifiedBy (string), 106], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 107], [Property: Topic.Objectives (string), 108], [Property: Topic.PotentialDuplicate (string), 109], [Property: Topic.Problem (string), 110], [Property: Topic.SemesterId (int) Required FK Index, 111], [Property: Topic.SupervisorId (int) Required FK Index, 112], [Property: Topic.VN_title (string), 113] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, u0.Id, u0.AccessFailedCount, u0.ConcurrencyStamp, u0.CreatedAt, u0.DeletedAt, u0.Email, u0.EmailConfirmed, u0.LastModifiedAt, u0.LastModifiedBy, u0.LockoutEnabled, u0.LockoutEnd, u0.NormalizedEmail, u0.NormalizedUserName, u0.PasswordHash, u0.PhoneNumber, u0.PhoneNumberConfirmed, u0.SecurityStamp, u0.TwoFactorEnabled, u0.UserName, s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.DocumentUrl, t.EN_Title, t.ExpectedOutcomes, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Methodology, t.Objectives, t.PotentialDuplicate, t.Problem, t.Requirements, t.Status, t.SubmittedAt, t.SubmittedBy, t.TopicId, t.VN_title, t.VersionNumber, t0.Id, t0.Abbreviation, t0.CategoryId, t0.Content, t0.Context, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.EN_Title, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.PotentialDuplicate, t0.Problem, t0.SemesterId, t0.SupervisorId, t0.VN_title
        FROM reviewer_assignments AS r
        INNER JOIN users AS u ON r.ReviewerId == u.Id
        INNER JOIN users AS u0 ON r.AssignedBy == u0.Id
        INNER JOIN submissions AS s ON r.SubmissionId == s.Id
        LEFT JOIN topic_versions AS t ON s.TopicVersionId == t.Id
        LEFT JOIN topics AS t0 ON t.TopicId == t0.Id
        WHERE r.SubmissionId == @__submissionId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 13:05:02.814 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:05:02.814 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:05:02.814 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.814 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.814 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:02.814 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:02.814 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:02.815 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:02.831 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:02.834 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.834 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-09-28 13:05:02.834 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.834 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:02.867 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:05:02.868 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:05:02.868 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:05:02.868 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:05:02.868 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:05:02.868 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:05:02.883 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 125.3027ms
2025-09-28 13:05:02.883 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:02.883 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:02.883 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:05:02.883 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:02.884 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:05:02.884 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 146.401ms
2025-09-28 13:05:13.393 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:13.393 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:13.393 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:13.393 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:13.393 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:13.393 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:05:13.393 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:13.393 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.523ms
2025-09-28 13:05:13.395 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:13.396 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:13.396 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:13.396 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:13.396 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:13.397 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:13.397 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:13.397 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:13.398 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:05:13.398 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:05:13.398 +07:00 [DBG] Authorization was successful.
2025-09-28 13:05:13.398 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:13.398 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:05:13.398 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:05:13.398 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:05:13.398 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:05:13.398 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:05:13.399 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:05:13.399 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:13.404 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:13.405 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:13.405 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:05:13.405 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:13.405 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:13.405 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:13.405 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:13.406 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:05:13.407 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:05:13.407 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:05:13.407 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:13.407 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:13.407 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:13.407 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:13.407 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:13.408 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:13.454 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:13.455 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:13.455 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:05:13.455 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:13.455 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:13.456 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:05:13.456 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:05:13.456 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:05:13.456 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:05:13.456 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:05:13.456 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:05:13.457 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 57.9772ms
2025-09-28 13:05:13.457 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:13.457 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:13.457 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:05:13.457 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:13.457 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:05:13.458 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 62.3926ms
2025-09-28 13:05:21.269 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:21.269 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:21.269 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:21.269 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:21.269 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:21.269 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:05:21.269 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:21.269 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.5716ms
2025-09-28 13:05:21.271 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:21.271 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:21.271 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:21.271 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:21.271 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:21.271 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:21.271 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:21.271 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:21.272 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:05:21.272 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:05:21.272 +07:00 [DBG] Authorization was successful.
2025-09-28 13:05:21.272 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:21.273 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:05:21.273 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:05:21.273 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:05:21.273 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:05:21.273 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:05:21.273 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:05:21.273 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:21.273 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:21.273 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:21.274 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:05:21.274 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:21.274 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:21.274 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:21.274 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:21.275 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:05:21.276 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:05:21.276 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:05:21.276 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:21.276 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:21.276 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:21.276 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:21.276 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:21.276 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:21.312 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:21.312 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:21.312 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:05:21.312 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:21.312 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:21.312 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:05:21.312 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:05:21.312 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:05:21.312 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:05:21.312 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:05:21.312 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:05:21.313 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 39.6051ms
2025-09-28 13:05:21.313 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:21.313 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:21.313 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:05:21.313 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:21.313 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:05:21.313 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 42.0879ms
2025-09-28 13:05:25.556 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:25.557 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:25.558 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:25.558 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:25.558 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:25.559 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:25.559 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:25.559 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:25.559 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:05:25.559 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:05:25.559 +07:00 [DBG] Authorization was successful.
2025-09-28 13:05:25.559 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:25.559 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:05:25.560 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:05:25.560 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:05:25.560 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:05:25.560 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:05:25.560 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:05:25.560 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:25.560 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:25.560 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:25.560 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:05:25.561 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:25.561 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:25.561 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:25.561 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:25.562 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:05:25.563 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:05:25.563 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:05:25.563 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:25.563 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:25.563 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:25.563 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:25.563 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:25.563 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:25.565 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:25.566 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:25.566 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:05:25.566 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:25.566 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:25.566 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:05:25.566 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:05:25.566 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:05:25.566 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:05:25.566 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:05:25.566 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:05:25.567 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 6.6722ms
2025-09-28 13:05:25.567 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:25.567 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:25.567 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:05:25.567 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:25.567 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:05:25.567 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 11.3227ms
2025-09-28 13:05:39.886 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:39.886 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:39.886 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:39.886 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:39.886 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:39.886 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:05:39.886 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:39.887 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.6655ms
2025-09-28 13:05:39.889 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:39.889 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:39.890 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:39.890 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:39.890 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:39.890 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:39.890 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:39.890 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:39.891 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:05:39.891 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:05:39.892 +07:00 [DBG] Authorization was successful.
2025-09-28 13:05:39.892 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:39.893 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:05:39.893 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:05:39.894 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:05:39.895 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:05:39.895 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:05:39.895 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:05:39.895 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:39.897 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:39.897 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:39.898 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:05:39.898 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:39.898 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:39.898 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:39.899 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:39.900 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:05:39.901 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:05:39.901 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:05:39.901 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:39.901 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:39.901 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:39.901 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:39.901 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:39.902 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:39.904 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:39.905 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:39.905 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:05:39.905 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:39.905 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:39.905 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:05:39.905 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:05:39.905 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:05:39.905 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:05:39.905 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:05:39.905 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:05:39.906 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 10.6725ms
2025-09-28 13:05:39.906 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:39.906 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:39.907 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:05:39.907 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:39.907 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:05:39.907 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 18.2753ms
2025-09-28 13:05:44.880 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:05:44.881 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:44.881 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:05:44.881 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:44.881 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:44.881 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:44.881 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:05:44.881 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:44.882 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:05:44.882 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:05:44.882 +07:00 [DBG] Authorization was successful.
2025-09-28 13:05:44.882 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:44.882 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:05:44.883 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:05:44.883 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:05:44.883 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:05:44.883 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:05:44.883 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:05:44.883 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:44.883 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:05:44.883 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:44.884 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:05:44.884 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:44.884 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:44.884 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:05:44.884 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:05:44.884 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:05:44.885 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:05:44.885 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:05:44.885 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:44.885 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:44.885 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:44.885 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:44.885 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:44.885 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:44.888 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:05:44.888 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:44.889 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:05:44.889 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:44.889 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:44.889 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:05:44.889 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:05:44.889 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:05:44.889 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:05:44.889 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:05:44.889 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:05:44.890 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 6.8346ms
2025-09-28 13:05:44.890 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:05:44.890 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:44.890 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:05:44.890 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:44.890 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:05:44.890 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 9.6953ms
2025-09-28 13:05:46.551 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - null null
2025-09-28 13:05:46.551 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:46.551 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:05:46.551 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:46.551 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:46.552 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:05:46.552 +07:00 [DBG] Connection id "0HNFUAI7100OT" completed keep alive response.
2025-09-28 13:05:46.552 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - 204 null null 1.1029ms
2025-09-28 13:05:46.553 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - application/json 71
2025-09-28 13:05:46.553 +07:00 [DBG] POST requests are not supported
2025-09-28 13:05:46.553 +07:00 [DBG] POST requests are not supported
2025-09-28 13:05:46.553 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:05:46.553 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:05:46.553 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 13:05:46.553 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 13:05:46.553 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:05:46.553 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:05:46.553 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:05:46.553 +07:00 [DBG] Authorization was successful.
2025-09-28 13:05:46.553 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:05:46.556 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 13:05:46.556 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:05:46.557 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 13:05:46.557 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:05:46.557 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:05:46.557 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:05:46.557 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 13:05:46.558 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 13:05:46.558 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 13:05:46.559 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 13:05:46.559 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:05:46.559 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:05:46.559 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:05:46.559 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 13:05:46.560 +07:00 [DBG] Connection id "0HNFUAI7100OT", Request id "0HNFUAI7100OT:00000010": started reading request body.
2025-09-28 13:05:46.560 +07:00 [DBG] Connection id "0HNFUAI7100OT", Request id "0HNFUAI7100OT:00000010": done reading request body.
2025-09-28 13:05:46.562 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 13:05:46.562 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:05:46.562 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:05:46.562 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 13:05:46.564 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:05:46.564 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 13:05:46.564 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name '' in request data ...
2025-09-28 13:05:46.564 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:05:46.564 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:05:46.564 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:05:46.564 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 13:05:46.564 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:05:46.566 +07:00 [INF] Processing AI suggestion for SubmissionId: 10
2025-09-28 13:05:46.568 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":10,"MaxSuggestions":2,"UsePrompt":true,"Deadline":null,"$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 13:05:46.571 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:05:46.571 +07:00 [DBG] Compiling query expression: 
'DbSet<Submission>()
    .AsNoTracking()
    .Include(s => s.Topic)
    .Where(s => s.Id == __input_SubmissionId_0)
    .FirstOrDefault()'
2025-09-28 13:05:46.572 +07:00 [DBG] Including navigation: 'Submission.Topic'.
2025-09-28 13:05:46.577 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Submission>(
    asyncEnumerable: new SingleQueryingEnumerable<Submission>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Submission.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Submission.AdditionalNotes (string), 1], [Property: Submission.AiCheckDetails (string), 2], [Property: Submission.AiCheckScore (decimal?), 3], [Property: Submission.AiCheckStatus (AiCheckStatus) Required ValueGenerated.OnAdd, 4], [Property: Submission.CreatedAt (DateTime) Required, 5], [Property: Submission.CreatedBy (string), 6], [Property: Submission.DeletedAt (DateTime?), 7], [Property: Submission.DocumentUrl (string) MaxLength(500), 8], [Property: Submission.IsActive (bool) Required, 9], [Property: Submission.LastModifiedAt (DateTime?), 10], [Property: Submission.LastModifiedBy (string), 11], [Property: Submission.PhaseId (int) Required FK Index, 12], [Property: Submission.Status (SubmissionStatus) Required Index ValueGenerated.OnAdd, 13], [Property: Submission.SubmissionRound (int) Required Index ValueGenerated.OnAdd, 14], [Property: Submission.SubmittedAt (DateTime?) Index ValueGenerated.OnAdd, 15], [Property: Submission.SubmittedBy (int) Required FK Index, 16], [Property: Submission.TopicId (int) Required FK Index, 17], [Property: Submission.TopicVersionId (int?) FK Index, 18] }
                1 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: Topic.Abbreviation (string), 20], [Property: Topic.CategoryId (int?) FK Index, 21], [Property: Topic.Content (string), 22], [Property: Topic.Context (string), 23], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 24], [Property: Topic.CreatedBy (string), 25], [Property: Topic.DeletedAt (DateTime?), 26], [Property: Topic.Description (string), 27], [Property: Topic.EN_Title (string) Required MaxLength(500), 28], [Property: Topic.IsActive (bool) Required, 29], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 30], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 31], [Property: Topic.LastModifiedAt (DateTime?), 32], [Property: Topic.LastModifiedBy (string), 33], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 34], [Property: Topic.Objectives (string), 35], [Property: Topic.PotentialDuplicate (string), 36], [Property: Topic.Problem (string), 37], [Property: Topic.SemesterId (int) Required FK Index, 38], [Property: Topic.SupervisorId (int) Required FK Index, 39], [Property: Topic.VN_title (string), 40] }
            SELECT TOP(1) s.Id, s.AdditionalNotes, s.AiCheckDetails, s.AiCheckScore, s.AiCheckStatus, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.DocumentUrl, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.PhaseId, s.Status, s.SubmissionRound, s.SubmittedAt, s.SubmittedBy, s.TopicId, s.TopicVersionId, t.Id, t.Abbreviation, t.CategoryId, t.Content, t.Context, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.EN_Title, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.PotentialDuplicate, t.Problem, t.SemesterId, t.SupervisorId, t.VN_title
            FROM submissions AS s
            LEFT JOIN topics AS t ON s.TopicId == t.Id
            WHERE s.Id == @__input_SubmissionId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Submission>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-28 13:05:46.577 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:05:46.577 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:05:46.578 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:46.578 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:46.578 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:46.578 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:46.578 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:46.578 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 13:05:46.587 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 13:05:46.587 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:46.587 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:05:46.587 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:46.587 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:46.590 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Include(u => u.LecturerSkills)
    .Include(u => u.UserRoles)
    .Include(u => u.ReviewerAssignments)
    .Include(u => u.ReviewerPerformances)
    .Where(u => u.UserRoles
        .Any(r => r.Role != null && r.Role.Name == "Reviewer") && u.LecturerSkills
        .Any())'
2025-09-28 13:05:46.592 +07:00 [DBG] Including navigation: 'User.LecturerSkills'.
2025-09-28 13:05:46.592 +07:00 [DBG] Including navigation: 'User.UserRoles'.
2025-09-28 13:05:46.592 +07:00 [DBG] Including navigation: 'User.ReviewerAssignments'.
2025-09-28 13:05:46.592 +07:00 [DBG] Including navigation: 'User.ReviewerPerformances'.
2025-09-28 13:05:46.610 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-09-28 13:05:46.615 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<User>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: LecturerSkill.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: LecturerSkill.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 20], [Property: LecturerSkill.CreatedBy (string), 21], [Property: LecturerSkill.DeletedAt (DateTime?), 22], [Property: LecturerSkill.IsActive (bool) Required, 23], [Property: LecturerSkill.LastModifiedAt (DateTime?), 24], [Property: LecturerSkill.LastModifiedBy (string), 25], [Property: LecturerSkill.LecturerId (int) Required FK Index, 26], [Property: LecturerSkill.ProficiencyLevel (ProficiencyLevels) Required ValueGenerated.OnAdd, 27], [Property: LecturerSkill.SkillTag (string) Required Index MaxLength(100), 28] }
            3 -> 19
            4 -> Dictionary<IProperty, int> { [Property: UserRole.UserId (int) Required PK FK AfterSave:Throw, 29], [Property: UserRole.RoleId (int) Required PK FK Index AfterSave:Throw, 30] }
            5 -> 29
            6 -> 30
            7 -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 31], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 32], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 33], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 34], [Property: ReviewerAssignment.CompletedAt (DateTime?), 35], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 36], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 37], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 38], [Property: ReviewerAssignment.StartedAt (DateTime?), 39], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 40], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 41] }
            8 -> 31
            9 -> Dictionary<IProperty, int> { [Property: ReviewerPerformance.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 42], [Property: ReviewerPerformance.AverageScoreGiven (decimal?), 43], [Property: ReviewerPerformance.AverageTimeMinutes (int) Required ValueGenerated.OnAdd, 44], [Property: ReviewerPerformance.CompletedAssignments (int) Required ValueGenerated.OnAdd, 45], [Property: ReviewerPerformance.LastUpdated (DateTime) Required ValueGenerated.OnAdd, 46], [Property: ReviewerPerformance.OnTimeRate (decimal?), 47], [Property: ReviewerPerformance.QualityRating (decimal?), 48], [Property: ReviewerPerformance.ReviewerId (int) Required FK Index, 49], [Property: ReviewerPerformance.SemesterId (int) Required FK Index, 50], [Property: ReviewerPerformance.TotalAssignments (int) Required ValueGenerated.OnAdd, 51] }
            10 -> 42
        SELECT u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, l0.Id, l0.CreatedAt, l0.CreatedBy, l0.DeletedAt, l0.IsActive, l0.LastModifiedAt, l0.LastModifiedBy, l0.LecturerId, l0.ProficiencyLevel, l0.SkillTag, u1.UserId, u1.RoleId, r0.Id, r0.AssignedAt, r0.AssignedBy, r0.AssignmentType, r0.CompletedAt, r0.Deadline, r0.ReviewerId, r0.SkillMatchScore, r0.StartedAt, r0.Status, r0.SubmissionId, r1.Id, r1.AverageScoreGiven, r1.AverageTimeMinutes, r1.CompletedAssignments, r1.LastUpdated, r1.OnTimeRate, r1.QualityRating, r1.ReviewerId, r1.SemesterId, r1.TotalAssignments
        FROM users AS u
        LEFT JOIN lecturer_skills AS l0 ON u.Id == l0.LecturerId
        LEFT JOIN user_roles AS u1 ON u.Id == u1.UserId
        LEFT JOIN reviewer_assignments AS r0 ON u.Id == r0.ReviewerId
        LEFT JOIN reviewer_performance AS r1 ON u.Id == r1.ReviewerId
        WHERE EXISTS (
            SELECT 1
            FROM user_roles AS u0
            INNER JOIN roles AS r ON u0.RoleId == r.Id
            WHERE ((u.Id != NULL) && (u.Id == u0.UserId)) && (Not(r.Id == NULL) && (r.Name == N'Reviewer'))) && EXISTS (
            SELECT 1
            FROM lecturer_skills AS l
            WHERE (u.Id != NULL) && (u.Id == l.LecturerId))
        ORDER BY u.Id ASC, l0.Id ASC, u1.UserId ASC, u1.RoleId ASC, r0.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 13:05:46.618 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:46.618 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:46.618 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:05:46.618 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:46.618 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:05:46.618 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 13:05:46.721 +07:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 13:05:46.722 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:05:46.722 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:05:46.723 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:05:46.723 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:05:48.891 +07:00 [DBG] Reviewer 7 skill 'fjfjurybffbbhrhipabbbfbnxmd' sim=0.4861 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 13:05:53.672 +07:00 [DBG] Reviewer 7 skill 'ai, ml' sim=0.5285 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 13:05:53.672 +07:00 [DBG] Reviewer 7 semantic breakdown: maxSim=0.5285 matchedSkills=[]
2025-09-28 13:06:13.407 +07:00 [DBG] Reviewer 7: skillScore=0.5285 matched=
2025-09-28 13:06:13.409 +07:00 [DBG] Reviewer 7 field scores: Title:0.5233, VN_Title:0.6011, Category:0, Description:0.5144, Objectives:0.5238, Problem:0.5406, Content:0.5519, Context:0.5708
2025-09-28 13:06:14.226 +07:00 [DBG] Reviewer 9 skill 'Web' sim=0.5352 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 13:06:14.226 +07:00 [DBG] Reviewer 9 semantic breakdown: maxSim=0.5352 matchedSkills=[]
2025-09-28 13:06:14.228 +07:00 [DBG] Reviewer 9: skillScore=0.5352 matched=
2025-09-28 13:06:14.228 +07:00 [DBG] Reviewer 9 field scores: Title:0.5238, VN_Title:0.6371, Category:0, Description:0.5349, Objectives:0.5255, Problem:0.5392, Content:0.5426, Context:0.5601
2025-09-28 13:06:15.099 +07:00 [DBG] Reviewer 10 skill 'blockchain' sim=0.5396 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 13:06:15.099 +07:00 [DBG] Reviewer 10 semantic breakdown: maxSim=0.5396 matchedSkills=[]
2025-09-28 13:06:15.101 +07:00 [DBG] Reviewer 10: skillScore=0.5396 matched=
2025-09-28 13:06:15.101 +07:00 [DBG] Reviewer 10 field scores: Title:0.5190, VN_Title:0.5761, Category:0, Description:0.5303, Objectives:0.5414, Problem:0.5458, Content:0.5678, Context:0.6009
2025-09-28 13:06:15.985 +07:00 [DBG] Reviewer 11 skill 'AI' sim=0.5226 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 13:06:15.985 +07:00 [DBG] Reviewer 11 semantic breakdown: maxSim=0.5226 matchedSkills=[]
2025-09-28 13:06:15.986 +07:00 [DBG] Reviewer 11: skillScore=0.5226 matched=
2025-09-28 13:06:15.987 +07:00 [DBG] Reviewer 11 field scores: Title:0.5121, VN_Title:0.5797, Category:0, Description:0.5133, Objectives:0.5073, Problem:0.5375, Content:0.5397, Context:0.5572
2025-09-28 13:06:16.558 +07:00 [DBG] Connection id "0HNFUAI7100OT" received FIN.
2025-09-28 13:06:16.558 +07:00 [DBG] Connection id "0HNFUAI7100OT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:06:16.558 +07:00 [DBG] Connection id "0HNFUAI7100OT" disconnecting.
2025-09-28 13:06:16.884 +07:00 [DBG] Reviewer 12 skill 'iot, embeded' sim=0.6387 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 13:06:16.885 +07:00 [DBG] Reviewer 12 semantic breakdown: maxSim=0.6387 matchedSkills=[iot, embeded]
2025-09-28 13:06:16.888 +07:00 [DBG] Reviewer 12: skillScore=0.6387 matched=iot, embeded
2025-09-28 13:06:16.888 +07:00 [DBG] Reviewer 12 field scores: Title:0.6227, VN_Title:0.5638, Category:0, Description:0.6125, Objectives:0.6233, Problem:0.5853, Content:0.6484, Context:0.6080
2025-09-28 13:06:17.215 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-28 13:06:17.786 +07:00 [DBG] Reviewer 13 skill 'iot, ai' sim=0.6156 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 13:06:17.786 +07:00 [DBG] Reviewer 13 semantic breakdown: maxSim=0.6156 matchedSkills=[iot, ai]
2025-09-28 13:06:17.788 +07:00 [DBG] Reviewer 13: skillScore=0.6156 matched=iot, ai
2025-09-28 13:06:17.788 +07:00 [DBG] Reviewer 13 field scores: Title:0.6271, VN_Title:0.5575, Category:0, Description:0.5886, Objectives:0.6110, Problem:0.5774, Content:0.6023, Context:0.6070
2025-09-28 13:06:18.207 +07:00 [DBG] Reviewer 14 skill 'blockchain' sim=0.5396 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:06:18.208 +07:00 [DBG] Reviewer 14 semantic breakdown: maxSim=0.5396 matchedSkills=[]
2025-09-28 13:06:18.209 +07:00 [DBG] Reviewer 14: skillScore=0.5396 matched=
2025-09-28 13:06:18.209 +07:00 [DBG] Reviewer 14 field scores: Title:0.5190, VN_Title:0.5761, Category:0, Description:0.5303, Objectives:0.5414, Problem:0.5458, Content:0.5678, Context:0.6009
2025-09-28 13:06:19.128 +07:00 [DBG] Reviewer 15 skill 'mobile' sim=0.5013 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 13:06:19.128 +07:00 [DBG] Reviewer 15 semantic breakdown: maxSim=0.5013 matchedSkills=[]
2025-09-28 13:06:19.130 +07:00 [DBG] Reviewer 15: skillScore=0.5013 matched=
2025-09-28 13:06:19.130 +07:00 [DBG] Reviewer 15 field scores: Title:0.4947, VN_Title:0.5999, Category:0, Description:0.4920, Objectives:0.5045, Problem:0.5357, Content:0.5164, Context:0.5417
2025-09-28 13:06:19.988 +07:00 [DBG] Reviewer 16 skill 'marketing' sim=0.4879 cachedSkillEmb=false skillLen=3072 topicLen=3072
2025-09-28 13:06:19.988 +07:00 [DBG] Reviewer 16 semantic breakdown: maxSim=0.4879 matchedSkills=[]
2025-09-28 13:06:19.990 +07:00 [DBG] Reviewer 16: skillScore=0.4879 matched=
2025-09-28 13:06:19.990 +07:00 [DBG] Reviewer 16 field scores: Title:0.4864, VN_Title:0.5741, Category:0, Description:0.4785, Objectives:0.5031, Problem:0.5269, Content:0.5031, Context:0.5314
2025-09-28 13:06:23.187 +07:00 [DBG] AI explanation generated (preview): Recommendations:
Recommend rv5@.com, Id 13, Overall 60.8%, SkillMatch 61.6%: Matched IoT skills and relevant tokens like sensors/RFID with zero active assignments.
Recommend rv6@.com, Id 14, Overall 5...
2025-09-28 13:06:23.188 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:06:23.188 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:06:23.188 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:06:23.189 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:06:23.189 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:06:23.201 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 36643.7257ms
2025-09-28 13:06:23.201 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:06:23.201 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:06:23.201 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:06:23.201 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:06:23.201 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - 499 null application/json; charset=utf-8 36648.3923ms
2025-09-28 13:06:23.201 +07:00 [DBG] Connection id "0HNFUAI7100OT" stopped.
2025-09-28 13:06:27.218 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:06:27.224 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.4376ms - processed: 0 items - remaining: 1 items
2025-09-28 13:06:29.084 +07:00 [DBG] Connection id "0HNFUAI7100OR" disconnecting.
2025-09-28 13:06:29.084 +07:00 [DBG] Connection id "0HNFUAI7100OU" disconnecting.
2025-09-28 13:06:29.084 +07:00 [DBG] Connection id "0HNFUAI7100OR" stopped.
2025-09-28 13:06:29.084 +07:00 [DBG] Connection id "0HNFUAI7100OU" stopped.
2025-09-28 13:06:29.084 +07:00 [DBG] Connection id "0HNFUAI7100OR" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:06:29.084 +07:00 [DBG] Connection id "0HNFUAI7100OU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:06:31.287 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:06:31.287 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:06:31.287 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:06:31.287 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:06:31.287 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:06:31.287 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:06:31.287 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:06:31.288 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.6012ms
2025-09-28 13:06:31.293 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:06:31.293 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:06:31.293 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:06:31.293 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:06:31.293 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:06:31.294 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:06:31.294 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:06:31.294 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:06:31.294 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:06:31.294 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:06:31.295 +07:00 [DBG] Authorization was successful.
2025-09-28 13:06:31.295 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:06:31.295 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:06:31.295 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:06:31.295 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:06:31.295 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:06:31.295 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:06:31.295 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:06:31.295 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:06:31.295 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:06:31.296 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:06:31.296 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:06:31.296 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:06:31.296 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:06:31.296 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:06:31.296 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:06:31.296 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:06:31.297 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:06:31.297 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:06:31.297 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:06:31.297 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:06:31.297 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:06:31.297 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:06:31.297 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:06:31.297 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:06:31.337 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:06:31.337 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:06:31.337 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:06:31.337 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:06:31.337 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:06:31.338 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:06:31.338 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:06:31.338 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:06:31.338 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:06:31.338 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:06:31.338 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:06:31.338 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 42.651ms
2025-09-28 13:06:31.338 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:06:31.338 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:06:31.338 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:06:31.338 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:06:31.338 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:06:31.338 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 45.4138ms
2025-09-28 13:06:37.229 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:06:37.229 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0129ms - processed: 0 items - remaining: 1 items
2025-09-28 13:06:46.930 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:06:46.930 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:06:46.930 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:06:46.931 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:06:46.931 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:06:46.931 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:06:46.931 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:06:46.931 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 1.2053ms
2025-09-28 13:06:46.932 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:06:46.932 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:06:46.932 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:06:46.932 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:06:46.932 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:06:46.933 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:06:46.933 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:06:46.934 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:06:46.934 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:06:46.934 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:06:46.934 +07:00 [DBG] Authorization was successful.
2025-09-28 13:06:46.935 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:06:46.935 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:06:46.935 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:06:46.935 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:06:46.935 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:06:46.935 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:06:46.935 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:06:46.935 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:06:46.936 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:06:46.936 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:06:46.936 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:06:46.936 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:06:46.936 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:06:46.936 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:06:46.936 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:06:46.937 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:06:46.937 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:06:46.938 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:06:46.938 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:06:46.938 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:06:46.938 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:06:46.938 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:06:46.938 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:06:46.938 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:06:46.940 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:06:46.941 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:06:46.941 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:06:46.941 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:06:46.941 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:06:46.941 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:06:46.941 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:06:46.941 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:06:46.942 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:06:46.942 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:06:46.942 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:06:46.943 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 7.4084ms
2025-09-28 13:06:46.943 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:06:46.943 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:06:46.943 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:06:46.943 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:06:46.943 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:06:46.943 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 11.0048ms
2025-09-28 13:06:47.235 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:06:47.235 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0029ms - processed: 0 items - remaining: 1 items
2025-09-28 13:06:57.249 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:06:57.250 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-09-28 13:07:02.376 +07:00 [DBG] Connection id "0HNFUAI7100OP" disconnecting.
2025-09-28 13:07:02.376 +07:00 [DBG] Connection id "0HNFUAI7100OP" stopped.
2025-09-28 13:07:02.377 +07:00 [DBG] Connection id "0HNFUAI7100OP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:07:05.513 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:05.513 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:05.513 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:05.513 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:05.513 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:05.513 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:07:05.514 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:05.514 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 1.3554ms
2025-09-28 13:07:05.515 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:05.516 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:05.516 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:05.516 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:05.516 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:05.516 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:05.516 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:05.516 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:05.517 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:07:05.517 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:07:05.517 +07:00 [DBG] Authorization was successful.
2025-09-28 13:07:05.517 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:05.517 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:07:05.517 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:07:05.517 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:07:05.517 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:07:05.517 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:07:05.517 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:07:05.518 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:05.518 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:05.518 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:05.518 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:07:05.518 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:05.518 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:05.518 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:05.518 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:05.521 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:07:05.521 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:07:05.522 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:07:05.522 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:05.522 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:05.522 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:07:05.522 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:05.522 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:05.522 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:05.527 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:05.530 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:07:05.530 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:07:05.530 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:05.530 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:07:05.530 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:07:05.530 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:07:05.530 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:07:05.534 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:07:05.534 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:07:05.535 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:07:05.535 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 17.3361ms
2025-09-28 13:07:05.535 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:05.535 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:05.535 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:07:05.535 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:05.535 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:07:05.535 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 19.9911ms
2025-09-28 13:07:07.255 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:07:07.255 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-09-28 13:07:07.721 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - null null
2025-09-28 13:07:07.721 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:07.721 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:07.721 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:07.721 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:07.721 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:07:07.722 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:07.722 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - 204 null null 0.7454ms
2025-09-28 13:07:07.723 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - application/json 71
2025-09-28 13:07:07.723 +07:00 [DBG] POST requests are not supported
2025-09-28 13:07:07.723 +07:00 [DBG] POST requests are not supported
2025-09-28 13:07:07.723 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:07.723 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:07.725 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 13:07:07.725 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 13:07:07.725 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:07:07.726 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:07:07.726 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:07:07.726 +07:00 [DBG] Authorization was successful.
2025-09-28 13:07:07.726 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:07:07.726 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 13:07:07.726 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:07:07.726 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 13:07:07.726 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:07:07.726 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:07:07.726 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:07:07.726 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 13:07:07.727 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 13:07:07.727 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 13:07:07.727 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 13:07:07.727 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:07:07.727 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:07:07.727 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:07:07.728 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 13:07:07.728 +07:00 [DBG] Connection id "0HNFUAI7100OS", Request id "0HNFUAI7100OS:00000010": started reading request body.
2025-09-28 13:07:07.728 +07:00 [DBG] Connection id "0HNFUAI7100OS", Request id "0HNFUAI7100OS:00000010": done reading request body.
2025-09-28 13:07:07.728 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 13:07:07.728 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:07:07.728 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:07:07.728 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 13:07:07.728 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:07:07.728 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 13:07:07.729 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name '' in request data ...
2025-09-28 13:07:07.729 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:07:07.729 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:07:07.729 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:07:07.729 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 13:07:07.729 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:07:07.729 +07:00 [INF] Processing AI suggestion for SubmissionId: 10
2025-09-28 13:07:07.730 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":10,"MaxSuggestions":2,"UsePrompt":true,"Deadline":null,"$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 13:07:07.731 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:07:07.731 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:07:07.731 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:07:07.731 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:07.731 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:07.731 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:07:07.731 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:07.731 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:07.732 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 13:07:07.739 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 13:07:07.739 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:07:07.739 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:07:07.739 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:07.740 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:07:07.740 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:07.741 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:07.741 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:07:07.741 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:07.741 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:07.741 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 13:07:07.837 +07:00 [INF] Executed DbCommand (96ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 13:07:07.839 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:07:07.839 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-09-28 13:07:07.839 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:07.839 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:07:07.840 +07:00 [DBG] Reviewer 7 skill 'fjfjurybffbbhrhipabbbfbnxmd' sim=0.4861 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.841 +07:00 [DBG] Reviewer 7 skill 'ai, ml' sim=0.5285 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.841 +07:00 [DBG] Reviewer 7 semantic breakdown: maxSim=0.5285 matchedSkills=[]
2025-09-28 13:07:07.849 +07:00 [DBG] Reviewer 7: skillScore=0.5285 matched=
2025-09-28 13:07:07.849 +07:00 [DBG] Reviewer 7 field scores: Title:0.5233, VN_Title:0.6011, Category:0, Description:0.5144, Objectives:0.5238, Problem:0.5406, Content:0.5519, Context:0.5708
2025-09-28 13:07:07.850 +07:00 [DBG] Reviewer 9 skill 'Web' sim=0.5352 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.853 +07:00 [DBG] Reviewer 9 semantic breakdown: maxSim=0.5352 matchedSkills=[]
2025-09-28 13:07:07.857 +07:00 [DBG] Reviewer 9: skillScore=0.5352 matched=
2025-09-28 13:07:07.857 +07:00 [DBG] Reviewer 9 field scores: Title:0.5238, VN_Title:0.6371, Category:0, Description:0.5349, Objectives:0.5255, Problem:0.5392, Content:0.5426, Context:0.5601
2025-09-28 13:07:07.857 +07:00 [DBG] Reviewer 10 skill 'blockchain' sim=0.5396 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.858 +07:00 [DBG] Reviewer 10 semantic breakdown: maxSim=0.5396 matchedSkills=[]
2025-09-28 13:07:07.864 +07:00 [DBG] Reviewer 10: skillScore=0.5396 matched=
2025-09-28 13:07:07.864 +07:00 [DBG] Reviewer 10 field scores: Title:0.5190, VN_Title:0.5761, Category:0, Description:0.5303, Objectives:0.5414, Problem:0.5458, Content:0.5678, Context:0.6009
2025-09-28 13:07:07.864 +07:00 [DBG] Reviewer 11 skill 'AI' sim=0.5226 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.865 +07:00 [DBG] Reviewer 11 semantic breakdown: maxSim=0.5226 matchedSkills=[]
2025-09-28 13:07:07.871 +07:00 [DBG] Reviewer 11: skillScore=0.5226 matched=
2025-09-28 13:07:07.871 +07:00 [DBG] Reviewer 11 field scores: Title:0.5121, VN_Title:0.5797, Category:0, Description:0.5133, Objectives:0.5073, Problem:0.5375, Content:0.5397, Context:0.5572
2025-09-28 13:07:07.872 +07:00 [DBG] Reviewer 12 skill 'iot, embeded' sim=0.6387 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.873 +07:00 [DBG] Reviewer 12 semantic breakdown: maxSim=0.6387 matchedSkills=[iot, embeded]
2025-09-28 13:07:07.877 +07:00 [DBG] Reviewer 12: skillScore=0.6387 matched=iot, embeded
2025-09-28 13:07:07.877 +07:00 [DBG] Reviewer 12 field scores: Title:0.6227, VN_Title:0.5638, Category:0, Description:0.6125, Objectives:0.6233, Problem:0.5853, Content:0.6484, Context:0.6080
2025-09-28 13:07:07.877 +07:00 [DBG] Reviewer 13 skill 'iot, ai' sim=0.6156 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.878 +07:00 [DBG] Reviewer 13 semantic breakdown: maxSim=0.6156 matchedSkills=[iot, ai]
2025-09-28 13:07:07.883 +07:00 [DBG] Reviewer 13: skillScore=0.6156 matched=iot, ai
2025-09-28 13:07:07.883 +07:00 [DBG] Reviewer 13 field scores: Title:0.6271, VN_Title:0.5575, Category:0, Description:0.5886, Objectives:0.6110, Problem:0.5774, Content:0.6023, Context:0.6070
2025-09-28 13:07:07.883 +07:00 [DBG] Reviewer 14 skill 'blockchain' sim=0.5396 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.883 +07:00 [DBG] Reviewer 14 semantic breakdown: maxSim=0.5396 matchedSkills=[]
2025-09-28 13:07:07.887 +07:00 [DBG] Reviewer 14: skillScore=0.5396 matched=
2025-09-28 13:07:07.887 +07:00 [DBG] Reviewer 14 field scores: Title:0.5190, VN_Title:0.5761, Category:0, Description:0.5303, Objectives:0.5414, Problem:0.5458, Content:0.5678, Context:0.6009
2025-09-28 13:07:07.887 +07:00 [DBG] Reviewer 15 skill 'mobile' sim=0.5013 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.888 +07:00 [DBG] Reviewer 15 semantic breakdown: maxSim=0.5013 matchedSkills=[]
2025-09-28 13:07:07.891 +07:00 [DBG] Reviewer 15: skillScore=0.5013 matched=
2025-09-28 13:07:07.891 +07:00 [DBG] Reviewer 15 field scores: Title:0.4947, VN_Title:0.5999, Category:0, Description:0.4920, Objectives:0.5045, Problem:0.5357, Content:0.5164, Context:0.5417
2025-09-28 13:07:07.891 +07:00 [DBG] Reviewer 16 skill 'marketing' sim=0.4879 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:07:07.892 +07:00 [DBG] Reviewer 16 semantic breakdown: maxSim=0.4879 matchedSkills=[]
2025-09-28 13:07:07.896 +07:00 [DBG] Reviewer 16: skillScore=0.4879 matched=
2025-09-28 13:07:07.896 +07:00 [DBG] Reviewer 16 field scores: Title:0.4864, VN_Title:0.5741, Category:0, Description:0.4785, Objectives:0.5031, Problem:0.5269, Content:0.5031, Context:0.5314
2025-09-28 13:07:10.743 +07:00 [DBG] AI explanation generated (preview): Recommendations:
Recommend rv5@.com, Id:13, Overall:60.8%, SkillMatch:61.6%, Matches iot and tokens like iot, smart and sensors; currently has 0 active assignments.
Recommend rv6@.com, Id:14, Overall:...
2025-09-28 13:07:10.743 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:07:10.744 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:07:10.744 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:07:10.744 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:07:10.744 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:07:10.745 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 3018.2081ms
2025-09-28 13:07:10.745 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:07:10.745 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:10.745 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:07:10.745 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:10.745 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:07:10.745 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - 200 null application/json; charset=utf-8 3022.2932ms
2025-09-28 13:07:11.449 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:11.449 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:11.449 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:11.449 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:11.449 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:11.449 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:07:11.449 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:11.449 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.2508ms
2025-09-28 13:07:11.450 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:11.450 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:11.450 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:11.450 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:11.450 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:11.450 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:11.450 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:11.451 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:11.451 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:07:11.451 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:07:11.451 +07:00 [DBG] Authorization was successful.
2025-09-28 13:07:11.451 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:11.451 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:07:11.451 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:07:11.451 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:07:11.451 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:07:11.451 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:07:11.451 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:07:11.451 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:11.452 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:11.452 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:11.452 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:07:11.452 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:11.452 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:11.452 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:11.452 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:11.452 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:07:11.453 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:07:11.453 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:07:11.453 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:11.453 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:11.453 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:07:11.453 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:11.453 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:11.453 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:11.455 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:11.455 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:07:11.456 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:07:11.456 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:11.456 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:07:11.456 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:07:11.456 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:07:11.456 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:07:11.456 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:07:11.456 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:07:11.456 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:07:11.456 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 4.6412ms
2025-09-28 13:07:11.456 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:11.456 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:11.456 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:07:11.457 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:11.457 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:07:11.457 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 6.5625ms
2025-09-28 13:07:17.258 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:07:17.259 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.6617ms - processed: 0 items - remaining: 1 items
2025-09-28 13:07:23.241 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:23.242 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:23.242 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:23.242 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:23.242 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:23.242 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:07:23.242 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:23.242 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.735ms
2025-09-28 13:07:23.244 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:23.247 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:23.247 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:23.247 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:23.247 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:23.247 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:23.247 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:23.247 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:23.249 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:07:23.250 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:07:23.250 +07:00 [DBG] Authorization was successful.
2025-09-28 13:07:23.250 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:23.253 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:07:23.253 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:07:23.253 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:07:23.253 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:07:23.253 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:07:23.253 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:07:23.253 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:23.254 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:23.254 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:23.254 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:07:23.254 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:23.254 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:23.254 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:23.254 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:23.255 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:07:23.256 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:07:23.256 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:07:23.256 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:23.256 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:23.256 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:07:23.256 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:23.256 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:23.256 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:23.321 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:23.322 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:07:23.322 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:07:23.322 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:23.322 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:07:23.322 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:07:23.322 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:07:23.322 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:07:23.323 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:07:23.323 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:07:23.323 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:07:23.323 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 69.7979ms
2025-09-28 13:07:23.323 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:23.323 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:23.323 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:07:23.323 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:23.323 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:07:23.323 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 79.5907ms
2025-09-28 13:07:27.273 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:07:27.273 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-28 13:07:33.493 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:33.493 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:33.493 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:33.493 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:33.493 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:33.493 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:07:33.493 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:33.493 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.5763ms
2025-09-28 13:07:33.494 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:33.495 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:33.496 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:33.497 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:33.497 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:33.497 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:33.497 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:33.497 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:33.498 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:07:33.498 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:07:33.498 +07:00 [DBG] Authorization was successful.
2025-09-28 13:07:33.499 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:33.499 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:07:33.499 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:07:33.499 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:07:33.499 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:07:33.499 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:07:33.499 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:07:33.499 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:33.499 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:33.499 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:33.500 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:07:33.500 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:33.500 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:33.500 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:33.500 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:33.501 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:07:33.502 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:07:33.502 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:07:33.502 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:33.502 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:33.502 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:07:33.503 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:33.503 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:33.503 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:33.533 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:33.533 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:07:33.533 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:07:33.533 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:33.533 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:07:33.533 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:07:33.533 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:07:33.533 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:07:33.533 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:07:33.534 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:07:33.534 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:07:33.534 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 34.8012ms
2025-09-28 13:07:33.534 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:33.534 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:33.534 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:07:33.534 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:33.534 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:07:33.534 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 39.5369ms
2025-09-28 13:07:37.280 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:07:37.281 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0044ms - processed: 0 items - remaining: 1 items
2025-09-28 13:07:42.935 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:42.935 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:42.935 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:42.935 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:42.935 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:42.935 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:07:42.935 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:42.935 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.4238ms
2025-09-28 13:07:42.937 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:42.938 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:42.938 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:42.938 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:42.938 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:42.939 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:42.939 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:42.939 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:42.939 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:07:42.940 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:07:42.941 +07:00 [DBG] Authorization was successful.
2025-09-28 13:07:42.941 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:42.941 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:07:42.941 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:07:42.941 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:07:42.941 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:07:42.941 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:07:42.941 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:07:42.941 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:42.941 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:42.942 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:42.942 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:07:42.942 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:42.942 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:42.942 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:42.942 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:42.948 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:07:42.949 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:07:42.950 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:07:42.950 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:42.950 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:42.950 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:07:42.950 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:42.950 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:42.951 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:42.955 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:42.956 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:07:42.957 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 13:07:42.957 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:42.957 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:07:42.957 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:07:42.957 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:07:42.957 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:07:42.957 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:07:42.958 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:07:42.958 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:07:42.958 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 17.0271ms
2025-09-28 13:07:42.958 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:42.958 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:42.959 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:07:42.959 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:42.959 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:07:42.959 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 22.3095ms
2025-09-28 13:07:47.294 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:07:47.294 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-09-28 13:07:49.391 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:49.391 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:49.391 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:07:49.391 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:49.391 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:49.391 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:07:49.391 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:49.391 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.6389ms
2025-09-28 13:07:49.392 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:07:49.392 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:49.393 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:07:49.393 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:07:49.393 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:07:49.393 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:49.393 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:07:49.393 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:49.393 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:07:49.393 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:07:49.393 +07:00 [DBG] Authorization was successful.
2025-09-28 13:07:49.393 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:49.393 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:07:49.393 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:07:49.393 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:07:49.394 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:07:49.394 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:07:49.394 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:07:49.394 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:49.394 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:07:49.394 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:49.394 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:07:49.394 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:49.394 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:49.394 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:07:49.394 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:07:49.395 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:07:49.395 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:07:49.396 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:07:49.396 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:49.396 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:49.396 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:07:49.396 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:49.396 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:07:49.397 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:49.398 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:07:49.399 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:07:49.399 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:07:49.399 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:49.400 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:07:49.400 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:07:49.400 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:07:49.400 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:07:49.400 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:07:49.400 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:07:49.400 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:07:49.401 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 6.964ms
2025-09-28 13:07:49.401 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:07:49.401 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:07:49.401 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:07:49.401 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:07:49.401 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:07:49.401 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 9.0818ms
2025-09-28 13:07:57.310 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:07:57.310 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-09-28 13:08:07.313 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:08:07.313 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.006ms - processed: 0 items - remaining: 1 items
2025-09-28 13:08:17.316 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:08:17.316 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
2025-09-28 13:08:27.332 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:08:27.332 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 1 items
2025-09-28 13:08:37.344 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:08:37.345 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0032ms - processed: 0 items - remaining: 1 items
2025-09-28 13:08:47.348 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:08:47.348 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0031ms - processed: 0 items - remaining: 1 items
2025-09-28 13:08:53.407 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:08:53.407 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:08:53.407 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:08:53.408 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:08:53.408 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:08:53.408 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:08:53.408 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:08:53.408 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 1.1762ms
2025-09-28 13:08:53.409 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:08:53.410 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:08:53.410 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:08:53.410 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:08:53.410 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:08:53.410 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:08:53.410 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:08:53.410 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:08:53.411 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:08:53.411 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:08:53.411 +07:00 [DBG] Authorization was successful.
2025-09-28 13:08:53.411 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:08:53.412 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:08:53.412 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:08:53.412 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:08:53.412 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:08:53.412 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:08:53.412 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:08:53.412 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:08:53.413 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:08:53.413 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:08:53.413 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:08:53.413 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:08:53.413 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:08:53.414 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:08:53.414 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:08:53.414 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:08:53.414 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:08:53.415 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:08:53.415 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:08:53.415 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:08:53.415 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:08:53.415 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:08:53.415 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:08:53.415 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:08:53.450 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:08:53.450 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:08:53.450 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:08:53.450 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:08:53.450 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:08:53.450 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:08:53.450 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:08:53.450 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:08:53.450 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:08:53.450 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:08:53.450 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:08:53.451 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 38.5762ms
2025-09-28 13:08:53.451 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:08:53.451 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:08:53.451 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:08:53.451 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:08:53.451 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:08:53.451 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 41.4319ms
2025-09-28 13:08:57.353 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:08:57.354 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0039ms - processed: 0 items - remaining: 1 items
2025-09-28 13:09:07.361 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:09:07.362 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
2025-09-28 13:09:17.378 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:09:17.378 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
2025-09-28 13:09:27.389 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:09:27.389 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0023ms - processed: 0 items - remaining: 1 items
2025-09-28 13:09:37.394 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:09:37.394 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
2025-09-28 13:09:47.403 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:09:47.404 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 1 items
2025-09-28 13:09:57.415 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:09:57.416 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.2562ms - processed: 0 items - remaining: 1 items
2025-09-28 13:09:58.468 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:09:58.468 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:09:58.468 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:09:58.468 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:09:58.468 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:09:58.468 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:09:58.468 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:09:58.468 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - 204 null null 0.3795ms
2025-09-28 13:09:58.468 +07:00 [DBG] Connection id "0HNFUAI7100OV" accepted.
2025-09-28 13:09:58.469 +07:00 [DBG] Connection id "0HNFUAI7100OV" started.
2025-09-28 13:09:58.469 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:09:58.469 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:09:58.469 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:09:58.469 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:09:58.469 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:09:58.469 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:09:58.469 +07:00 [DBG] Connection id "0HNFUAI7100OV" completed keep alive response.
2025-09-28 13:09:58.469 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.5313ms
2025-09-28 13:09:58.470 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:09:58.470 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:09:58.470 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:09:58.470 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:09:58.470 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:09:58.470 +07:00 [DBG] 2 candidate(s) found for the request path '/api/user-profiles/me'
2025-09-28 13:09:58.470 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)' with route pattern 'api/user-profiles/me' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:09:58.470 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetById (CapBot.api)' with route pattern 'api/user-profiles/{id}' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:09:58.470 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:09:58.470 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:09:58.470 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:09:58.471 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:09:58.471 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:09:58.471 +07:00 [DBG] Authorization was successful.
2025-09-28 13:09:58.471 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:09:58.471 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:09:58.471 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:09:58.471 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:09:58.471 +07:00 [INF] Route matched with {action = "GetMyProfile", controller = "UserProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller CapBot.api.Controllers.UserProfileController (CapBot.api).
2025-09-28 13:09:58.471 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:09:58.471 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:09:58.471 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:09:58.471 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:09:58.471 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:09:58.471 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:09:58.471 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:09:58.471 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:09:58.471 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:09:58.471 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:09:58.471 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:09:58.471 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:09:58.471 +07:00 [DBG] Authorization was successful.
2025-09-28 13:09:58.471 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:09:58.472 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:09:58.472 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:09:58.472 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:09:58.472 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:09:58.472 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:09:58.472 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:09:58.472 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:09:58.472 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:09:58.472 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:09:58.472 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:09:58.472 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:09:58.472 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:09:58.472 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.472 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:09:58.472 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:09:58.472 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.472 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:09:58.472 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:09:58.472 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:09:58.472 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:09:58.472 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:09:58.472 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:09:58.472 +07:00 [DBG] Executing DbCommand [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:09:58.473 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:09:58.473 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:09:58.473 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:09:58.473 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.479 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.479 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:09:58.479 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:09:58.479 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:09:58.479 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:09:58.487 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:09:58.487 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.487 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:09:58.487 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.487 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:09:58.488 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:09:58.488 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:09:58.488 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:09:58.488 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:09:58.488 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:09:58.488 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:09:58.488 +07:00 [INF] Executed action CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api) in 17.0444ms
2025-09-28 13:09:58.488 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:09:58.488 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:09:58.488 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:09:58.488 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.488 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:09:58.488 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - 200 null application/json; charset=utf-8 18.461ms
2025-09-28 13:09:58.506 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:09:58.507 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.507 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:09:58.507 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.507 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:09:58.507 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:09:58.507 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:09:58.507 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:09:58.507 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:09:58.507 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:09:58.507 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:09:58.507 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 35.4023ms
2025-09-28 13:09:58.507 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:09:58.507 +07:00 [DBG] Connection id "0HNFUAI7100OV" completed keep alive response.
2025-09-28 13:09:58.507 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:09:58.507 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:09:58.507 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:09:58.507 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 36.9289ms
2025-09-28 13:10:07.424 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:10:07.424 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
2025-09-28 13:10:17.430 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:10:17.430 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
2025-09-28 13:10:27.444 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:10:27.444 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
2025-09-28 13:10:37.447 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:10:37.447 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0026ms - processed: 0 items - remaining: 1 items
2025-09-28 13:10:47.457 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:10:47.458 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 1 items
2025-09-28 13:10:57.459 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:10:57.459 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
2025-09-28 13:11:07.476 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:11:07.476 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 1 items
2025-09-28 13:11:17.480 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:11:17.480 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0043ms - processed: 0 items - remaining: 1 items
2025-09-28 13:11:27.486 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:11:27.487 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.2055ms - processed: 0 items - remaining: 1 items
2025-09-28 13:11:37.489 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:11:37.489 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0024ms - processed: 0 items - remaining: 1 items
2025-09-28 13:11:47.501 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:11:47.502 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 1 items
2025-09-28 13:11:47.902 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/10 - null null
2025-09-28 13:11:47.903 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:11:47.903 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:11:47.903 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:11:47.903 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:11:47.904 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:11:47.904 +07:00 [DBG] Connection id "0HNFUAI7100OV" completed keep alive response.
2025-09-28 13:11:47.904 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/10 - 204 null null 1.4984ms
2025-09-28 13:11:47.904 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:11:47.905 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:11:47.905 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:11:47.905 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:11:47.905 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:11:47.905 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:11:47.905 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:11:47.905 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.9988ms
2025-09-28 13:11:47.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/detail/10 - null null
2025-09-28 13:11:47.907 +07:00 [DBG] The request path /api/submission/detail/10 does not match a supported file type
2025-09-28 13:11:47.907 +07:00 [DBG] The request path /api/submission/detail/10 does not match a supported file type
2025-09-28 13:11:47.907 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:11:47.907 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:11:47.907 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:11:47.907 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/detail/10'
2025-09-28 13:11:47.908 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:11:47.908 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:11:47.908 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:11:47.908 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:11:47.908 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:11:47.908 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:11:47.908 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)' with route pattern 'api/submission/detail/{id}' is valid for the request path '/api/submission/detail/10'
2025-09-28 13:11:47.908 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:11:47.908 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:11:47.909 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:11:47.909 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:11:47.909 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:11:47.910 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:11:47.910 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:11:47.910 +07:00 [INF] Route matched with {action = "Detail", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Detail(Int32) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:11:47.910 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:11:47.910 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:11:47.910 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:11:47.910 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:11:47.910 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:11:47.911 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:11:47.911 +07:00 [DBG] Authorization was successful.
2025-09-28 13:11:47.911 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:11:47.911 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:11:47.911 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:11:47.911 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:11:47.911 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:11:47.911 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:11:47.911 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:11:47.912 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:11:47.912 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:11:47.912 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:11:47.912 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:11:47.912 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-28 13:11:47.912 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-28 13:11:47.912 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:11:47.912 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:11:47.912 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:11:47.912 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-28 13:11:47.912 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:11:47.912 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-28 13:11:47.912 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:11:47.912 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:11:47.912 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:11:47.913 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:11:47.913 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:11:47.913 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:11:47.913 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:11:47.913 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:11:47.914 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:11:47.914 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.914 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.914 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.914 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.914 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:11:47.914 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:11:47.914 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:11:47.914 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:11:47.914 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:11:47.914 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:11:47.914 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:11:47.914 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:11:47.949 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:11:47.949 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:11:47.949 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.949 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:11:47.949 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.949 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.949 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:11:47.949 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:11:47.949 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.949 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:11:47.949 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:11:47.950 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:11:47.950 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:11:47.950 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:11:47.950 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:11:47.950 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:11:47.950 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.950 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.950 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:11:47.950 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:11:47.950 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:11:47.950 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:11:47.950 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 38.4368ms
2025-09-28 13:11:47.950 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:11:47.950 +07:00 [DBG] Connection id "0HNFUAI7100OV" completed keep alive response.
2025-09-28 13:11:47.950 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:11:47.950 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.950 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:11:47.950 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 42.8335ms
2025-09-28 13:11:47.958 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:11:47.958 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.958 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:11:47.958 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.958 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:11:47.958 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:11:47.958 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:11:47.958 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:11:47.958 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:11:47.958 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:11:47.959 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.Detail (CapBot.api) in 48.1071ms
2025-09-28 13:11:47.959 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:11:47.959 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:11:47.959 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:11:47.959 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:11:47.959 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:11:47.959 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/detail/10 - 200 null application/json; charset=utf-8 52.0437ms
2025-09-28 13:11:57.518 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:11:57.519 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0058ms - processed: 0 items - remaining: 1 items
2025-09-28 13:12:07.529 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:12:07.530 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
2025-09-28 13:12:17.539 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:12:17.539 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
2025-09-28 13:12:27.549 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:12:27.549 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0047ms - processed: 0 items - remaining: 1 items
2025-09-28 13:12:37.558 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:12:37.558 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0034ms - processed: 0 items - remaining: 1 items
2025-09-28 13:12:38.471 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:12:38.471 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:12:38.471 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:12:38.471 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:12:38.471 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:12:38.472 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:12:38.472 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:12:38.472 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 1.2993ms
2025-09-28 13:12:38.473 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:12:38.473 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:12:38.473 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:12:38.473 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:12:38.473 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:12:38.473 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:12:38.473 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:12:38.474 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:12:38.474 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:12:38.474 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:12:38.474 +07:00 [DBG] Authorization was successful.
2025-09-28 13:12:38.474 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:12:38.474 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:12:38.474 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:12:38.474 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:12:38.474 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:12:38.474 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:12:38.475 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:12:38.475 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:12:38.475 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:12:38.475 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:12:38.475 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:12:38.475 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:12:38.475 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:12:38.475 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:12:38.475 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:12:38.476 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:12:38.476 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:12:38.476 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:12:38.476 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:12:38.477 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:12:38.477 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:12:38.477 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:12:38.477 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:12:38.477 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:12:38.513 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:12:38.513 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:12:38.513 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:12:38.513 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:12:38.513 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:12:38.514 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:12:38.514 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:12:38.514 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:12:38.514 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:12:38.514 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:12:38.514 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:12:38.514 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 39.5567ms
2025-09-28 13:12:38.514 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:12:38.514 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:12:38.514 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:12:38.514 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:12:38.514 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:12:38.515 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 41.5825ms
2025-09-28 13:12:47.565 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:12:47.565 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0052ms - processed: 0 items - remaining: 1 items
2025-09-28 13:12:57.570 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:12:57.570 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 1 items
2025-09-28 13:13:07.577 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:13:07.577 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-09-28 13:13:09.481 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:13:09.481 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:13:09.481 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:13:09.481 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:13:09.481 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:13:09.481 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:13:09.482 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:13:09.482 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.4953ms
2025-09-28 13:13:09.483 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:13:09.483 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:13:09.483 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:13:09.483 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:13:09.484 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:13:09.484 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:13:09.484 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:13:09.484 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:13:09.484 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:13:09.484 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:13:09.485 +07:00 [DBG] Authorization was successful.
2025-09-28 13:13:09.485 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:13:09.485 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:13:09.485 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:13:09.485 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:13:09.485 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:13:09.485 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:13:09.485 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:13:09.485 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:13:09.486 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:13:09.486 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:13:09.486 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:13:09.486 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:13:09.486 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:13:09.487 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:13:09.487 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:13:09.488 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:13:09.489 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:13:09.489 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:13:09.490 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:09.490 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:09.490 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:13:09.490 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:13:09.490 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:13:09.491 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:13:09.526 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:13:09.527 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:13:09.527 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:13:09.527 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:09.527 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:13:09.527 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:13:09.527 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:13:09.527 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:13:09.527 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:13:09.527 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:13:09.527 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:13:09.527 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 41.9034ms
2025-09-28 13:13:09.527 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:13:09.527 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:13:09.527 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:13:09.527 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:09.527 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:13:09.527 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 44.8838ms
2025-09-28 13:13:17.580 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:13:17.581 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
2025-09-28 13:13:27.595 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:13:27.595 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.004ms - processed: 0 items - remaining: 1 items
2025-09-28 13:13:34.333 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:13:34.333 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:13:34.334 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:13:34.334 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:13:34.334 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:13:34.334 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:13:34.334 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:13:34.334 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.9226ms
2025-09-28 13:13:34.335 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:13:34.335 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:13:34.335 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:13:34.335 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:13:34.335 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:13:34.335 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:13:34.335 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:13:34.335 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:13:34.336 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:13:34.336 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:13:34.336 +07:00 [DBG] Authorization was successful.
2025-09-28 13:13:34.336 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:13:34.336 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:13:34.336 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:13:34.336 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:13:34.336 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:13:34.336 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:13:34.336 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:13:34.337 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:13:34.337 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:13:34.337 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:13:34.337 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:13:34.337 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:13:34.337 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:13:34.337 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:13:34.337 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:13:34.338 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:13:34.338 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:13:34.338 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:13:34.338 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:34.338 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:34.338 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:13:34.339 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:13:34.339 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:13:34.339 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:13:34.341 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:13:34.342 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:13:34.342 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:13:34.342 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:34.342 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:13:34.343 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:13:34.343 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:13:34.343 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:13:34.343 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:13:34.343 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:13:34.343 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:13:34.343 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 6.4591ms
2025-09-28 13:13:34.343 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:13:34.343 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:13:34.343 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:13:34.343 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:34.343 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:13:34.343 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 8.3138ms
2025-09-28 13:13:37.609 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:13:37.609 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 1 items
2025-09-28 13:13:47.611 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:13:47.611 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0035ms - processed: 0 items - remaining: 1 items
2025-09-28 13:13:47.926 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-28 13:13:49.699 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:13:49.699 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:13:49.700 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:13:49.700 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:13:49.700 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:13:49.700 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:13:49.700 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:13:49.701 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 2.1989ms
2025-09-28 13:13:49.703 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:13:49.704 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:13:49.704 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:13:49.704 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:13:49.704 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:13:49.706 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:13:49.706 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:13:49.707 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:13:49.708 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:13:49.708 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:13:49.708 +07:00 [DBG] Authorization was successful.
2025-09-28 13:13:49.708 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:13:49.708 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:13:49.708 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:13:49.708 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:13:49.708 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:13:49.708 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:13:49.708 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:13:49.708 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:13:49.709 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:13:49.709 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:13:49.709 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:13:49.709 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:13:49.709 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:13:49.709 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:13:49.709 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:13:49.709 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:13:49.710 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:13:49.710 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:13:49.710 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:49.710 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:49.710 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:13:49.710 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:13:49.710 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:13:49.710 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:13:49.711 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:13:49.711 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:13:49.711 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:13:49.711 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:49.711 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:13:49.711 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:13:49.711 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:13:49.711 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:13:49.711 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:13:49.711 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:13:49.711 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:13:49.711 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 3.0429ms
2025-09-28 13:13:49.711 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:13:49.711 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:13:49.712 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:13:49.712 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:13:49.712 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:13:49.712 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 8.9008ms
2025-09-28 13:13:57.612 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:13:57.612 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.003ms - processed: 0 items - remaining: 2 items
2025-09-28 13:13:58.608 +07:00 [DBG] Connection id "0HNFUAI7100OV" disconnecting.
2025-09-28 13:13:58.608 +07:00 [DBG] Connection id "0HNFUAI7100OV" stopped.
2025-09-28 13:13:58.608 +07:00 [DBG] Connection id "0HNFUAI7100OV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:14:07.621 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:14:07.621 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0048ms - processed: 0 items - remaining: 2 items
2025-09-28 13:14:10.408 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:14:10.408 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:14:10.408 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:14:10.408 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:14:10.409 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:14:10.409 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:14:10.409 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:14:10.409 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.7128ms
2025-09-28 13:14:10.410 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:14:10.410 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:14:10.410 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:14:10.410 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:14:10.410 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:14:10.410 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:14:10.411 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:14:10.411 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:14:10.411 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:14:10.412 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:14:10.412 +07:00 [DBG] Authorization was successful.
2025-09-28 13:14:10.412 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:14:10.412 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:14:10.413 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:14:10.413 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:14:10.413 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:14:10.414 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:14:10.414 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:14:10.415 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:14:10.416 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:14:10.416 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:14:10.416 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:14:10.416 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:14:10.416 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:14:10.416 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:14:10.416 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:14:10.417 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:14:10.417 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:14:10.417 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:14:10.417 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:14:10.417 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:14:10.417 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:14:10.417 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:14:10.417 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:14:10.417 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:14:10.450 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:14:10.450 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:14:10.450 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:14:10.450 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:14:10.450 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:14:10.450 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:14:10.450 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:14:10.450 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:14:10.450 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:14:10.450 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:14:10.450 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:14:10.450 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 35.4747ms
2025-09-28 13:14:10.450 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:14:10.450 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:14:10.450 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:14:10.450 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:14:10.450 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:14:10.450 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 40.7626ms
2025-09-28 13:14:17.630 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:14:17.630 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2025-09-28 13:14:27.644 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:14:27.644 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 2 items
2025-09-28 13:14:30.170 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:14:30.170 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:14:30.171 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:14:30.171 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:14:30.171 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:14:30.171 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:14:30.171 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:14:30.172 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 1.8979ms
2025-09-28 13:14:30.173 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:14:30.173 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:14:30.173 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:14:30.174 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:14:30.174 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:14:30.174 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:14:30.176 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:14:30.176 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:14:30.178 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:14:30.178 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:14:30.179 +07:00 [DBG] Authorization was successful.
2025-09-28 13:14:30.179 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:14:30.179 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:14:30.179 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:14:30.179 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:14:30.180 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:14:30.180 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:14:30.180 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:14:30.180 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:14:30.182 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:14:30.182 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:14:30.182 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:14:30.182 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:14:30.182 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:14:30.182 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:14:30.182 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:14:30.183 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:14:30.183 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:14:30.183 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:14:30.183 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:14:30.183 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:14:30.183 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:14:30.183 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:14:30.183 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:14:30.183 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:14:30.185 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:14:30.186 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:14:30.186 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:14:30.186 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:14:30.186 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:14:30.186 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:14:30.187 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:14:30.187 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:14:30.187 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:14:30.187 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:14:30.187 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:14:30.188 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 7.8957ms
2025-09-28 13:14:30.188 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:14:30.188 +07:00 [DBG] Connection id "0HNFUAI7100OS" completed keep alive response.
2025-09-28 13:14:30.188 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:14:30.188 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:14:30.188 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:14:30.188 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 15.0642ms
2025-09-28 13:14:37.651 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:14:37.651 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0042ms - processed: 0 items - remaining: 2 items
2025-09-28 13:14:47.659 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:14:47.659 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2025-09-28 13:14:57.665 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:14:57.665 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-09-28 13:15:07.674 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:15:07.674 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1229ms - processed: 0 items - remaining: 2 items
2025-09-28 13:15:17.680 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:15:17.680 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0038ms - processed: 0 items - remaining: 2 items
2025-09-28 13:15:27.683 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:15:27.683 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2025-09-28 13:15:37.684 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:15:37.685 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0033ms - processed: 0 items - remaining: 2 items
2025-09-28 13:15:47.691 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:15:47.691 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0036ms - processed: 0 items - remaining: 2 items
2025-09-28 13:15:57.695 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:15:57.695 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0046ms - processed: 0 items - remaining: 2 items
2025-09-28 13:16:07.699 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:16:07.700 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0054ms - processed: 0 items - remaining: 2 items
2025-09-28 13:16:17.710 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:16:17.710 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 2 items
2025-09-28 13:16:27.719 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:16:27.719 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.005ms - processed: 0 items - remaining: 2 items
2025-09-28 13:16:37.731 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:16:37.731 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0025ms - processed: 0 items - remaining: 2 items
2025-09-28 13:16:41.743 +07:00 [DBG] Connection id "0HNFUAI7100OS" disconnecting.
2025-09-28 13:16:41.743 +07:00 [DBG] Connection id "0HNFUAI7100OS" stopped.
2025-09-28 13:16:41.743 +07:00 [DBG] Connection id "0HNFUAI7100OS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:16:47.739 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:16:47.739 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-28 13:16:57.755 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:16:57.755 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0009ms - processed: 0 items - remaining: 2 items
2025-09-28 13:17:07.757 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:17:07.758 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0022ms - processed: 0 items - remaining: 2 items
2025-09-28 13:17:17.771 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:17:17.771 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0109ms - processed: 0 items - remaining: 2 items
2025-09-28 13:17:27.784 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:17:27.784 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-28 13:17:37.789 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:17:37.790 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 2 items
2025-09-28 13:17:47.798 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:17:47.798 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-28 13:17:57.809 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:17:57.810 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-28 13:18:07.824 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:18:07.825 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 2 items
2025-09-28 13:18:15.778 +07:00 [DBG] Connection id "0HNFUAI7100P0" accepted.
2025-09-28 13:18:15.779 +07:00 [DBG] Connection id "0HNFUAI7100P0" started.
2025-09-28 13:18:15.779 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:18:15.779 +07:00 [DBG] Connection id "0HNFUAI7100P1" accepted.
2025-09-28 13:18:15.779 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:15.779 +07:00 [DBG] Connection id "0HNFUAI7100P1" started.
2025-09-28 13:18:15.779 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:15.779 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:15.779 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:15.779 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:18:15.779 +07:00 [DBG] Connection id "0HNFUAI7100P0" completed keep alive response.
2025-09-28 13:18:15.779 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/user-profiles/me - 204 null null 0.4254ms
2025-09-28 13:18:15.780 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/10 - null null
2025-09-28 13:18:15.780 +07:00 [DBG] Connection id "0HNFUAI7100P2" accepted.
2025-09-28 13:18:15.780 +07:00 [DBG] Connection id "0HNFUAI7100P2" started.
2025-09-28 13:18:15.780 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:15.780 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:15.780 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:15.780 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:15.781 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:18:15.781 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:18:15.781 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/10 - 204 null null 0.698ms
2025-09-28 13:18:15.781 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:18:15.781 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:15.781 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - null null
2025-09-28 13:18:15.781 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:15.781 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:15.781 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:15.781 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:18:15.781 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:18:15.781 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:18:15.781 +07:00 [DBG] The request path /api/user-profiles/me does not match a supported file type
2025-09-28 13:18:15.781 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:15.782 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:15.782 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.7721ms
2025-09-28 13:18:15.782 +07:00 [DBG] 2 candidate(s) found for the request path '/api/user-profiles/me'
2025-09-28 13:18:15.782 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)' with route pattern 'api/user-profiles/me' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:18:15.782 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.UserProfileController.GetById (CapBot.api)' with route pattern 'api/user-profiles/{id}' is valid for the request path '/api/user-profiles/me'
2025-09-28 13:18:15.782 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:18:15.782 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:18:15.782 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:18:15.783 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/detail/10 - null null
2025-09-28 13:18:15.783 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:18:15.783 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:18:15.783 +07:00 [DBG] The request path /api/submission/detail/10 does not match a supported file type
2025-09-28 13:18:15.783 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:18:15.783 +07:00 [DBG] The request path /api/submission/detail/10 does not match a supported file type
2025-09-28 13:18:15.783 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:15.783 +07:00 [DBG] Authorization was successful.
2025-09-28 13:18:15.783 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:15.783 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:15.783 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:18:15.783 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:15.783 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:18:15.783 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/detail/10'
2025-09-28 13:18:15.783 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:18:15.783 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)' with route pattern 'api/submission/detail/{id}' is valid for the request path '/api/submission/detail/10'
2025-09-28 13:18:15.783 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:18:15.783 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:18:15.783 +07:00 [INF] Route matched with {action = "GetMyProfile", controller = "UserProfile"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller CapBot.api.Controllers.UserProfileController (CapBot.api).
2025-09-28 13:18:15.783 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:18:15.784 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:18:15.784 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:18:15.784 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:18:15.784 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:18:15.784 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:18:15.784 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:18:15.784 +07:00 [INF] Route matched with {action = "Detail", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Detail(Int32) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:18:15.784 +07:00 [DBG] Authorization was successful.
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:18:15.784 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:18:15.784 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:18:15.784 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.UserProfileController (CapBot.api)
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:18:15.784 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:18:15.784 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:18:15.784 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:18:15.784 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:18:15.784 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:18:15.785 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:18:15.785 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:18:15.785 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:18:15.785 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:18:15.785 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:18:15.785 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:18:15.785 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:18:15.785 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:18:15.785 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:18:15.785 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-28 13:18:15.785 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.785 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-28 13:18:15.785 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:18:15.785 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:18:15.785 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:18:15.785 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-28 13:18:15.785 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-28 13:18:15.786 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:18:15.786 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:18:15.786 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.786 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:18:15.786 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:18:15.786 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:18:15.786 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.856 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.857 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:18:15.857 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:15.857 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:15.857 +07:00 [DBG] Executing DbCommand [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:18:15.862 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.862 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:18:15.862 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:15.862 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:15.862 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:18:15.869 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.869 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:18:15.869 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:15.870 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:15.870 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:18:15.883 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__targetUserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Address], [p].[Avatar], [p].[CoverImage], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[FullName], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[UserId]
FROM [profiles] AS [p]
WHERE [p].[UserId] = @__targetUserId_0 AND [p].[IsActive] = CAST(1 AS bit) AND [p].[DeletedAt] IS NULL AND [p].[DeletedAt] IS NULL
2025-09-28 13:18:15.883 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.883 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:18:15.883 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.883 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:18:15.883 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:18:15.883 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:18:15.883 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:18:15.883 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:18:15.883 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:18:15.883 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:18:15.883 +07:00 [INF] Executed action CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api) in 99.7124ms
2025-09-28 13:18:15.883 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.UserProfileController.GetMyProfile (CapBot.api)'
2025-09-28 13:18:15.883 +07:00 [DBG] Connection id "0HNFUAI7100P0" completed keep alive response.
2025-09-28 13:18:15.883 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:18:15.884 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.884 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:18:15.884 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/user-profiles/me - 200 null application/json; charset=utf-8 102.7321ms
2025-09-28 13:18:15.908 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:18:15.910 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.911 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-09-28 13:18:15.911 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.911 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:18:15.911 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:18:15.911 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:18:15.911 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:18:15.911 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:18:15.911 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:18:15.911 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:18:15.911 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 126.9522ms
2025-09-28 13:18:15.911 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:18:15.911 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:18:15.911 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:18:15.911 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.911 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:18:15.911 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 128.4918ms
2025-09-28 13:18:15.913 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:18:15.913 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.913 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:18:15.913 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.913 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:18:15.914 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.914 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.914 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:18:15.914 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:15.914 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:15.914 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:18:15.924 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:18:15.925 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.925 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:18:15.925 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.925 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:18:15.925 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:18:15.925 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:18:15.925 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:18:15.925 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:18:15.925 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:18:15.925 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.Detail (CapBot.api) in 140.957ms
2025-09-28 13:18:15.925 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:18:15.925 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:18:15.926 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:18:15.926 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:15.926 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:18:15.926 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/detail/10 - 200 null application/json; charset=utf-8 143.1934ms
2025-09-28 13:18:17.835 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:18:17.835 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-09-28 13:18:25.959 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - null null
2025-09-28 13:18:25.959 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:25.959 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:25.959 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:25.959 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:25.959 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:18:25.959 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:18:25.959 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - 204 null null 0.3137ms
2025-09-28 13:18:25.960 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - application/json 71
2025-09-28 13:18:25.960 +07:00 [DBG] POST requests are not supported
2025-09-28 13:18:25.960 +07:00 [DBG] POST requests are not supported
2025-09-28 13:18:25.960 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:25.960 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:25.960 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 13:18:25.960 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 13:18:25.960 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:18:25.960 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:18:25.961 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:18:25.961 +07:00 [DBG] Authorization was successful.
2025-09-28 13:18:25.961 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:18:25.961 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 13:18:25.961 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:18:25.961 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 13:18:25.961 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:18:25.961 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:18:25.961 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:18:25.961 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 13:18:25.962 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 13:18:25.962 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 13:18:25.962 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 13:18:25.962 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:18:25.962 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:18:25.962 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:18:25.962 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 13:18:25.962 +07:00 [DBG] Connection id "0HNFUAI7100P2", Request id "0HNFUAI7100P2:00000004": started reading request body.
2025-09-28 13:18:25.962 +07:00 [DBG] Connection id "0HNFUAI7100P2", Request id "0HNFUAI7100P2:00000004": done reading request body.
2025-09-28 13:18:25.962 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 13:18:25.963 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:18:25.963 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:18:25.963 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 13:18:25.963 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:18:25.963 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 13:18:25.963 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name '' in request data ...
2025-09-28 13:18:25.963 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:18:25.963 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:18:25.963 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:18:25.963 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 13:18:25.963 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:18:25.963 +07:00 [INF] Processing AI suggestion for SubmissionId: 10
2025-09-28 13:18:25.963 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":10,"MaxSuggestions":2,"UsePrompt":true,"Deadline":null,"$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 13:18:25.964 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:18:25.964 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:18:25.964 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:18:25.964 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:25.964 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:25.964 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:18:25.964 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:25.964 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:25.964 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 13:18:25.990 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 13:18:25.990 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:18:25.991 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:18:25.991 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:25.991 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:18:25.992 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:25.992 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:25.992 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:18:25.992 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:25.992 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:25.992 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 13:18:27.845 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:18:27.845 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 2 items
2025-09-28 13:18:37.852 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:18:37.852 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 2 items
2025-09-28 13:18:37.966 +07:00 [INF] Executed DbCommand (11,974ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 13:18:37.967 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:18:37.967 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:18:37.967 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:37.967 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:18:37.967 +07:00 [DBG] Reviewer 7 skill 'fjfjurybffbbhrhipabbbfbnxmd' sim=0.4861 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.967 +07:00 [DBG] Reviewer 7 skill 'ai, ml' sim=0.5285 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.967 +07:00 [DBG] Reviewer 7 semantic breakdown: maxSim=0.5285 matchedSkills=[]
2025-09-28 13:18:37.970 +07:00 [DBG] Reviewer 7: skillScore=0.5285 matched=
2025-09-28 13:18:37.970 +07:00 [DBG] Reviewer 7 field scores: Title:0.5233, VN_Title:0.6011, Category:0, Description:0.5144, Objectives:0.5238, Problem:0.5406, Content:0.5519, Context:0.5708
2025-09-28 13:18:37.970 +07:00 [DBG] Reviewer 9 skill 'Web' sim=0.5352 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.970 +07:00 [DBG] Reviewer 9 semantic breakdown: maxSim=0.5352 matchedSkills=[]
2025-09-28 13:18:37.971 +07:00 [DBG] Reviewer 9: skillScore=0.5352 matched=
2025-09-28 13:18:37.972 +07:00 [DBG] Reviewer 9 field scores: Title:0.5238, VN_Title:0.6371, Category:0, Description:0.5349, Objectives:0.5255, Problem:0.5392, Content:0.5426, Context:0.5601
2025-09-28 13:18:37.972 +07:00 [DBG] Reviewer 10 skill 'blockchain' sim=0.5396 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.972 +07:00 [DBG] Reviewer 10 semantic breakdown: maxSim=0.5396 matchedSkills=[]
2025-09-28 13:18:37.973 +07:00 [DBG] Reviewer 10: skillScore=0.5396 matched=
2025-09-28 13:18:37.973 +07:00 [DBG] Reviewer 10 field scores: Title:0.5190, VN_Title:0.5761, Category:0, Description:0.5303, Objectives:0.5414, Problem:0.5458, Content:0.5678, Context:0.6009
2025-09-28 13:18:37.973 +07:00 [DBG] Reviewer 11 skill 'AI' sim=0.5226 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.973 +07:00 [DBG] Reviewer 11 semantic breakdown: maxSim=0.5226 matchedSkills=[]
2025-09-28 13:18:37.974 +07:00 [DBG] Reviewer 11: skillScore=0.5226 matched=
2025-09-28 13:18:37.974 +07:00 [DBG] Reviewer 11 field scores: Title:0.5121, VN_Title:0.5797, Category:0, Description:0.5133, Objectives:0.5073, Problem:0.5375, Content:0.5397, Context:0.5572
2025-09-28 13:18:37.974 +07:00 [DBG] Reviewer 12 skill 'iot, embeded' sim=0.6387 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.975 +07:00 [DBG] Reviewer 12 semantic breakdown: maxSim=0.6387 matchedSkills=[iot, embeded]
2025-09-28 13:18:37.976 +07:00 [DBG] Reviewer 12: skillScore=0.6387 matched=iot, embeded
2025-09-28 13:18:37.976 +07:00 [DBG] Reviewer 12 field scores: Title:0.6227, VN_Title:0.5638, Category:0, Description:0.6125, Objectives:0.6233, Problem:0.5853, Content:0.6484, Context:0.6080
2025-09-28 13:18:37.976 +07:00 [DBG] Reviewer 13 skill 'iot, ai' sim=0.6156 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.976 +07:00 [DBG] Reviewer 13 semantic breakdown: maxSim=0.6156 matchedSkills=[iot, ai]
2025-09-28 13:18:37.978 +07:00 [DBG] Reviewer 13: skillScore=0.6156 matched=iot, ai
2025-09-28 13:18:37.978 +07:00 [DBG] Reviewer 13 field scores: Title:0.6271, VN_Title:0.5575, Category:0, Description:0.5886, Objectives:0.6110, Problem:0.5774, Content:0.6023, Context:0.6070
2025-09-28 13:18:37.978 +07:00 [DBG] Reviewer 14 skill 'blockchain' sim=0.5396 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.978 +07:00 [DBG] Reviewer 14 semantic breakdown: maxSim=0.5396 matchedSkills=[]
2025-09-28 13:18:37.980 +07:00 [DBG] Reviewer 14: skillScore=0.5396 matched=
2025-09-28 13:18:37.980 +07:00 [DBG] Reviewer 14 field scores: Title:0.5190, VN_Title:0.5761, Category:0, Description:0.5303, Objectives:0.5414, Problem:0.5458, Content:0.5678, Context:0.6009
2025-09-28 13:18:37.980 +07:00 [DBG] Reviewer 15 skill 'mobile' sim=0.5013 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.980 +07:00 [DBG] Reviewer 15 semantic breakdown: maxSim=0.5013 matchedSkills=[]
2025-09-28 13:18:37.981 +07:00 [DBG] Reviewer 15: skillScore=0.5013 matched=
2025-09-28 13:18:37.981 +07:00 [DBG] Reviewer 15 field scores: Title:0.4947, VN_Title:0.5999, Category:0, Description:0.4920, Objectives:0.5045, Problem:0.5357, Content:0.5164, Context:0.5417
2025-09-28 13:18:37.981 +07:00 [DBG] Reviewer 16 skill 'marketing' sim=0.4879 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:18:37.981 +07:00 [DBG] Reviewer 16 semantic breakdown: maxSim=0.4879 matchedSkills=[]
2025-09-28 13:18:37.983 +07:00 [DBG] Reviewer 16: skillScore=0.4879 matched=
2025-09-28 13:18:37.983 +07:00 [DBG] Reviewer 16 field scores: Title:0.4864, VN_Title:0.5741, Category:0, Description:0.4785, Objectives:0.5031, Problem:0.5269, Content:0.5031, Context:0.5314
2025-09-28 13:18:38.108 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:18:38.108 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:38.108 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:18:38.108 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:38.108 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:38.108 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:18:38.108 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:18:38.108 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/10 - 204 null null 0.5297ms
2025-09-28 13:18:38.111 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:18:38.111 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:18:38.111 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:18:38.112 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:38.112 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:38.112 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:18:38.112 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:18:38.112 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:18:38.112 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:18:38.112 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:18:38.112 +07:00 [DBG] Authorization was successful.
2025-09-28 13:18:38.113 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:18:38.113 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:18:38.113 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:18:38.113 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:18:38.113 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:18:38.113 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:18:38.113 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:18:38.113 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:18:38.113 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:18:38.114 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:18:38.114 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:18:38.114 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:18:38.114 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:18:38.114 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:18:38.114 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:18:38.115 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:18:38.116 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:18:38.116 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:18:38.116 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:38.116 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:38.116 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:18:38.117 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:38.117 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:38.117 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:18:38.152 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:18:38.152 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:18:38.152 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:18:38.152 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:38.152 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:18:38.152 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:18:38.152 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:18:38.152 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:18:38.152 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:18:38.152 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:18:38.152 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:18:38.152 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 39.1889ms
2025-09-28 13:18:38.152 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:18:38.152 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:18:38.152 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:18:38.152 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:38.152 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:18:38.153 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 41.2966ms
2025-09-28 13:18:40.089 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - null null
2025-09-28 13:18:40.089 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:18:40.089 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/10 does not match a supported file type
2025-09-28 13:18:40.090 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:18:40.090 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:18:40.090 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:18:40.090 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/10'
2025-09-28 13:18:40.090 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:18:40.090 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:18:40.090 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:18:40.090 +07:00 [DBG] Authorization was successful.
2025-09-28 13:18:40.090 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:18:40.090 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:18:40.091 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:18:40.091 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:18:40.091 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:18:40.091 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:18:40.091 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:18:40.091 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:18:40.091 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:18:40.091 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:18:40.092 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:18:40.092 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:18:40.092 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:18:40.092 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:18:40.092 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:18:40.093 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:18:40.093 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:18:40.093 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:18:40.093 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:40.093 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:40.093 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:18:40.093 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:40.093 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:18:40.093 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:18:40.094 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:18:40.095 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:18:40.095 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:18:40.095 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:40.095 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:18:40.095 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:18:40.096 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:18:40.096 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:18:40.096 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:18:40.096 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:18:40.096 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:18:40.096 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 4.9884ms
2025-09-28 13:18:40.096 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:18:40.096 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:18:40.096 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:18:40.096 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:40.096 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:18:40.096 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/10 - 200 null application/json; charset=utf-8 6.9742ms
2025-09-28 13:18:40.400 +07:00 [DBG] AI explanation generated (preview): Recommendations:
Recommend rv5@.com (Id:13) Overall:60.8% SkillMatch:61.6% - Matches iot, sensors, rfid and has 0 active assignments.
Recommend rv6@.com (Id:14) Overall:57.0% SkillMatch:54.0% - Matche...
2025-09-28 13:18:40.400 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:18:40.401 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:18:40.401 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:18:40.401 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:18:40.401 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:18:40.401 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 14439.4768ms
2025-09-28 13:18:40.401 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:18:40.401 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:18:40.401 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:18:40.401 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:18:40.401 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:18:40.401 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - 200 null application/json; charset=utf-8 14441.4323ms
2025-09-28 13:18:47.862 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:18:47.862 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 2 items
2025-09-28 13:18:57.867 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:18:57.868 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0206ms - processed: 0 items - remaining: 2 items
2025-09-28 13:19:04.767 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/list?PageNumber=1&PageSize=10 - null null
2025-09-28 13:19:04.768 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:04.768 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:04.768 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:04.768 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:04.768 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:19:04.768 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:19:04.769 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/list?PageNumber=1&PageSize=10 - 204 null null 1.0377ms
2025-09-28 13:19:04.770 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/list?PageNumber=1&PageSize=10 - null null
2025-09-28 13:19:04.770 +07:00 [DBG] The request path /api/submission/list does not match a supported file type
2025-09-28 13:19:04.770 +07:00 [DBG] The request path /api/submission/list does not match a supported file type
2025-09-28 13:19:04.770 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:04.770 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:04.770 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/list'
2025-09-28 13:19:04.771 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)' with route pattern 'api/submission/list' is valid for the request path '/api/submission/list'
2025-09-28 13:19:04.771 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)'
2025-09-28 13:19:04.771 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:19:04.772 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:19:04.772 +07:00 [DBG] Authorization was successful.
2025-09-28 13:19:04.772 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)'
2025-09-28 13:19:04.772 +07:00 [INF] Route matched with {action = "List", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] List(App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:19:04.772 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:19:04.773 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:19:04.773 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:19:04.774 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:19:04.774 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:19:04.774 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:19:04.775 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:19:04.776 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO' ...
2025-09-28 13:19:04.776 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO' using the name '' in request data ...
2025-09-28 13:19:04.776 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TopicVersionId' of type 'System.Nullable`1[System.Int32]' using the name 'TopicVersionId' in request data ...
2025-09-28 13:19:04.776 +07:00 [DBG] Could not find a value in the request with name 'TopicVersionId' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TopicVersionId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:19:04.776 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TopicVersionId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:19:04.776 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PhaseId' of type 'System.Nullable`1[System.Int32]' using the name 'PhaseId' in request data ...
2025-09-28 13:19:04.777 +07:00 [DBG] Could not find a value in the request with name 'PhaseId' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PhaseId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:19:04.777 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PhaseId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:19:04.777 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-09-28 13:19:04.777 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:19:04.777 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-09-28 13:19:04.777 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Status' of type 'System.Nullable`1[App.Entities.Enums.SubmissionStatus]' using the name 'Status' in request data ...
2025-09-28 13:19:04.778 +07:00 [DBG] Could not find a value in the request with name 'Status' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Status' of type 'System.Nullable`1[App.Entities.Enums.SubmissionStatus]'.
2025-09-28 13:19:04.778 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Status' of type 'System.Nullable`1[App.Entities.Enums.SubmissionStatus]'.
2025-09-28 13:19:04.778 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-09-28 13:19:04.778 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageNumber' of type 'System.Int32'.
2025-09-28 13:19:04.778 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-09-28 13:19:04.778 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.PageSize' of type 'System.Int32'.
2025-09-28 13:19:04.778 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-09-28 13:19:04.778 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Keyword' of type 'System.String'.
2025-09-28 13:19:04.778 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.Keyword' of type 'System.String'.
2025-09-28 13:19:04.778 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-09-28 13:19:04.778 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-09-28 13:19:04.778 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-09-28 13:19:04.778 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO'.
2025-09-28 13:19:04.778 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO'.
2025-09-28 13:19:04.778 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO' ...
2025-09-28 13:19:04.779 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Submissions.GetSubmissionsQueryDTO'.
2025-09-28 13:19:04.780 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:19:04.781 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:19:04.781 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:19:04.781 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:04.781 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:04.781 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:04.781 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:04.781 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:04.781 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [submissions] AS [s]
2025-09-28 13:19:04.786 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [submissions] AS [s]
2025-09-28 13:19:04.787 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:04.787 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:04.787 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:04.787 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:04.788 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:04.788 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:04.788 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:04.788 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:04.788 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:04.789 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdditionalNotes], [t].[AiCheckDetails], [t].[AiCheckScore], [t].[AiCheckStatus], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[DocumentUrl], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[PhaseId], [t].[Status], [t].[SubmissionRound], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[TopicVersionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM (
    SELECT [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId]
    FROM [submissions] AS [s]
    ORDER BY [s].[SubmittedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [users] AS [u] ON [t].[SubmittedBy] = [u].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
ORDER BY [t].[SubmittedAt] DESC
2025-09-28 13:19:04.799 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdditionalNotes], [t].[AiCheckDetails], [t].[AiCheckScore], [t].[AiCheckStatus], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[DocumentUrl], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[PhaseId], [t].[Status], [t].[SubmissionRound], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[TopicVersionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM (
    SELECT [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId]
    FROM [submissions] AS [s]
    ORDER BY [s].[SubmittedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
INNER JOIN [users] AS [u] ON [t].[SubmittedBy] = [u].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
ORDER BY [t].[SubmittedAt] DESC
2025-09-28 13:19:04.799 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:04.799 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:04.799 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:04.799 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:04.799 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:19:04.799 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:19:04.799 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:19:04.799 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:19:04.799 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:19:04.799 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.List (CapBot.api) in 25.1024ms
2025-09-28 13:19:04.799 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.List (CapBot.api)'
2025-09-28 13:19:04.799 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:19:04.799 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:19:04.799 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:04.799 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:19:04.799 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/list?PageNumber=1&PageSize=10 - 200 null application/json; charset=utf-8 29.1904ms
2025-09-28 13:19:07.608 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/5 - null null
2025-09-28 13:19:07.608 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:07.608 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:07.608 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:19:07.608 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:07.608 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:07.608 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:07.608 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:07.608 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:07.608 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:07.608 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:19:07.608 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:19:07.608 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - 204 null null 0.4874ms
2025-09-28 13:19:07.609 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:19:07.609 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:19:07.609 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/submission/detail/5 - 204 null null 1.6049ms
2025-09-28 13:19:07.613 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/submission/detail/5 - null null
2025-09-28 13:19:07.613 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:19:07.613 +07:00 [DBG] The request path /api/submission/detail/5 does not match a supported file type
2025-09-28 13:19:07.613 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:19:07.614 +07:00 [DBG] The request path /api/submission/detail/5 does not match a supported file type
2025-09-28 13:19:07.614 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:19:07.614 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:07.614 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:07.614 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:07.614 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:07.614 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:19:07.614 +07:00 [DBG] 1 candidate(s) found for the request path '/api/submission/detail/5'
2025-09-28 13:19:07.614 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)' with route pattern 'api/submission/detail/{id}' is valid for the request path '/api/submission/detail/5'
2025-09-28 13:19:07.614 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:19:07.614 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:19:07.614 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:19:07.615 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:19:07.615 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:19:07.615 +07:00 [DBG] Authorization was successful.
2025-09-28 13:19:07.615 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:19:07.615 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:19:07.615 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:19:07.615 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:19:07.615 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:19:07.615 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:19:07.615 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:19:07.615 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:19:07.616 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:19:07.616 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:19:07.616 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:19:07.616 +07:00 [INF] Route matched with {action = "Detail", controller = "Submission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Detail(Int32) on controller CapBot.api.Controllers.SubmissionController (CapBot.api).
2025-09-28 13:19:07.616 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:19:07.616 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:19:07.617 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:19:07.617 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:19:07.617 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:19:07.617 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:19:07.617 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:19:07.617 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:19:07.617 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:19:07.617 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:07.617 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:07.617 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:19:07.617 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:07.618 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SubmissionController (CapBot.api)
2025-09-28 13:19:07.618 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-09-28 13:19:07.618 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-09-28 13:19:07.618 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:19:07.618 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-09-28 13:19:07.618 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-09-28 13:19:07.618 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-09-28 13:19:07.618 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:19:07.618 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:19:07.619 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:19:07.619 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:19:07.619 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:19:07.619 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.619 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:19:07.619 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.619 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.619 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:07.619 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:07.619 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.619 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:07.619 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:07.619 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:07.619 +07:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:19:07.619 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:07.621 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:19:07.626 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:19:07.627 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.627 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:07.627 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.627 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:07.628 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:19:07.628 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:19:07.628 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:19:07.628 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:19:07.628 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:19:07.628 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:19:07.628 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 11.8642ms
2025-09-28 13:19:07.628 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:19:07.628 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:19:07.628 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:19:07.628 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.628 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:19:07.629 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - 200 null application/json; charset=utf-8 16.23ms
2025-09-28 13:19:07.642 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title], [p].[Id], [p].[CreatedAt], [p].[CreatedBy], [p].[DeletedAt], [p].[EndDate], [p].[IsActive], [p].[LastModifiedAt], [p].[LastModifiedBy], [p].[Name], [p].[PhaseTypeId], [p].[SemesterId], [p].[StartDate], [p].[SubmissionDeadline], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [submissions] AS [s]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [s].[TopicId] = [t0].[Id]
INNER JOIN [phases] AS [p] ON [s].[PhaseId] = [p].[Id]
INNER JOIN [users] AS [u] ON [s].[SubmittedBy] = [u].[Id]
WHERE [s].[Id] = @__id_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-09-28 13:19:07.642 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.642 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:07.642 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.642 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:07.643 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.643 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:07.643 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:07.643 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:07.643 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:19:07.652 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[Caption], [e].[CreatedAt], [e].[EntityId], [e].[EntityType], [e].[FileId], [e].[IsPrimary], [f].[Id], [f].[Alt], [f].[Checksum], [f].[CreatedAt], [f].[CreatedBy], [f].[DeletedAt], [f].[FileName], [f].[FilePath], [f].[FileSize], [f].[FileType], [f].[Height], [f].[IsActive], [f].[LastModifiedAt], [f].[LastModifiedBy], [f].[MimeType], [f].[ThumbnailUrl], [f].[Url], [f].[Width]
FROM [entity_files] AS [e]
INNER JOIN [files] AS [f] ON [e].[FileId] = [f].[Id]
WHERE [e].[EntityId] = @__p_0 AND [e].[EntityType] = 3 AND [e].[IsPrimary] = CAST(1 AS bit)
2025-09-28 13:19:07.652 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.652 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:07.652 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.652 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:07.652 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:19:07.652 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:19:07.652 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:19:07.652 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:19:07.652 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:19:07.653 +07:00 [INF] Executed action CapBot.api.Controllers.SubmissionController.Detail (CapBot.api) in 35.3924ms
2025-09-28 13:19:07.653 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SubmissionController.Detail (CapBot.api)'
2025-09-28 13:19:07.653 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:19:07.653 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:19:07.653 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:07.653 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:19:07.653 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/submission/detail/5 - 200 null application/json; charset=utf-8 39.8983ms
2025-09-28 13:19:07.878 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:19:07.878 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.002ms - processed: 0 items - remaining: 2 items
2025-09-28 13:19:12.234 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/available/5 - null null
2025-09-28 13:19:12.234 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:12.234 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:12.234 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:12.234 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:12.234 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:19:12.234 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:19:12.234 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/available/5 - 204 null null 0.2248ms
2025-09-28 13:19:12.238 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/available/5 - null null
2025-09-28 13:19:12.238 +07:00 [DBG] The request path /api/reviewer-assignments/available/5 does not match a supported file type
2025-09-28 13:19:12.238 +07:00 [DBG] The request path /api/reviewer-assignments/available/5 does not match a supported file type
2025-09-28 13:19:12.238 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:12.238 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:12.238 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/available/5'
2025-09-28 13:19:12.238 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAvailableReviewers (CapBot.api)' with route pattern 'api/reviewer-assignments/available/{submissionId}' is valid for the request path '/api/reviewer-assignments/available/5'
2025-09-28 13:19:12.239 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAvailableReviewers (CapBot.api)'
2025-09-28 13:19:12.239 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:19:12.239 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:19:12.239 +07:00 [DBG] Authorization was successful.
2025-09-28 13:19:12.240 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAvailableReviewers (CapBot.api)'
2025-09-28 13:19:12.245 +07:00 [INF] Route matched with {action = "GetAvailableReviewers", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAvailableReviewers(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:19:12.246 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:19:12.246 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:19:12.246 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:19:12.246 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:19:12.247 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:19:12.247 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:19:12.247 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:19:12.247 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:19:12.247 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:19:12.248 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:12.248 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:12.248 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:19:12.248 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:12.253 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:19:12.254 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:19:12.254 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:19:12.254 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.254 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.255 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.255 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.255 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.255 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-09-28 13:19:12.270 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[RoleId], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [r].[Id], [l].[Id], [l].[CreatedAt], [l].[CreatedBy], [l].[DeletedAt], [l].[IsActive], [l].[LastModifiedAt], [l].[LastModifiedBy], [l].[LecturerId], [l].[ProficiencyLevel], [l].[SkillTag], [r0].[Id], [r0].[AverageScoreGiven], [r0].[AverageTimeMinutes], [r0].[CompletedAssignments], [r0].[LastUpdated], [r0].[OnTimeRate], [r0].[QualityRating], [r0].[ReviewerId], [r0].[SemesterId], [r0].[TotalAssignments], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
INNER JOIN [users] AS [u0] ON [u].[UserId] = [u0].[Id]
LEFT JOIN [lecturer_skills] AS [l] ON [u0].[Id] = [l].[LecturerId]
LEFT JOIN [reviewer_performance] AS [r0] ON [u0].[Id] = [r0].[ReviewerId]
WHERE [r].[Name] = N'Reviewer'
ORDER BY [u].[UserId], [u].[RoleId], [r].[Id], [u0].[Id], [l].[Id]
2025-09-28 13:19:12.272 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.272 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 13:19:12.272 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.272 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.274 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Where(ra => ra.SubmissionId == __submissionId_0)'
2025-09-28 13:19:12.277 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId
        FROM reviewer_assignments AS r
        WHERE r.SubmissionId == @__submissionId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 13:19:12.277 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.278 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.278 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.278 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.278 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.278 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:19:12.283 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:19:12.283 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.283 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.283 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.283 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.285 +07:00 [DBG] Compiling query expression: 
'DbSet<ReviewerAssignment>()
    .AsNoTracking()
    .Where(ra => ra.ReviewerId == __reviewer_Id_0 && (int)ra.Status == 1 || (int)ra.Status == 2)'
2025-09-28 13:19:12.290 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ReviewerAssignment>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: ReviewerAssignment.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ReviewerAssignment.AssignedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: ReviewerAssignment.AssignedBy (int) Required FK Index, 2], [Property: ReviewerAssignment.AssignmentType (AssignmentTypes) Required ValueGenerated.OnAdd, 3], [Property: ReviewerAssignment.CompletedAt (DateTime?), 4], [Property: ReviewerAssignment.Deadline (DateTime?) Index, 5], [Property: ReviewerAssignment.ReviewerId (int) Required FK Index, 6], [Property: ReviewerAssignment.SkillMatchScore (decimal?), 7], [Property: ReviewerAssignment.StartedAt (DateTime?), 8], [Property: ReviewerAssignment.Status (AssignmentStatus) Required Index ValueGenerated.OnAdd, 9], [Property: ReviewerAssignment.SubmissionId (int) Required FK Index, 10] }
        SELECT r.Id, r.AssignedAt, r.AssignedBy, r.AssignmentType, r.CompletedAt, r.Deadline, r.ReviewerId, r.SkillMatchScore, r.StartedAt, r.Status, r.SubmissionId
        FROM reviewer_assignments AS r
        WHERE (r.ReviewerId == @__reviewer_Id_0) && r.Status IN (1, 2)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ReviewerAssignment>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-09-28 13:19:12.293 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.294 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.294 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.294 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.294 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.294 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.301 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.302 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.302 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.302 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.302 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.303 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.303 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.303 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.303 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.304 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.304 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.305 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.306 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.306 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-09-28 13:19:12.307 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.307 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.309 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.309 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.309 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.309 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.309 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.309 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.310 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.311 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.311 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.311 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.311 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.312 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.312 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.312 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.312 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.312 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.312 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.314 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.315 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.315 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.315 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.315 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.316 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.316 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.316 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.316 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.316 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.316 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.318 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.318 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.318 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.318 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.318 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.318 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.318 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.318 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.318 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.318 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.318 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.320 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.321 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.321 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.321 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.321 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.322 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.323 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.323 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.323 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.323 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.324 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.325 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.325 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.325 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.325 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.325 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.325 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.325 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.325 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.325 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.325 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.327 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.328 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.328 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.329 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.329 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.330 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.330 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.330 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.330 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.330 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.330 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.332 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.332 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.332 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.332 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.332 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.333 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.333 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.333 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.333 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.334 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.334 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.336 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.337 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.337 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.337 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.337 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.338 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.338 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.338 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:12.338 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.338 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:12.338 +07:00 [DBG] Executing DbCommand [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.340 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__reviewer_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId]
FROM [reviewer_assignments] AS [r]
WHERE [r].[ReviewerId] = @__reviewer_Id_0 AND [r].[Status] IN (1, 2)
2025-09-28 13:19:12.340 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.340 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:12.340 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.340 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:12.344 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:19:12.344 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:19:12.344 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:19:12.344 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:19:12.344 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:19:12.344 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:19:12.345 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAvailableReviewers (CapBot.api) in 97.8912ms
2025-09-28 13:19:12.345 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAvailableReviewers (CapBot.api)'
2025-09-28 13:19:12.345 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:19:12.345 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:19:12.345 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:12.345 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:19:12.345 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/available/5 - 200 null application/json; charset=utf-8 107.3091ms
2025-09-28 13:19:16.461 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - null null
2025-09-28 13:19:16.461 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:16.461 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:16.461 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:16.461 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:16.461 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:19:16.461 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:19:16.461 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - 204 null null 0.3002ms
2025-09-28 13:19:16.462 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - application/json 70
2025-09-28 13:19:16.463 +07:00 [DBG] POST requests are not supported
2025-09-28 13:19:16.463 +07:00 [DBG] POST requests are not supported
2025-09-28 13:19:16.463 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:16.463 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:16.463 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 13:19:16.463 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)' with route pattern 'api/reviewer-suggestion/ai-suggest-by-submission' is valid for the request path '/api/reviewer-suggestion/ai-suggest-by-submission'
2025-09-28 13:19:16.463 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:19:16.463 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:19:16.463 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:19:16.463 +07:00 [DBG] Authorization was successful.
2025-09-28 13:19:16.463 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:19:16.463 +07:00 [INF] Route matched with {action = "SuggestBySubmissionId", controller = "ReviewerSuggestion"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SuggestBySubmissionId(App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO, Boolean) on controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api).
2025-09-28 13:19:16.464 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:19:16.464 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-09-28 13:19:16.464 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:19:16.464 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:19:16.464 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-09-28 13:19:16.464 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 13:19:16.465 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerSuggestionController (CapBot.api)
2025-09-28 13:19:16.465 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 13:19:16.465 +07:00 [DBG] Attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' using the name '' in request data ...
2025-09-28 13:19:16.465 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:19:16.465 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:19:16.465 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-09-28 13:19:16.465 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-28 13:19:16.466 +07:00 [DBG] Connection id "0HNFUAI7100P1", Request id "0HNFUAI7100P1:0000000B": started reading request body.
2025-09-28 13:19:16.466 +07:00 [DBG] Connection id "0HNFUAI7100P1", Request id "0HNFUAI7100P1:0000000B": done reading request body.
2025-09-28 13:19:16.466 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'
2025-09-28 13:19:16.466 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:19:16.466 +07:00 [DBG] Done attempting to bind parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:19:16.466 +07:00 [DBG] Attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO' ...
2025-09-28 13:19:16.466 +07:00 [DBG] Done attempting to validate the bound parameter 'input' of type 'App.Entities.DTOs.ReviewerSuggestion.ReviewerSuggestionBySubmissionInputDTO'.
2025-09-28 13:19:16.466 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' ...
2025-09-28 13:19:16.466 +07:00 [DBG] Attempting to bind parameter 'assign' of type 'System.Boolean' using the name '' in request data ...
2025-09-28 13:19:16.466 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:19:16.466 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:19:16.466 +07:00 [DBG] Done attempting to bind parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:19:16.466 +07:00 [DBG] Attempting to validate the bound parameter 'assign' of type 'System.Boolean' ...
2025-09-28 13:19:16.466 +07:00 [DBG] Done attempting to validate the bound parameter 'assign' of type 'System.Boolean'.
2025-09-28 13:19:16.466 +07:00 [INF] Processing AI suggestion for SubmissionId: 5
2025-09-28 13:19:16.466 +07:00 [INF] Received input for SuggestBySubmissionId: {"SubmissionId":5,"MaxSuggestions":2,"UsePrompt":true,"Deadline":null,"$type":"ReviewerSuggestionBySubmissionInputDTO"}
2025-09-28 13:19:16.467 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:19:16.468 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:19:16.468 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:19:16.468 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:16.468 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:16.468 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:16.468 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:16.468 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:16.468 +07:00 [DBG] Executing DbCommand [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 13:19:16.475 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__input_SubmissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Abbreviation], [t].[CategoryId], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[EN_Title], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[SemesterId], [t].[SupervisorId], [t].[VN_title]
FROM [submissions] AS [s]
LEFT JOIN [topics] AS [t] ON [s].[TopicId] = [t].[Id]
WHERE [s].[Id] = @__input_SubmissionId_0
2025-09-28 13:19:16.476 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:16.476 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:16.476 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:16.476 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:16.477 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:16.477 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:16.477 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:16.477 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:16.477 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:16.477 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 13:19:16.480 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [l0].[Id], [l0].[CreatedAt], [l0].[CreatedBy], [l0].[DeletedAt], [l0].[IsActive], [l0].[LastModifiedAt], [l0].[LastModifiedBy], [l0].[LecturerId], [l0].[ProficiencyLevel], [l0].[SkillTag], [u1].[UserId], [u1].[RoleId], [r0].[Id], [r0].[AssignedAt], [r0].[AssignedBy], [r0].[AssignmentType], [r0].[CompletedAt], [r0].[Deadline], [r0].[ReviewerId], [r0].[SkillMatchScore], [r0].[StartedAt], [r0].[Status], [r0].[SubmissionId], [r1].[Id], [r1].[AverageScoreGiven], [r1].[AverageTimeMinutes], [r1].[CompletedAssignments], [r1].[LastUpdated], [r1].[OnTimeRate], [r1].[QualityRating], [r1].[ReviewerId], [r1].[SemesterId], [r1].[TotalAssignments]
FROM [users] AS [u]
LEFT JOIN [lecturer_skills] AS [l0] ON [u].[Id] = [l0].[LecturerId]
LEFT JOIN [user_roles] AS [u1] ON [u].[Id] = [u1].[UserId]
LEFT JOIN [reviewer_assignments] AS [r0] ON [u].[Id] = [r0].[ReviewerId]
LEFT JOIN [reviewer_performance] AS [r1] ON [u].[Id] = [r1].[ReviewerId]
WHERE EXISTS (
    SELECT 1
    FROM [user_roles] AS [u0]
    INNER JOIN [roles] AS [r] ON [u0].[RoleId] = [r].[Id]
    WHERE [u].[Id] = [u0].[UserId] AND [r].[Name] = N'Reviewer') AND EXISTS (
    SELECT 1
    FROM [lecturer_skills] AS [l]
    WHERE [u].[Id] = [l].[LecturerId])
ORDER BY [u].[Id], [l0].[Id], [u1].[UserId], [u1].[RoleId], [r0].[Id]
2025-09-28 13:19:16.481 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:16.481 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:16.481 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:16.482 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:17.039 +07:00 [DBG] Reviewer 7 skill 'fjfjurybffbbhrhipabbbfbnxmd' sim=0.6229 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:17.890 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:19:17.890 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0006ms - processed: 0 items - remaining: 2 items
2025-09-28 13:19:22.973 +07:00 [DBG] Reviewer 7 skill 'ai, ml' sim=0.6199 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:22.974 +07:00 [DBG] Reviewer 7 semantic breakdown: maxSim=0.6918 matchedSkills=[fjfjurybffbbhrhipabbbfbnxmd,ai, ml]
2025-09-28 13:19:27.901 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 2 items
2025-09-28 13:19:27.981 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.1384ms - processed: 2 items - remaining: 0 items
2025-09-28 13:19:32.983 +07:00 [DBG] Reviewer 7: skillScore=0.6229 matched=fjfjurybffbbhrhipabbbfbnxmd,ai, ml
2025-09-28 13:19:32.983 +07:00 [DBG] Reviewer 7 field scores: Title:0.6268, VN_Title:0.6011, Category:0, Description:0.5956, Objectives:0.5989, Problem:0.5707, Content:0.5810, Context:0.6236
2025-09-28 13:19:32.983 +07:00 [DBG] Reviewer 9 skill 'Web' sim=0.6095 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:32.983 +07:00 [DBG] Reviewer 9 semantic breakdown: maxSim=0.6095 matchedSkills=[Web]
2025-09-28 13:19:32.983 +07:00 [DBG] Reviewer 9: skillScore=0.6095 matched=Web
2025-09-28 13:19:32.983 +07:00 [DBG] Reviewer 9 field scores: Title:0.6102, VN_Title:0.6371, Category:0, Description:0.6130, Objectives:0.6507, Problem:0.5999, Content:0.6353, Context:0.6535
2025-09-28 13:19:32.984 +07:00 [DBG] Reviewer 10 skill 'blockchain' sim=0.6075 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:32.985 +07:00 [DBG] Reviewer 10 semantic breakdown: maxSim=0.6075 matchedSkills=[blockchain]
2025-09-28 13:19:32.985 +07:00 [DBG] Reviewer 10: skillScore=0.6075 matched=blockchain
2025-09-28 13:19:32.985 +07:00 [DBG] Reviewer 10 field scores: Title:0.5668, VN_Title:0.5761, Category:0, Description:0.6141, Objectives:0.5933, Problem:0.7432, Content:0.5832, Context:0.6322
2025-09-28 13:19:32.985 +07:00 [DBG] Reviewer 11 skill 'AI' sim=0.6064 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:32.985 +07:00 [DBG] Reviewer 11 semantic breakdown: maxSim=0.6064 matchedSkills=[AI]
2025-09-28 13:19:32.986 +07:00 [DBG] Reviewer 11: skillScore=0.6064 matched=AI
2025-09-28 13:19:32.986 +07:00 [DBG] Reviewer 11 field scores: Title:0.6067, VN_Title:0.5797, Category:0, Description:0.6137, Objectives:0.5984, Problem:0.6082, Content:0.5881, Context:0.6198
2025-09-28 13:19:32.986 +07:00 [DBG] Reviewer 12 skill 'iot, embeded' sim=0.6869 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:32.986 +07:00 [DBG] Reviewer 12 semantic breakdown: maxSim=0.6869 matchedSkills=[iot, embeded]
2025-09-28 13:19:32.987 +07:00 [DBG] Reviewer 12: skillScore=0.6869 matched=iot, embeded
2025-09-28 13:19:32.987 +07:00 [DBG] Reviewer 12 field scores: Title:0.6940, VN_Title:0.5638, Category:0, Description:0.7437, Objectives:0.5848, Problem:0.5808, Content:0.5755, Context:0.5719
2025-09-28 13:19:32.987 +07:00 [DBG] Reviewer 13 skill 'iot, ai' sim=0.7022 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:32.987 +07:00 [DBG] Reviewer 13 semantic breakdown: maxSim=0.7022 matchedSkills=[iot, ai]
2025-09-28 13:19:32.987 +07:00 [DBG] Reviewer 13: skillScore=0.7022 matched=iot, ai
2025-09-28 13:19:32.987 +07:00 [DBG] Reviewer 13 field scores: Title:0.7225, VN_Title:0.5575, Category:0, Description:0.7457, Objectives:0.5994, Problem:0.5837, Content:0.5933, Context:0.5883
2025-09-28 13:19:32.987 +07:00 [DBG] Reviewer 14 skill 'blockchain' sim=0.6075 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:32.988 +07:00 [DBG] Reviewer 14 semantic breakdown: maxSim=0.6075 matchedSkills=[blockchain]
2025-09-28 13:19:32.988 +07:00 [DBG] Reviewer 14: skillScore=0.6075 matched=blockchain
2025-09-28 13:19:32.988 +07:00 [DBG] Reviewer 14 field scores: Title:0.5668, VN_Title:0.5761, Category:0, Description:0.6141, Objectives:0.5933, Problem:0.7432, Content:0.5832, Context:0.6322
2025-09-28 13:19:32.988 +07:00 [DBG] Reviewer 15 skill 'mobile' sim=0.6302 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:32.988 +07:00 [DBG] Reviewer 15 semantic breakdown: maxSim=0.6302 matchedSkills=[mobile]
2025-09-28 13:19:32.989 +07:00 [DBG] Reviewer 15: skillScore=0.6302 matched=mobile
2025-09-28 13:19:32.989 +07:00 [DBG] Reviewer 15 field scores: Title:0.5995, VN_Title:0.5999, Category:0, Description:0.6134, Objectives:1, Problem:0.5526, Content:0.9553, Context:0.6137
2025-09-28 13:19:32.989 +07:00 [DBG] Reviewer 16 skill 'marketing' sim=0.5404 cachedSkillEmb=true skillLen=3072 topicLen=3072
2025-09-28 13:19:32.989 +07:00 [DBG] Reviewer 16 semantic breakdown: maxSim=0.5404 matchedSkills=[]
2025-09-28 13:19:32.989 +07:00 [DBG] Reviewer 16: skillScore=0.5404 matched=
2025-09-28 13:19:32.989 +07:00 [DBG] Reviewer 16 field scores: Title:0.5351, VN_Title:0.5741, Category:0, Description:0.5693, Objectives:0.5978, Problem:0.5682, Content:0.5937, Context:0.6028
2025-09-28 13:19:34.045 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:19:34.045 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:34.045 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:19:34.045 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:34.045 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:34.045 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:19:34.045 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:19:34.045 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - 204 null null 0.2878ms
2025-09-28 13:19:34.046 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:19:34.046 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:19:34.047 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:19:34.047 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:34.047 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:34.047 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:19:34.047 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:19:34.047 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:19:34.047 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:19:34.047 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:19:34.047 +07:00 [DBG] Authorization was successful.
2025-09-28 13:19:34.047 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:19:34.047 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:19:34.047 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:19:34.047 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:19:34.047 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:19:34.047 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:19:34.047 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:19:34.047 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:19:34.048 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:19:34.048 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:19:34.048 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:19:34.048 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:34.048 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:34.048 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:19:34.048 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:34.048 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:19:34.049 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:19:34.049 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:19:34.049 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:34.049 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:34.049 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:34.049 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:34.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:34.049 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:19:34.084 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:19:34.085 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:34.085 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:34.085 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:34.085 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:34.085 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:19:34.085 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:19:34.085 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:19:34.085 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:19:34.085 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:19:34.085 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:19:34.086 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 38.2831ms
2025-09-28 13:19:34.086 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:19:34.086 +07:00 [DBG] Connection id "0HNFUAI7100P2" completed keep alive response.
2025-09-28 13:19:34.086 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:19:34.086 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:34.086 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:19:34.086 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - 200 null application/json; charset=utf-8 39.543ms
2025-09-28 13:19:34.822 +07:00 [DBG] AI explanation generated (preview): Recommendation: rv5@.com, Id:13, Overall:65.1%, SkillMatch:70.2% - Matched iot and ai, and has zero active assignments.
Recommendation: rv7@.com, Id:15, Overall:61.5%, SkillMatch:63.0% - Matched mobil...
2025-09-28 13:19:34.822 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:19:34.822 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:19:34.822 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-09-28 13:19:34.822 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:19:34.822 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:19:34.823 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api) in 18358.6875ms
2025-09-28 13:19:34.823 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerSuggestionController.SuggestBySubmissionId (CapBot.api)'
2025-09-28 13:19:34.823 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:19:34.823 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:19:34.823 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:34.823 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:19:34.824 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5207/api/reviewer-suggestion/ai-suggest-by-submission - 200 null application/json; charset=utf-8 18361.1103ms
2025-09-28 13:19:36.348 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:19:36.348 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:19:36.348 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:19:36.348 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:19:36.348 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:19:36.349 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:19:36.349 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:19:36.349 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:19:36.349 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:19:36.349 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:19:36.349 +07:00 [DBG] Authorization was successful.
2025-09-28 13:19:36.349 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:19:36.350 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:19:36.350 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:19:36.350 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:19:36.350 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:19:36.350 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:19:36.350 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:19:36.350 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:19:36.350 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:19:36.350 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:19:36.350 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:19:36.350 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:36.350 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:36.350 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:19:36.350 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:19:36.351 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:19:36.351 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:19:36.351 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:19:36.351 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:36.351 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:36.351 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:19:36.351 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:36.351 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:19:36.351 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:19:36.370 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:19:36.371 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:19:36.371 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:19:36.371 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:36.371 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:19:36.371 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:19:36.371 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:19:36.371 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:19:36.371 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:19:36.371 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:19:36.371 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:19:36.371 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 21.4216ms
2025-09-28 13:19:36.371 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:19:36.372 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:19:36.372 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:19:36.372 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:19:36.372 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:19:36.372 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - 200 null application/json; charset=utf-8 24.185ms
2025-09-28 13:20:15.788 +07:00 [DBG] HttpMessageHandler expired after 120000ms for client ''
2025-09-28 13:20:25.800 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:20:25.800 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0016ms - processed: 0 items - remaining: 1 items
2025-09-28 13:20:27.313 +07:00 [DBG] Connection id "0HNFUAI7100P0" disconnecting.
2025-09-28 13:20:27.313 +07:00 [DBG] Connection id "0HNFUAI7100P0" stopped.
2025-09-28 13:20:27.313 +07:00 [DBG] Connection id "0HNFUAI7100P0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:20:35.807 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:20:35.807 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-09-28 13:20:45.815 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:20:45.815 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-09-28 13:20:45.868 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:20:45.868 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:20:45.868 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:20:45.868 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:20:45.868 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:20:45.868 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:20:45.868 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:20:45.868 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - 204 null null 0.2908ms
2025-09-28 13:20:45.870 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:20:45.870 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:20:45.871 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:20:45.871 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:20:45.871 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:20:45.871 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:20:45.871 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:20:45.871 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:20:45.872 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:20:45.872 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:20:45.872 +07:00 [DBG] Authorization was successful.
2025-09-28 13:20:45.872 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:20:45.872 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:20:45.872 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:20:45.872 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:20:45.872 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:20:45.872 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:20:45.872 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:20:45.872 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:20:45.873 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:20:45.873 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:20:45.873 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:20:45.873 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:20:45.873 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:20:45.873 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:20:45.873 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:20:45.874 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:20:45.875 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:20:45.875 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:20:45.875 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:20:45.876 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:20:45.876 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:20:45.876 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:20:45.876 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:20:45.876 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:20:45.913 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:20:45.914 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:20:45.914 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:20:45.914 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:20:45.914 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:20:45.914 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:20:45.914 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:20:45.914 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:20:45.914 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:20:45.914 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:20:45.914 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:20:45.914 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 42.1303ms
2025-09-28 13:20:45.914 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:20:45.915 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:20:45.915 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:20:45.915 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:20:45.915 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:20:45.915 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - 200 null application/json; charset=utf-8 45.1216ms
2025-09-28 13:20:55.828 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:20:55.828 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-28 13:21:05.835 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:21:05.835 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-28 13:21:15.845 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:21:15.845 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0011ms - processed: 0 items - remaining: 1 items
2025-09-28 13:21:25.854 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:21:25.855 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0019ms - processed: 0 items - remaining: 1 items
2025-09-28 13:21:35.860 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:21:35.861 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-09-28 13:21:44.938 +07:00 [DBG] Connection id "0HNFUAI7100P2" disconnecting.
2025-09-28 13:21:44.938 +07:00 [DBG] Connection id "0HNFUAI7100P2" stopped.
2025-09-28 13:21:44.938 +07:00 [DBG] Connection id "0HNFUAI7100P2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:21:45.866 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:21:45.867 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0014ms - processed: 0 items - remaining: 1 items
2025-09-28 13:21:55.867 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:21:55.867 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-28 13:22:05.879 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:22:05.879 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0003ms - processed: 0 items - remaining: 1 items
2025-09-28 13:22:14.145 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:22:14.145 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:22:14.145 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:22:14.145 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:22:14.145 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:22:14.145 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:22:14.145 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:22:14.145 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - 204 null null 0.9147ms
2025-09-28 13:22:14.147 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:22:14.147 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:22:14.147 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:22:14.147 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:22:14.147 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:22:14.147 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:22:14.147 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:22:14.147 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:22:14.148 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:22:14.148 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:22:14.148 +07:00 [DBG] Authorization was successful.
2025-09-28 13:22:14.148 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:22:14.149 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:22:14.149 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:22:14.149 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:22:14.149 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:22:14.149 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:22:14.149 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:22:14.149 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:22:14.152 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:22:14.152 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:22:14.152 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:22:14.152 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:22:14.152 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:22:14.152 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:22:14.152 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:22:14.153 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:22:14.154 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:22:14.154 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:22:14.154 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:22:14.154 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:22:14.154 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:22:14.154 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:22:14.154 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:22:14.155 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:22:14.190 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:22:14.191 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:22:14.191 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:22:14.191 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:22:14.191 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:22:14.191 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:22:14.191 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:22:14.191 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:22:14.191 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:22:14.191 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:22:14.191 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:22:14.191 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 41.6651ms
2025-09-28 13:22:14.191 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:22:14.191 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:22:14.191 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:22:14.191 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:22:14.191 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:22:14.191 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - 200 null application/json; charset=utf-8 44.7111ms
2025-09-28 13:22:15.882 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:22:15.882 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0013ms - processed: 0 items - remaining: 1 items
2025-09-28 13:22:21.923 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:22:21.924 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:22:21.924 +07:00 [DBG] OPTIONS requests are not supported
2025-09-28 13:22:21.924 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:22:21.924 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:22:21.924 +07:00 [DBG] The request is a preflight request.
2025-09-28 13:22:21.924 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:22:21.924 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5207/api/reviewer-assignments/by-submission/5 - 204 null null 0.4979ms
2025-09-28 13:22:21.925 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - null null
2025-09-28 13:22:21.925 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:22:21.925 +07:00 [DBG] The request path /api/reviewer-assignments/by-submission/5 does not match a supported file type
2025-09-28 13:22:21.925 +07:00 [DBG] The request has an origin header: 'http://localhost:3000'.
2025-09-28 13:22:21.925 +07:00 [INF] CORS policy execution successful.
2025-09-28 13:22:21.925 +07:00 [DBG] 1 candidate(s) found for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:22:21.925 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)' with route pattern 'api/reviewer-assignments/by-submission/{submissionId}' is valid for the request path '/api/reviewer-assignments/by-submission/5'
2025-09-28 13:22:21.928 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:22:21.929 +07:00 [DBG] Successfully validated the token.
2025-09-28 13:22:21.929 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-09-28 13:22:21.929 +07:00 [DBG] Authorization was successful.
2025-09-28 13:22:21.929 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:22:21.929 +07:00 [INF] Route matched with {action = "GetAssignmentsBySubmission", controller = "ReviewerAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAssignmentsBySubmission(Int32) on controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api).
2025-09-28 13:22:21.929 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-28 13:22:21.929 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-28 13:22:21.929 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-09-28 13:22:21.929 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-28 13:22:21.929 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-28 13:22:21.929 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:22:21.930 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.ReviewerAssignmentController (CapBot.api)
2025-09-28 13:22:21.930 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:22:21.930 +07:00 [DBG] Attempting to bind parameter 'submissionId' of type 'System.Int32' using the name 'submissionId' in request data ...
2025-09-28 13:22:21.930 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:22:21.930 +07:00 [DBG] Done attempting to bind parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:22:21.930 +07:00 [DBG] Attempting to validate the bound parameter 'submissionId' of type 'System.Int32' ...
2025-09-28 13:22:21.930 +07:00 [DBG] Done attempting to validate the bound parameter 'submissionId' of type 'System.Int32'.
2025-09-28 13:22:21.931 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-09-28 13:22:21.931 +07:00 [DBG] Creating DbConnection.
2025-09-28 13:22:21.932 +07:00 [DBG] Created DbConnection. (0ms).
2025-09-28 13:22:21.933 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:22:21.933 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:22:21.933 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-28 13:22:21.933 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:22:21.933 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-28 13:22:21.933 +07:00 [DBG] Executing DbCommand [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:22:21.936 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__submissionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[AssignedAt], [r].[AssignedBy], [r].[AssignmentType], [r].[CompletedAt], [r].[Deadline], [r].[ReviewerId], [r].[SkillMatchScore], [r].[StartedAt], [r].[Status], [r].[SubmissionId], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [u0].[Id], [u0].[AccessFailedCount], [u0].[ConcurrencyStamp], [u0].[CreatedAt], [u0].[DeletedAt], [u0].[Email], [u0].[EmailConfirmed], [u0].[LastModifiedAt], [u0].[LastModifiedBy], [u0].[LockoutEnabled], [u0].[LockoutEnd], [u0].[NormalizedEmail], [u0].[NormalizedUserName], [u0].[PasswordHash], [u0].[PhoneNumber], [u0].[PhoneNumberConfirmed], [u0].[SecurityStamp], [u0].[TwoFactorEnabled], [u0].[UserName], [s].[Id], [s].[AdditionalNotes], [s].[AiCheckDetails], [s].[AiCheckScore], [s].[AiCheckStatus], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[DocumentUrl], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[PhaseId], [s].[Status], [s].[SubmissionRound], [s].[SubmittedAt], [s].[SubmittedBy], [s].[TopicId], [s].[TopicVersionId], [t].[Id], [t].[Content], [t].[Context], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[DocumentUrl], [t].[EN_Title], [t].[ExpectedOutcomes], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Methodology], [t].[Objectives], [t].[PotentialDuplicate], [t].[Problem], [t].[Requirements], [t].[Status], [t].[SubmittedAt], [t].[SubmittedBy], [t].[TopicId], [t].[VN_title], [t].[VersionNumber], [t0].[Id], [t0].[Abbreviation], [t0].[CategoryId], [t0].[Content], [t0].[Context], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[EN_Title], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[PotentialDuplicate], [t0].[Problem], [t0].[SemesterId], [t0].[SupervisorId], [t0].[VN_title]
FROM [reviewer_assignments] AS [r]
INNER JOIN [users] AS [u] ON [r].[ReviewerId] = [u].[Id]
INNER JOIN [users] AS [u0] ON [r].[AssignedBy] = [u0].[Id]
INNER JOIN [submissions] AS [s] ON [r].[SubmissionId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t] ON [s].[TopicVersionId] = [t].[Id]
LEFT JOIN [topics] AS [t0] ON [t].[TopicId] = [t0].[Id]
WHERE [r].[SubmissionId] = @__submissionId_0
2025-09-28 13:22:21.937 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-09-28 13:22:21.937 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-09-28 13:22:21.937 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:22:21.937 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-09-28 13:22:21.937 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-28 13:22:21.937 +07:00 [DBG] No information found on request to perform content negotiation.
2025-09-28 13:22:21.937 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-28 13:22:21.937 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-28 13:22:21.937 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-28 13:22:21.937 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-09-28 13:22:21.937 +07:00 [INF] Executed action CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api) in 8.0287ms
2025-09-28 13:22:21.937 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.ReviewerAssignmentController.GetAssignmentsBySubmission (CapBot.api)'
2025-09-28 13:22:21.937 +07:00 [DBG] Connection id "0HNFUAI7100P1" completed keep alive response.
2025-09-28 13:22:21.937 +07:00 [DBG] 'MyDbContext' disposed.
2025-09-28 13:22:21.937 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-09-28 13:22:21.937 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-09-28 13:22:21.937 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5207/api/reviewer-assignments/by-submission/5 - 200 null application/json; charset=utf-8 12.4649ms
2025-09-28 13:22:25.882 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:22:25.882 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0005ms - processed: 0 items - remaining: 1 items
2025-09-28 13:22:35.886 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:22:35.886 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0015ms - processed: 0 items - remaining: 1 items
2025-09-28 13:22:45.897 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:22:45.899 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-09-28 13:22:55.900 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:22:55.900 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0017ms - processed: 0 items - remaining: 1 items
2025-09-28 13:23:05.911 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:23:05.911 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-09-28 13:23:15.916 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:23:15.917 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0008ms - processed: 0 items - remaining: 1 items
2025-09-28 13:23:25.931 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:23:25.931 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0018ms - processed: 0 items - remaining: 1 items
2025-09-28 13:23:35.933 +07:00 [DBG] Starting HttpMessageHandler cleanup cycle with 1 items
2025-09-28 13:23:35.933 +07:00 [DBG] Ending HttpMessageHandler cleanup cycle after 0.0012ms - processed: 0 items - remaining: 1 items
2025-09-28 13:23:44.633 +07:00 [INF] Application is shutting down...
2025-09-28 13:23:44.635 +07:00 [DBG] Hosting stopping
2025-09-28 13:23:44.641 +07:00 [DBG] Connection id "0HNFUAI7100P1" disconnecting.
2025-09-28 13:23:44.644 +07:00 [DBG] Connection id "0HNFUAI7100P1" stopped.
2025-09-28 13:23:44.644 +07:00 [DBG] Connection id "0HNFUAI7100P1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-09-28 13:23:44.647 +07:00 [ERR] Li khi kim tra deadline notifications
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at CapBot.api.Services.DeadlineNotificationService.ExecuteAsync(CancellationToken stoppingToken) in C:\Users\Admin\Downloads\CBAI_API\capbot.api\Services\DeadlineNotificationService.cs:line 41
2025-09-28 13:23:44.654 +07:00 [DBG] Hosting stopped
