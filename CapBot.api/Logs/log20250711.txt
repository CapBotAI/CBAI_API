2025-07-11 00:00:22.467 +07:00 [INF] Application is shutting down...
2025-07-11 00:00:22.469 +07:00 [DBG] Hosting stopping
2025-07-11 00:00:22.479 +07:00 [DBG] Hosting stopped
2025-07-11 00:00:28.265 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 00:00:28.358 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 00:00:28.515 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.526 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.539 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.540 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.541 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.541 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.662 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.663 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.676 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.677 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.677 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.677 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.680 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.681 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:00:28.695 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 00:00:28.696 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 00:00:28.697 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 00:00:28.697 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 00:00:28.773 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.774 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:00:28.850 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:00:28.882 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 00:00:28.967 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 00:00:28.985 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:00:28.993 +07:00 [DBG] Created DbConnection. (6ms).
2025-07-11 00:00:28.995 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.117 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.118 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:00:29.120 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 00:00:29.123 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-11 00:00:29.127 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:00:29.156 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:00:29.175 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:00:29.184 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.187 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 29ms reading results.
2025-07-11 00:00:29.189 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.190 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 00:00:29.192 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.192 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.192 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:00:29.192 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.192 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.192 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:00:29.198 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:00:29.198 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:00:29.198 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.198 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:00:29.198 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.198 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:00:29.199 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.199 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.199 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:00:29.199 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.199 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.199 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:00:29.202 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:00:29.202 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:00:29.202 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.202 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:00:29.202 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.203 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:00:29.203 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.203 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.203 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:00:29.203 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.203 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.203 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:00:29.206 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:00:29.206 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:00:29.206 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.206 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:00:29.206 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.206 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:00:29.211 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 00:00:29.213 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 00:00:29.214 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.215 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.215 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:00:29.215 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.215 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.215 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:00:29.218 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:00:29.228 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:00:29.245 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.245 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 26ms reading results.
2025-07-11 00:00:29.245 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.245 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:00:29.246 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 00:00:29.247 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.247 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.248 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:00:29.248 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.248 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.248 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:00:29.251 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:00:29.251 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:00:29.251 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.251 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:00:29.251 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.251 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:00:29.251 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 00:00:29.252 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.252 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.252 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:00:29.252 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.252 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.252 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:00:29.254 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:00:29.254 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:00:29.254 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.254 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:00:29.254 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.254 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:00:29.254 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.254 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.254 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:00:29.254 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.254 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:29.254 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:00:29.256 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:00:29.256 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:00:29.256 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.257 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:00:29.257 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.257 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:00:29.257 +07:00 [INF] Data seeding completed successfully
2025-07-11 00:00:29.258 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:00:29.259 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:29.259 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:00:29.351 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 00:00:29.393 +07:00 [DBG] Hosting starting
2025-07-11 00:00:29.397 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 00:00:29.398 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 00:00:29.399 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 00:00:29.400 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 00:00:29.402 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 00:00:29.402 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 00:00:29.405 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 00:00:29.406 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 00:00:29.407 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 00:00:29.407 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 00:00:29.408 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 00:00:29.408 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 00:00:29.579 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 00:00:29.579 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 00:00:29.579 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 00:00:29.579 +07:00 [INF] Hosting environment: Development
2025-07-11 00:00:29.579 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 00:00:29.579 +07:00 [DBG] Hosting started
2025-07-11 00:00:45.276 +07:00 [DBG] Connection id "0HNDVQD7RA845" accepted.
2025-07-11 00:00:45.279 +07:00 [DBG] Connection id "0HNDVQD7RA845" started.
2025-07-11 00:00:45.353 +07:00 [DBG] Connection 0HNDVQD7RA845 established using the following protocol: "Tls12"
2025-07-11 00:00:45.400 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 00:00:45.402 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 00:00:45.472 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 71.4309ms
2025-07-11 00:00:45.542 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 00:00:45.608 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.6557ms
2025-07-11 00:00:48.138 +07:00 [DBG] Connection id "0HNDVQD7RA845" received FIN.
2025-07-11 00:00:48.141 +07:00 [DBG] Connection id "0HNDVQD7RA845" is closed. The last processed stream ID was 3.
2025-07-11 00:00:48.141 +07:00 [DBG] The connection queue processing loop for 0HNDVQD7RA845 completed.
2025-07-11 00:00:48.141 +07:00 [DBG] Connection id "0HNDVQD7RA845" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 00:00:48.145 +07:00 [DBG] Connection id "0HNDVQD7RA845" stopped.
2025-07-11 00:00:59.254 +07:00 [DBG] Connection id "0HNDVQD7RA846" accepted.
2025-07-11 00:00:59.254 +07:00 [DBG] Connection id "0HNDVQD7RA846" started.
2025-07-11 00:00:59.277 +07:00 [DBG] Connection 0HNDVQD7RA846 established using the following protocol: "Tls12"
2025-07-11 00:00:59.278 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/semester/detail/1 - null null
2025-07-11 00:00:59.279 +07:00 [DBG] The request path /api/semester/detail/1 does not match a supported file type
2025-07-11 00:00:59.280 +07:00 [DBG] The request path /api/semester/detail/1 does not match a supported file type
2025-07-11 00:00:59.293 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semester/detail/1'
2025-07-11 00:00:59.293 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)' with route pattern 'api/semester/detail/{semesterId}' is valid for the request path '/api/semester/detail/1'
2025-07-11 00:00:59.293 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:00:59.336 +07:00 [DBG] Successfully validated the token.
2025-07-11 00:00:59.337 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 00:00:59.340 +07:00 [DBG] Authorization was successful.
2025-07-11 00:00:59.342 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:00:59.349 +07:00 [INF] Route matched with {action = "GetDetail", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.SemesterController (CapBot.api).
2025-07-11 00:00:59.349 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 00:00:59.349 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 00:00:59.350 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 00:00:59.350 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 00:00:59.350 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 00:00:59.351 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:00:59.352 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:00:59.355 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:00:59.356 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-07-11 00:00:59.356 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:00:59.356 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:00:59.356 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:00:59.357 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:00:59.376 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:00:59.380 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .AsNoTracking()
    .Where(x => x.Id == __semesterId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 00:00:59.384 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Semester>(
    asyncEnumerable: new SingleQueryingEnumerable<Semester>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.CreatedAt (DateTime) Required, 1], [Property: Semester.CreatedBy (string), 2], [Property: Semester.DeletedAt (DateTime?), 3], [Property: Semester.EndDate (DateTime) Required, 4], [Property: Semester.IsActive (bool) Required, 5], [Property: Semester.LastModifiedAt (DateTime) Required, 6], [Property: Semester.LastModifiedBy (string), 7], [Property: Semester.Name (string) Required Index MaxLength(50), 8], [Property: Semester.StartDate (DateTime) Required, 9] }
            SELECT TOP(1) s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate
            FROM semesters AS s
            WHERE ((s.Id == @__semesterId_0) && s.IsActive) && (s.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Semester>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 00:00:59.386 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:00:59.386 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 00:00:59.386 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:59.387 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:59.387 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:00:59.387 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:59.387 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:00:59.387 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:00:59.430 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:00:59.431 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:00:59.431 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:00:59.431 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:59.431 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:00:59.434 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 00:00:59.434 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 00:00:59.434 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 00:00:59.435 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 00:00:59.435 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 00:00:59.450 +07:00 [INF] Executed action CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api) in 98.7088ms
2025-07-11 00:00:59.450 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:00:59.451 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:00:59.451 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:00:59.451 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:00:59.451 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/semester/detail/1 - 200 null application/json; charset=utf-8 173.4603ms
2025-07-11 00:01:02.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/semester/detail/2 - null null
2025-07-11 00:01:02.182 +07:00 [DBG] The request path /api/semester/detail/2 does not match a supported file type
2025-07-11 00:01:02.182 +07:00 [DBG] The request path /api/semester/detail/2 does not match a supported file type
2025-07-11 00:01:02.185 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semester/detail/2'
2025-07-11 00:01:02.185 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)' with route pattern 'api/semester/detail/{semesterId}' is valid for the request path '/api/semester/detail/2'
2025-07-11 00:01:02.185 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:01:02.190 +07:00 [DBG] Successfully validated the token.
2025-07-11 00:01:02.190 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 00:01:02.191 +07:00 [DBG] Authorization was successful.
2025-07-11 00:01:02.192 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:01:02.193 +07:00 [INF] Route matched with {action = "GetDetail", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.SemesterController (CapBot.api).
2025-07-11 00:01:02.193 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 00:01:02.193 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 00:01:02.193 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 00:01:02.193 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 00:01:02.194 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 00:01:02.195 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:01:02.197 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:01:02.198 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:01:02.198 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-07-11 00:01:02.198 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:01:02.198 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:01:02.198 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:01:02.199 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:01:02.208 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:01:02.210 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:01:02.210 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 00:01:02.210 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:01:02.210 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:01:02.210 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:01:02.210 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:01:02.211 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:01:02.211 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:01:02.214 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:01:02.215 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:01:02.215 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:01:02.215 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:01:02.215 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:01:02.215 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 00:01:02.216 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 00:01:02.216 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 00:01:02.216 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 00:01:02.216 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 00:01:02.217 +07:00 [INF] Executed action CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api) in 22.3647ms
2025-07-11 00:01:02.217 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:01:02.217 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:01:02.217 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:01:02.217 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:01:02.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/semester/detail/2 - 200 null application/json; charset=utf-8 36.3444ms
2025-07-11 00:01:03.139 +07:00 [DBG] Connection id "0HNDVQD7RA846" received FIN.
2025-07-11 00:01:03.140 +07:00 [DBG] Connection id "0HNDVQD7RA846" is closed. The last processed stream ID was 3.
2025-07-11 00:01:03.140 +07:00 [DBG] The connection queue processing loop for 0HNDVQD7RA846 completed.
2025-07-11 00:01:03.140 +07:00 [DBG] Connection id "0HNDVQD7RA846" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 00:01:03.141 +07:00 [DBG] Connection id "0HNDVQD7RA846" stopped.
2025-07-11 00:01:03.816 +07:00 [DBG] Connection id "0HNDVQD7RA847" accepted.
2025-07-11 00:01:03.817 +07:00 [DBG] Connection id "0HNDVQD7RA847" started.
2025-07-11 00:01:03.835 +07:00 [DBG] Connection 0HNDVQD7RA847 established using the following protocol: "Tls12"
2025-07-11 00:01:03.836 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/semester/detail/3 - null null
2025-07-11 00:01:03.836 +07:00 [DBG] The request path /api/semester/detail/3 does not match a supported file type
2025-07-11 00:01:03.836 +07:00 [DBG] The request path /api/semester/detail/3 does not match a supported file type
2025-07-11 00:01:03.836 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semester/detail/3'
2025-07-11 00:01:03.837 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)' with route pattern 'api/semester/detail/{semesterId}' is valid for the request path '/api/semester/detail/3'
2025-07-11 00:01:03.837 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:01:03.839 +07:00 [DBG] Successfully validated the token.
2025-07-11 00:01:03.840 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 00:01:03.842 +07:00 [DBG] Authorization was successful.
2025-07-11 00:01:03.842 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:01:03.842 +07:00 [INF] Route matched with {action = "GetDetail", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.SemesterController (CapBot.api).
2025-07-11 00:01:03.843 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 00:01:03.843 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 00:01:03.843 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 00:01:03.843 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 00:01:03.843 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 00:01:03.843 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:01:03.854 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:01:03.855 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:01:03.855 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-07-11 00:01:03.855 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:01:03.855 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:01:03.855 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:01:03.855 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:01:03.856 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:01:03.857 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:01:03.858 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 00:01:03.858 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:01:03.858 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:01:03.858 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:01:03.858 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:01:03.858 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:01:03.858 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:01:03.861 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:01:03.862 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:01:03.862 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:01:03.862 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:01:03.862 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:01:03.864 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 00:01:03.864 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 00:01:03.864 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 00:01:03.864 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 00:01:03.864 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 00:01:03.865 +07:00 [INF] Executed action CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api) in 21.8165ms
2025-07-11 00:01:03.865 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:01:03.865 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:01:03.865 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:01:03.865 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:01:03.866 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/semester/detail/3 - 404 null application/json; charset=utf-8 29.9047ms
2025-07-11 00:01:08.140 +07:00 [DBG] Connection id "0HNDVQD7RA847" received FIN.
2025-07-11 00:01:08.141 +07:00 [DBG] Connection id "0HNDVQD7RA847" is closed. The last processed stream ID was 1.
2025-07-11 00:01:08.142 +07:00 [DBG] Connection id "0HNDVQD7RA847" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 00:01:08.142 +07:00 [DBG] The connection queue processing loop for 0HNDVQD7RA847 completed.
2025-07-11 00:01:08.143 +07:00 [DBG] Connection id "0HNDVQD7RA847" stopped.
2025-07-11 00:14:16.373 +07:00 [INF] Application is shutting down...
2025-07-11 00:14:16.373 +07:00 [DBG] Hosting stopping
2025-07-11 00:14:16.380 +07:00 [DBG] Hosting stopped
2025-07-11 00:14:22.123 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 00:14:22.187 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 00:14:22.299 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.307 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.314 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.315 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.315 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.315 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.402 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.403 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.412 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.412 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.412 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.413 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.416 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.416 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 00:14:22.430 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 00:14:22.495 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.495 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.495 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.496 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.496 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.496 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.496 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.496 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.496 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.496 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.497 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 00:14:22.561 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:14:22.588 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 00:14:22.673 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 00:14:22.695 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:14:22.704 +07:00 [DBG] Created DbConnection. (7ms).
2025-07-11 00:14:22.706 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.819 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.821 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:22.823 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 00:14:22.827 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-07-11 00:14:22.830 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:14:22.863 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:14:22.889 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:14:22.900 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.904 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 38ms reading results.
2025-07-11 00:14:22.905 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.908 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-07-11 00:14:22.910 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.910 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.910 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:22.910 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.910 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.910 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:14:22.914 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:14:22.914 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:14:22.915 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.915 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:14:22.915 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.915 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:14:22.915 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.915 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.915 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:22.915 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.915 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.915 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:14:22.919 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:14:22.919 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:14:22.919 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.919 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:14:22.919 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.919 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:14:22.919 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.919 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.919 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:22.919 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.919 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.919 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:14:22.922 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 00:14:22.922 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:14:22.922 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.922 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:14:22.922 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.923 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:14:22.925 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 00:14:22.928 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 00:14:22.929 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.929 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.929 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:22.929 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.929 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.929 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:22.933 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:22.941 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:14:22.955 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.955 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 22ms reading results.
2025-07-11 00:14:22.955 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.955 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:14:22.957 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 00:14:22.959 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.959 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.959 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:22.959 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.959 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.959 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:22.964 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:22.965 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:14:22.965 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.965 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:14:22.965 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.965 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:14:22.965 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 00:14:22.966 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.966 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.966 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:22.966 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.966 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.966 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:22.969 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:22.970 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:14:22.970 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.970 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:14:22.970 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.970 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:14:22.970 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.970 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.970 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:22.970 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.970 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:22.971 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:22.974 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:22.975 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:14:22.975 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.975 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:14:22.975 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.975 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:14:22.975 +07:00 [INF] Data seeding completed successfully
2025-07-11 00:14:22.976 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:14:22.977 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:22.978 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:14:23.188 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 00:14:23.234 +07:00 [DBG] Hosting starting
2025-07-11 00:14:23.237 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 00:14:23.239 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 00:14:23.240 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 00:14:23.244 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 00:14:23.246 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 00:14:23.246 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 00:14:23.251 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 00:14:23.253 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 00:14:23.254 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 00:14:23.254 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 00:14:23.255 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 00:14:23.255 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 00:14:23.418 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 00:14:23.419 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 00:14:23.419 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 00:14:23.419 +07:00 [INF] Hosting environment: Development
2025-07-11 00:14:23.419 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 00:14:23.419 +07:00 [DBG] Hosting started
2025-07-11 00:14:24.722 +07:00 [DBG] Connection id "0HNDVQKS23N41" accepted.
2025-07-11 00:14:24.745 +07:00 [DBG] Connection id "0HNDVQKS23N41" started.
2025-07-11 00:14:24.908 +07:00 [DBG] Connection 0HNDVQKS23N41 established using the following protocol: "Tls12"
2025-07-11 00:14:24.970 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 00:14:24.972 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 00:14:25.079 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 110.0863ms
2025-07-11 00:14:25.152 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 00:14:25.237 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.7889ms
2025-07-11 00:14:29.750 +07:00 [DBG] Connection id "0HNDVQKS23N41" received FIN.
2025-07-11 00:14:29.752 +07:00 [DBG] Connection id "0HNDVQKS23N41" is closed. The last processed stream ID was 3.
2025-07-11 00:14:29.752 +07:00 [DBG] The connection queue processing loop for 0HNDVQKS23N41 completed.
2025-07-11 00:14:29.752 +07:00 [DBG] Connection id "0HNDVQKS23N41" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 00:14:29.755 +07:00 [DBG] Connection id "0HNDVQKS23N41" stopped.
2025-07-11 00:14:54.551 +07:00 [DBG] Connection id "0HNDVQKS23N42" accepted.
2025-07-11 00:14:54.552 +07:00 [DBG] Connection id "0HNDVQKS23N42" started.
2025-07-11 00:14:54.573 +07:00 [DBG] Connection 0HNDVQKS23N42 established using the following protocol: "Tls12"
2025-07-11 00:14:54.574 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/auth/login - application/json 82
2025-07-11 00:14:54.576 +07:00 [DBG] POST requests are not supported
2025-07-11 00:14:54.576 +07:00 [DBG] POST requests are not supported
2025-07-11 00:14:54.577 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 00:14:54.577 +07:00 [INF] CORS policy execution successful.
2025-07-11 00:14:54.595 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-07-11 00:14:54.596 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-07-11 00:14:54.596 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 00:14:54.618 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-11 00:14:54.621 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 00:14:54.628 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Entities.DTOs.Auth.LoginDTO) on controller CapBot.api.Controllers.AuthController (CapBot.api).
2025-07-11 00:14:54.629 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 00:14:54.629 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 00:14:54.630 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 00:14:54.630 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 00:14:54.630 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 00:14:54.631 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 00:14:54.635 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 00:14:54.638 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 00:14:54.639 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' using the name '' in request data ...
2025-07-11 00:14:54.640 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 00:14:54.640 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 00:14:54.640 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 00:14:54.640 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 00:14:54.645 +07:00 [DBG] Connection id "0HNDVQKS23N42", Request id "0HNDVQKS23N42:00000001": started reading request body.
2025-07-11 00:14:54.645 +07:00 [DBG] Connection id "0HNDVQKS23N42", Request id "0HNDVQKS23N42:00000001": done reading request body.
2025-07-11 00:14:54.646 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Auth.LoginDTO'
2025-07-11 00:14:54.646 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 00:14:54.646 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 00:14:54.646 +07:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 00:14:54.649 +07:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 00:14:54.671 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:14:54.673 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:14:54.674 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 00:14:54.675 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:54.679 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:54.681 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:54.681 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:54.682 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:54.684 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:54.688 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 00:14:54.689 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:14:54.689 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:54.689 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:14:54.689 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:54.689 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:14:54.741 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-11 00:14:54.761 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Name
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        WHERE u.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 00:14:54.762 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:54.762 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:54.762 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:14:54.762 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:54.762 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:14:54.762 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 00:14:54.767 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 00:14:54.768 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:14:54.768 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:14:54.768 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:54.768 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:14:54.784 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 00:14:54.784 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 00:14:54.784 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 00:14:54.785 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 00:14:54.785 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 00:14:54.802 +07:00 [INF] Executed action CapBot.api.Controllers.AuthController.Login (CapBot.api) in 168.5906ms
2025-07-11 00:14:54.802 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 00:14:54.803 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:14:54.803 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:14:54.803 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:14:54.804 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/auth/login - 200 null application/json; charset=utf-8 230.1089ms
2025-07-11 00:14:59.755 +07:00 [DBG] Connection id "0HNDVQKS23N42" received FIN.
2025-07-11 00:14:59.756 +07:00 [DBG] Connection id "0HNDVQKS23N42" is closed. The last processed stream ID was 1.
2025-07-11 00:14:59.756 +07:00 [DBG] The connection queue processing loop for 0HNDVQKS23N42 completed.
2025-07-11 00:14:59.757 +07:00 [DBG] Connection id "0HNDVQKS23N42" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 00:14:59.758 +07:00 [DBG] Connection id "0HNDVQKS23N42" stopped.
2025-07-11 00:15:17.648 +07:00 [DBG] Connection id "0HNDVQKS23N43" accepted.
2025-07-11 00:15:17.649 +07:00 [DBG] Connection id "0HNDVQKS23N43" started.
2025-07-11 00:15:17.671 +07:00 [DBG] Connection 0HNDVQKS23N43 established using the following protocol: "Tls12"
2025-07-11 00:15:17.672 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/semester/create - application/json 76
2025-07-11 00:15:17.672 +07:00 [DBG] POST requests are not supported
2025-07-11 00:15:17.672 +07:00 [DBG] POST requests are not supported
2025-07-11 00:15:17.673 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 00:15:17.673 +07:00 [INF] CORS policy execution successful.
2025-07-11 00:15:17.674 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semester/create'
2025-07-11 00:15:17.674 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SemesterController.Create (CapBot.api)' with route pattern 'api/semester/create' is valid for the request path '/api/semester/create'
2025-07-11 00:15:17.674 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SemesterController.Create (CapBot.api)'
2025-07-11 00:15:17.704 +07:00 [DBG] Successfully validated the token.
2025-07-11 00:15:17.705 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 00:15:17.707 +07:00 [DBG] Authorization was successful.
2025-07-11 00:15:17.707 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SemesterController.Create (CapBot.api)'
2025-07-11 00:15:17.710 +07:00 [INF] Route matched with {action = "Create", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.Semester.CreateSemesterDTO) on controller CapBot.api.Controllers.SemesterController (CapBot.api).
2025-07-11 00:15:17.710 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 00:15:17.710 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 00:15:17.710 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 00:15:17.710 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 00:15:17.710 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 00:15:17.710 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:17.711 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:17.711 +07:00 [DBG] Attempting to bind parameter 'createSemesterDTO' of type 'App.Entities.DTOs.Semester.CreateSemesterDTO' ...
2025-07-11 00:15:17.712 +07:00 [DBG] Attempting to bind parameter 'createSemesterDTO' of type 'App.Entities.DTOs.Semester.CreateSemesterDTO' using the name '' in request data ...
2025-07-11 00:15:17.712 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 00:15:17.712 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 00:15:17.712 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 00:15:17.712 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 00:15:17.712 +07:00 [DBG] Connection id "0HNDVQKS23N43", Request id "0HNDVQKS23N43:00000001": started reading request body.
2025-07-11 00:15:17.712 +07:00 [DBG] Connection id "0HNDVQKS23N43", Request id "0HNDVQKS23N43:00000001": done reading request body.
2025-07-11 00:15:17.714 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Semester.CreateSemesterDTO'
2025-07-11 00:15:17.714 +07:00 [DBG] Done attempting to bind parameter 'createSemesterDTO' of type 'App.Entities.DTOs.Semester.CreateSemesterDTO'.
2025-07-11 00:15:17.714 +07:00 [DBG] Done attempting to bind parameter 'createSemesterDTO' of type 'App.Entities.DTOs.Semester.CreateSemesterDTO'.
2025-07-11 00:15:17.714 +07:00 [DBG] Attempting to validate the bound parameter 'createSemesterDTO' of type 'App.Entities.DTOs.Semester.CreateSemesterDTO' ...
2025-07-11 00:15:17.715 +07:00 [DBG] Done attempting to validate the bound parameter 'createSemesterDTO' of type 'App.Entities.DTOs.Semester.CreateSemesterDTO'.
2025-07-11 00:15:17.722 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:15:17.725 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-07-11 00:15:17.734 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 00:15:17.734 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:15:17.735 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 00:15:17.735 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:17.735 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:17.735 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:15:17.735 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:17.735 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:17.735 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 00:15:17.738 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 00:15:17.738 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:15:17.738 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:15:17.738 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:15:17.738 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:17.738 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:15:17.749 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Semester.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:15:17.759 +07:00 [DBG] Context 'MyDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:15:17.761 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 00:15:17.762 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 00:15:17.773 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 00:15:17.795 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:17.796 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:17.796 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:15:17.796 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:17.797 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:17.797 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 50), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [semesters] ([CreatedAt], [CreatedBy], [DeletedAt], [EndDate], [IsActive], [LastModifiedAt], [LastModifiedBy], [Name], [StartDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-11 00:15:17.809 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 50), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [semesters] ([CreatedAt], [CreatedBy], [DeletedAt], [EndDate], [IsActive], [LastModifiedAt], [LastModifiedBy], [Name], [StartDate])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-11 00:15:17.813 +07:00 [DBG] The foreign key property 'Semester.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 00:15:17.815 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:15:17.816 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 6ms reading results.
2025-07-11 00:15:17.816 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:17.816 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:15:17.819 +07:00 [DBG] An entity of type 'Semester' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:15:17.819 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 00:15:17.820 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 00:15:17.820 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 00:15:17.820 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 00:15:17.820 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 00:15:17.820 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 00:15:17.821 +07:00 [INF] Executed action CapBot.api.Controllers.SemesterController.Create (CapBot.api) in 111.0334ms
2025-07-11 00:15:17.821 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SemesterController.Create (CapBot.api)'
2025-07-11 00:15:17.821 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:15:17.821 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:17.822 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:15:17.822 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/semester/create - 201 null application/json; charset=utf-8 149.6325ms
2025-07-11 00:15:19.757 +07:00 [DBG] Connection id "0HNDVQKS23N43" received FIN.
2025-07-11 00:15:19.758 +07:00 [DBG] Connection id "0HNDVQKS23N43" is closed. The last processed stream ID was 1.
2025-07-11 00:15:19.758 +07:00 [DBG] The connection queue processing loop for 0HNDVQKS23N43 completed.
2025-07-11 00:15:19.758 +07:00 [DBG] Connection id "0HNDVQKS23N43" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 00:15:19.759 +07:00 [DBG] Connection id "0HNDVQKS23N43" stopped.
2025-07-11 00:15:27.362 +07:00 [DBG] Connection id "0HNDVQKS23N44" accepted.
2025-07-11 00:15:27.363 +07:00 [DBG] Connection id "0HNDVQKS23N44" started.
2025-07-11 00:15:27.387 +07:00 [DBG] Connection 0HNDVQKS23N44 established using the following protocol: "Tls12"
2025-07-11 00:15:27.387 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/semester/detail/3 - null null
2025-07-11 00:15:27.388 +07:00 [DBG] The request path /api/semester/detail/3 does not match a supported file type
2025-07-11 00:15:27.388 +07:00 [DBG] The request path /api/semester/detail/3 does not match a supported file type
2025-07-11 00:15:27.389 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semester/detail/3'
2025-07-11 00:15:27.389 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)' with route pattern 'api/semester/detail/{semesterId}' is valid for the request path '/api/semester/detail/3'
2025-07-11 00:15:27.389 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:15:27.393 +07:00 [DBG] Successfully validated the token.
2025-07-11 00:15:27.393 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 00:15:27.395 +07:00 [DBG] Authorization was successful.
2025-07-11 00:15:27.396 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:15:27.399 +07:00 [INF] Route matched with {action = "GetDetail", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.SemesterController (CapBot.api).
2025-07-11 00:15:27.400 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 00:15:27.400 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 00:15:27.400 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 00:15:27.400 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 00:15:27.400 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 00:15:27.400 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:27.401 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:27.402 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:15:27.402 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-07-11 00:15:27.403 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:27.403 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:27.403 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:15:27.403 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:27.405 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:15:27.409 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .AsNoTracking()
    .Where(x => x.Id == __semesterId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 00:15:27.413 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Semester>(
    asyncEnumerable: new SingleQueryingEnumerable<Semester>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.CreatedAt (DateTime) Required, 1], [Property: Semester.CreatedBy (string), 2], [Property: Semester.DeletedAt (DateTime?), 3], [Property: Semester.EndDate (DateTime) Required, 4], [Property: Semester.IsActive (bool) Required, 5], [Property: Semester.LastModifiedAt (DateTime) Required, 6], [Property: Semester.LastModifiedBy (string), 7], [Property: Semester.Name (string) Required Index MaxLength(50), 8], [Property: Semester.StartDate (DateTime) Required, 9] }
            SELECT TOP(1) s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate
            FROM semesters AS s
            WHERE ((s.Id == @__semesterId_0) && s.IsActive) && (s.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Semester>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 00:15:27.416 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:15:27.417 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 00:15:27.417 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:27.417 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:27.417 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:15:27.417 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:27.417 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:27.417 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:15:27.420 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:15:27.421 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:15:27.421 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:15:27.421 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:27.421 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:15:27.421 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 00:15:27.421 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 00:15:27.421 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 00:15:27.421 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 00:15:27.421 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 00:15:27.423 +07:00 [INF] Executed action CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api) in 22.6989ms
2025-07-11 00:15:27.423 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:15:27.423 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:15:27.423 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:27.423 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:15:27.423 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/semester/detail/3 - 200 null application/json; charset=utf-8 35.9666ms
2025-07-11 00:15:29.759 +07:00 [DBG] Connection id "0HNDVQKS23N44" received FIN.
2025-07-11 00:15:29.759 +07:00 [DBG] Connection id "0HNDVQKS23N44" is closed. The last processed stream ID was 1.
2025-07-11 00:15:29.759 +07:00 [DBG] Connection id "0HNDVQKS23N44" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 00:15:29.759 +07:00 [DBG] The connection queue processing loop for 0HNDVQKS23N44 completed.
2025-07-11 00:15:29.760 +07:00 [DBG] Connection id "0HNDVQKS23N44" stopped.
2025-07-11 00:15:35.519 +07:00 [DBG] Connection id "0HNDVQKS23N45" accepted.
2025-07-11 00:15:35.519 +07:00 [DBG] Connection id "0HNDVQKS23N45" started.
2025-07-11 00:15:35.538 +07:00 [DBG] Connection 0HNDVQKS23N45 established using the following protocol: "Tls12"
2025-07-11 00:15:35.539 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7190/api/semester/delete/3 - null null
2025-07-11 00:15:35.539 +07:00 [DBG] DELETE requests are not supported
2025-07-11 00:15:35.539 +07:00 [DBG] DELETE requests are not supported
2025-07-11 00:15:35.539 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 00:15:35.539 +07:00 [INF] CORS policy execution successful.
2025-07-11 00:15:35.539 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semester/delete/3'
2025-07-11 00:15:35.539 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SemesterController.Delete (CapBot.api)' with route pattern 'api/semester/delete/{semesterId}' is valid for the request path '/api/semester/delete/3'
2025-07-11 00:15:35.539 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SemesterController.Delete (CapBot.api)'
2025-07-11 00:15:35.540 +07:00 [DBG] Successfully validated the token.
2025-07-11 00:15:35.540 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 00:15:35.541 +07:00 [DBG] Authorization was successful.
2025-07-11 00:15:35.541 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SemesterController.Delete (CapBot.api)'
2025-07-11 00:15:35.545 +07:00 [INF] Route matched with {action = "Delete", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CapBot.api.Controllers.SemesterController (CapBot.api).
2025-07-11 00:15:35.546 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 00:15:35.546 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 00:15:35.546 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 00:15:35.546 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 00:15:35.546 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 00:15:35.546 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:35.558 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:35.559 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:15:35.559 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-07-11 00:15:35.559 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:35.559 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:35.560 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:15:35.560 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:35.563 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:15:35.564 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:15:35.564 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 00:15:35.564 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:35.564 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:35.565 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:15:35.565 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:35.565 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:35.565 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:15:35.568 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:15:35.569 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:15:35.569 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:15:35.569 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:35.569 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:15:35.574 +07:00 [DBG] Context 'MyDbContext' started tracking 'Semester' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:15:35.574 +07:00 [DBG] An entity of type 'Semester' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:15:35.574 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 00:15:35.574 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 00:15:35.574 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 00:15:35.582 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:35.582 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:35.582 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:15:35.582 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:35.582 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:35.582 +07:00 [DBG] Executing DbCommand [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 50), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [semesters] SET [CreatedAt] = @p0, [CreatedBy] = @p1, [DeletedAt] = @p2, [EndDate] = @p3, [IsActive] = @p4, [LastModifiedAt] = @p5, [LastModifiedBy] = @p6, [Name] = @p7, [StartDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-11 00:15:35.590 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 50), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [semesters] SET [CreatedAt] = @p0, [CreatedBy] = @p1, [DeletedAt] = @p2, [EndDate] = @p3, [IsActive] = @p4, [LastModifiedAt] = @p5, [LastModifiedBy] = @p6, [Name] = @p7, [StartDate] = @p8
OUTPUT 1
WHERE [Id] = @p9;
2025-07-11 00:15:35.591 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:15:35.591 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:15:35.591 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:35.591 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:15:35.592 +07:00 [DBG] An entity of type 'Semester' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 00:15:35.592 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 00:15:35.593 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 00:15:35.593 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 00:15:35.593 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 00:15:35.593 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 00:15:35.593 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 00:15:35.594 +07:00 [INF] Executed action CapBot.api.Controllers.SemesterController.Delete (CapBot.api) in 47.8125ms
2025-07-11 00:15:35.594 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SemesterController.Delete (CapBot.api)'
2025-07-11 00:15:35.594 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:15:35.594 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:35.594 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:15:35.594 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7190/api/semester/delete/3 - 200 null application/json; charset=utf-8 55.2997ms
2025-07-11 00:15:38.143 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7190/api/semester/delete/3 - null null
2025-07-11 00:15:38.143 +07:00 [DBG] DELETE requests are not supported
2025-07-11 00:15:38.143 +07:00 [DBG] DELETE requests are not supported
2025-07-11 00:15:38.144 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 00:15:38.144 +07:00 [INF] CORS policy execution successful.
2025-07-11 00:15:38.144 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semester/delete/3'
2025-07-11 00:15:38.144 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SemesterController.Delete (CapBot.api)' with route pattern 'api/semester/delete/{semesterId}' is valid for the request path '/api/semester/delete/3'
2025-07-11 00:15:38.144 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SemesterController.Delete (CapBot.api)'
2025-07-11 00:15:38.144 +07:00 [DBG] Successfully validated the token.
2025-07-11 00:15:38.144 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 00:15:38.145 +07:00 [DBG] Authorization was successful.
2025-07-11 00:15:38.145 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SemesterController.Delete (CapBot.api)'
2025-07-11 00:15:38.145 +07:00 [INF] Route matched with {action = "Delete", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CapBot.api.Controllers.SemesterController (CapBot.api).
2025-07-11 00:15:38.145 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 00:15:38.145 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 00:15:38.145 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 00:15:38.145 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 00:15:38.145 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 00:15:38.145 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:38.146 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:38.146 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:15:38.146 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-07-11 00:15:38.146 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:38.146 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:38.146 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:15:38.146 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:38.147 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:15:38.148 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:15:38.148 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 00:15:38.148 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:38.148 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:38.148 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:15:38.148 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:38.148 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:38.148 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:15:38.152 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:15:38.153 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:15:38.153 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:15:38.153 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:38.153 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:15:38.153 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 00:15:38.153 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 00:15:38.153 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 00:15:38.153 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 00:15:38.154 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 00:15:38.154 +07:00 [INF] Executed action CapBot.api.Controllers.SemesterController.Delete (CapBot.api) in 8.5594ms
2025-07-11 00:15:38.154 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SemesterController.Delete (CapBot.api)'
2025-07-11 00:15:38.154 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:15:38.154 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:38.154 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:15:38.154 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7190/api/semester/delete/3 - 404 null application/json; charset=utf-8 11.2587ms
2025-07-11 00:15:39.761 +07:00 [DBG] Connection id "0HNDVQKS23N45" received FIN.
2025-07-11 00:15:39.761 +07:00 [DBG] Connection id "0HNDVQKS23N45" is closed. The last processed stream ID was 3.
2025-07-11 00:15:39.761 +07:00 [DBG] Connection id "0HNDVQKS23N45" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 00:15:39.761 +07:00 [DBG] The connection queue processing loop for 0HNDVQKS23N45 completed.
2025-07-11 00:15:39.762 +07:00 [DBG] Connection id "0HNDVQKS23N45" stopped.
2025-07-11 00:15:44.741 +07:00 [DBG] Connection id "0HNDVQKS23N46" accepted.
2025-07-11 00:15:44.741 +07:00 [DBG] Connection id "0HNDVQKS23N46" started.
2025-07-11 00:15:44.766 +07:00 [DBG] Connection 0HNDVQKS23N46 established using the following protocol: "Tls12"
2025-07-11 00:15:44.767 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/semester/detail/3 - null null
2025-07-11 00:15:44.767 +07:00 [DBG] The request path /api/semester/detail/3 does not match a supported file type
2025-07-11 00:15:44.767 +07:00 [DBG] The request path /api/semester/detail/3 does not match a supported file type
2025-07-11 00:15:44.767 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semester/detail/3'
2025-07-11 00:15:44.767 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)' with route pattern 'api/semester/detail/{semesterId}' is valid for the request path '/api/semester/detail/3'
2025-07-11 00:15:44.767 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:15:44.768 +07:00 [DBG] Successfully validated the token.
2025-07-11 00:15:44.768 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 00:15:44.768 +07:00 [DBG] Authorization was successful.
2025-07-11 00:15:44.768 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:15:44.769 +07:00 [INF] Route matched with {action = "GetDetail", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.SemesterController (CapBot.api).
2025-07-11 00:15:44.769 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 00:15:44.769 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 00:15:44.769 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 00:15:44.769 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 00:15:44.769 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 00:15:44.769 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:44.769 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 00:15:44.769 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:15:44.769 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Int32' using the name 'semesterId' in request data ...
2025-07-11 00:15:44.770 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:44.770 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:44.770 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Int32' ...
2025-07-11 00:15:44.770 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Int32'.
2025-07-11 00:15:44.770 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 00:15:44.771 +07:00 [DBG] Creating DbConnection.
2025-07-11 00:15:44.771 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 00:15:44.771 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:44.771 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:44.771 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 00:15:44.771 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:44.772 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 00:15:44.772 +07:00 [DBG] Executing DbCommand [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:15:44.775 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__semesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__semesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 00:15:44.775 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 00:15:44.776 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 00:15:44.776 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:44.776 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 00:15:44.777 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 00:15:44.777 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 00:15:44.777 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 00:15:44.777 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 00:15:44.777 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 00:15:44.777 +07:00 [INF] Executed action CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api) in 8.1945ms
2025-07-11 00:15:44.777 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SemesterController.GetDetail (CapBot.api)'
2025-07-11 00:15:44.777 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 00:15:44.777 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 00:15:44.777 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 00:15:44.777 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/semester/detail/3 - 404 null application/json; charset=utf-8 10.6173ms
2025-07-11 00:15:49.763 +07:00 [DBG] Connection id "0HNDVQKS23N46" received FIN.
2025-07-11 00:15:49.763 +07:00 [DBG] Connection id "0HNDVQKS23N46" is closed. The last processed stream ID was 1.
2025-07-11 00:15:49.764 +07:00 [DBG] Connection id "0HNDVQKS23N46" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 00:15:49.764 +07:00 [DBG] The connection queue processing loop for 0HNDVQKS23N46 completed.
2025-07-11 00:15:49.764 +07:00 [DBG] Connection id "0HNDVQKS23N46" stopped.
2025-07-11 00:32:04.532 +07:00 [INF] Application is shutting down...
2025-07-11 00:32:04.536 +07:00 [DBG] Hosting stopping
2025-07-11 00:32:04.555 +07:00 [DBG] Hosting stopped
2025-07-11 14:31:06.119 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 14:31:06.186 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 14:31:06.320 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.328 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.333 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.335 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.335 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.336 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.428 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.429 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.440 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.440 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.440 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.440 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.445 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.445 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 14:31:06.461 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 14:31:06.462 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 14:31:06.462 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 14:31:06.462 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 14:31:06.545 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.546 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.548 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.548 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.548 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.548 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.549 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.549 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.549 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.549 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.549 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:31:06.674 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:31:06.711 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 14:31:06.806 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:31:06.930 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:31:06.941 +07:00 [DBG] Created DbConnection. (11ms).
2025-07-11 14:31:06.944 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.054 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.056 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:31:07.058 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 14:31:07.060 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-11 14:31:07.063 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:31:07.104 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:31:07.121 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:31:07.129 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.133 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 26ms reading results.
2025-07-11 14:31:07.134 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.137 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 14:31:07.139 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.140 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.140 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:31:07.140 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.141 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.141 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:31:07.145 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:31:07.146 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:31:07.146 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.146 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:31:07.146 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.146 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:31:07.146 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.146 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.146 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:31:07.147 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.147 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.147 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:31:07.150 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:31:07.150 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:31:07.151 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.152 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 14:31:07.152 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.154 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-07-11 14:31:07.155 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.156 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.156 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:31:07.156 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.156 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.156 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:31:07.161 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:31:07.161 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:31:07.161 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.161 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:31:07.161 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.161 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:31:07.165 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 14:31:07.169 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:31:07.170 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.170 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.170 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:31:07.170 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.170 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.170 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:31:07.174 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:31:07.185 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:31:07.197 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.198 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 23ms reading results.
2025-07-11 14:31:07.198 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.198 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:31:07.199 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 14:31:07.200 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.200 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.201 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:31:07.201 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.201 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.201 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:31:07.204 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:31:07.204 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:31:07.204 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.204 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:31:07.204 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.204 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:31:07.204 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 14:31:07.205 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.205 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.205 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:31:07.205 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.205 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.205 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:31:07.207 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:31:07.208 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:31:07.208 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.208 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:31:07.208 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.208 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:31:07.209 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.209 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.209 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:31:07.210 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.210 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:31:07.210 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:31:07.213 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:31:07.213 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:31:07.213 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.213 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:31:07.213 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.213 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:31:07.213 +07:00 [INF] Data seeding completed successfully
2025-07-11 14:31:07.215 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:31:07.216 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:31:07.217 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:31:07.297 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 14:31:07.337 +07:00 [DBG] Hosting starting
2025-07-11 14:31:07.341 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 14:31:07.342 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 14:31:07.343 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 14:31:07.345 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 14:31:07.348 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 14:31:07.349 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 14:31:07.351 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 14:31:07.351 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 14:31:07.352 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 14:31:07.352 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 14:31:07.353 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 14:31:07.353 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 14:31:07.520 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 14:31:07.520 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 14:31:07.520 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 14:31:07.520 +07:00 [INF] Hosting environment: Development
2025-07-11 14:31:07.520 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 14:31:07.520 +07:00 [DBG] Hosting started
2025-07-11 14:31:09.574 +07:00 [DBG] Connection id "0HNE09JJSURU3" accepted.
2025-07-11 14:31:09.591 +07:00 [DBG] Connection id "0HNE09JJSURU3" started.
2025-07-11 14:31:09.627 +07:00 [DBG] Connection 0HNE09JJSURU3 established using the following protocol: "Tls12"
2025-07-11 14:31:09.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 14:31:09.666 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 14:31:09.759 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 93.8873ms
2025-07-11 14:31:09.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 14:31:09.927 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.6515ms
2025-07-11 14:33:10.152 +07:00 [DBG] Connection id "0HNE09JJSURU3" received FIN.
2025-07-11 14:33:10.156 +07:00 [DBG] Connection id "0HNE09JJSURU3" is closed. The last processed stream ID was 3.
2025-07-11 14:33:10.157 +07:00 [DBG] Connection id "0HNE09JJSURU3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 14:33:10.157 +07:00 [DBG] The connection queue processing loop for 0HNE09JJSURU3 completed.
2025-07-11 14:33:10.162 +07:00 [DBG] Connection id "0HNE09JJSURU3" stopped.
2025-07-11 14:41:15.725 +07:00 [DBG] Connection id "0HNE09JJSURU4" accepted.
2025-07-11 14:41:15.728 +07:00 [DBG] Connection id "0HNE09JJSURU4" started.
2025-07-11 14:41:15.751 +07:00 [DBG] Connection 0HNE09JJSURU4 established using the following protocol: "Tls12"
2025-07-11 14:41:15.754 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic-category/create - application/json 56
2025-07-11 14:41:15.760 +07:00 [DBG] POST requests are not supported
2025-07-11 14:41:15.761 +07:00 [DBG] POST requests are not supported
2025-07-11 14:41:15.764 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 14:41:15.764 +07:00 [INF] CORS policy execution successful.
2025-07-11 14:41:15.779 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/create'
2025-07-11 14:41:15.779 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)' with route pattern 'api/topic-category/create' is valid for the request path '/api/topic-category/create'
2025-07-11 14:41:15.780 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:41:15.801 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-11 14:41:15.804 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-07-11 14:41:15.805 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Administrator)
2025-07-11 14:41:15.806 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-07-11 14:41:15.806 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic-category/create - 401 0 null 52.4375ms
2025-07-11 14:41:15.806 +07:00 [DBG] Connection id "0HNE09JJSURU4", Request id "0HNE09JJSURU4:00000001": started reading request body.
2025-07-11 14:41:15.806 +07:00 [DBG] Connection id "0HNE09JJSURU4", Request id "0HNE09JJSURU4:00000001": done reading request body.
2025-07-11 14:41:20.264 +07:00 [DBG] Connection id "0HNE09JJSURU4" received FIN.
2025-07-11 14:41:20.266 +07:00 [DBG] Connection id "0HNE09JJSURU4" is closed. The last processed stream ID was 1.
2025-07-11 14:41:20.266 +07:00 [DBG] Connection id "0HNE09JJSURU4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 14:41:20.266 +07:00 [DBG] The connection queue processing loop for 0HNE09JJSURU4 completed.
2025-07-11 14:41:20.267 +07:00 [DBG] Connection id "0HNE09JJSURU4" stopped.
2025-07-11 14:42:14.692 +07:00 [DBG] Connection id "0HNE09JJSURU5" accepted.
2025-07-11 14:42:14.697 +07:00 [DBG] Connection id "0HNE09JJSURU5" started.
2025-07-11 14:42:14.720 +07:00 [DBG] Connection 0HNE09JJSURU5 established using the following protocol: "Tls12"
2025-07-11 14:42:14.721 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/auth/login - application/json 82
2025-07-11 14:42:14.721 +07:00 [DBG] POST requests are not supported
2025-07-11 14:42:14.721 +07:00 [DBG] POST requests are not supported
2025-07-11 14:42:14.722 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 14:42:14.722 +07:00 [INF] CORS policy execution successful.
2025-07-11 14:42:14.723 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-07-11 14:42:14.723 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-07-11 14:42:14.723 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 14:42:14.726 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-11 14:42:14.732 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 14:42:14.742 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Entities.DTOs.Auth.LoginDTO) on controller CapBot.api.Controllers.AuthController (CapBot.api).
2025-07-11 14:42:14.742 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:42:14.742 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:42:14.743 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:42:14.743 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:42:14.743 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:42:14.743 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 14:42:14.746 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 14:42:14.750 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 14:42:14.751 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' using the name '' in request data ...
2025-07-11 14:42:14.751 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:42:14.751 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:42:14.752 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:42:14.752 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 14:42:14.756 +07:00 [DBG] Connection id "0HNE09JJSURU5", Request id "0HNE09JJSURU5:00000001": started reading request body.
2025-07-11 14:42:14.756 +07:00 [DBG] Connection id "0HNE09JJSURU5", Request id "0HNE09JJSURU5:00000001": done reading request body.
2025-07-11 14:42:14.757 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Auth.LoginDTO'
2025-07-11 14:42:14.757 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 14:42:14.757 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 14:42:14.757 +07:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 14:42:14.760 +07:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 14:42:14.781 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:42:14.783 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:42:14.783 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:42:14.783 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:14.811 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:14.812 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:14.812 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:14.812 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:14.812 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:14.815 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:14.815 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:42:14.816 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:14.816 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 14:42:14.816 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:14.816 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:42:14.869 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-11 14:42:14.886 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Name
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        WHERE u.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 14:42:14.886 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:14.887 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:14.887 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:14.887 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:14.887 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:14.887 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 14:42:14.892 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 14:42:14.893 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:14.893 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:42:14.893 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:14.893 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:42:14.906 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:42:14.906 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:42:14.906 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:42:14.907 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:42:14.907 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:42:14.923 +07:00 [INF] Executed action CapBot.api.Controllers.AuthController.Login (CapBot.api) in 178.945ms
2025-07-11 14:42:14.923 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 14:42:14.924 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:42:14.924 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:14.924 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:42:14.925 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/auth/login - 200 null application/json; charset=utf-8 204.4609ms
2025-07-11 14:42:15.277 +07:00 [DBG] Connection id "0HNE09JJSURU5" received FIN.
2025-07-11 14:42:15.277 +07:00 [DBG] Connection id "0HNE09JJSURU5" is closed. The last processed stream ID was 1.
2025-07-11 14:42:15.277 +07:00 [DBG] Connection id "0HNE09JJSURU5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 14:42:15.277 +07:00 [DBG] The connection queue processing loop for 0HNE09JJSURU5 completed.
2025-07-11 14:42:15.277 +07:00 [DBG] Connection id "0HNE09JJSURU5" stopped.
2025-07-11 14:42:23.501 +07:00 [DBG] Connection id "0HNE09JJSURU6" accepted.
2025-07-11 14:42:23.501 +07:00 [DBG] Connection id "0HNE09JJSURU6" started.
2025-07-11 14:42:23.522 +07:00 [DBG] Connection 0HNE09JJSURU6 established using the following protocol: "Tls12"
2025-07-11 14:42:23.523 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic-category/create - application/json 56
2025-07-11 14:42:23.524 +07:00 [DBG] POST requests are not supported
2025-07-11 14:42:23.524 +07:00 [DBG] POST requests are not supported
2025-07-11 14:42:23.524 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 14:42:23.524 +07:00 [INF] CORS policy execution successful.
2025-07-11 14:42:23.526 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/create'
2025-07-11 14:42:23.526 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)' with route pattern 'api/topic-category/create' is valid for the request path '/api/topic-category/create'
2025-07-11 14:42:23.526 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:42:23.560 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:42:23.561 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:42:23.562 +07:00 [DBG] Authorization was successful.
2025-07-11 14:42:23.562 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:42:23.567 +07:00 [INF] Route matched with {action = "Create", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:42:23.568 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:42:23.568 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:42:23.568 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:42:23.568 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:42:23.568 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:42:23.568 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:42:23.569 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api) in 0.7569ms
2025-07-11 14:42:23.569 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:42:23.569 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'App.BLL.Interfaces.ITopicCategoryService' while attempting to activate 'CapBot.api.Controllers.TopicCategoryController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method257(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-11 14:42:23.580 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic-category/create - 500 null text/plain; charset=utf-8 57.0761ms
2025-07-11 14:42:23.580 +07:00 [DBG] Connection id "0HNE09JJSURU6", Request id "0HNE09JJSURU6:00000001": started reading request body.
2025-07-11 14:42:23.580 +07:00 [DBG] Connection id "0HNE09JJSURU6", Request id "0HNE09JJSURU6:00000001": done reading request body.
2025-07-11 14:42:25.278 +07:00 [DBG] Connection id "0HNE09JJSURU6" received FIN.
2025-07-11 14:42:25.278 +07:00 [DBG] Connection id "0HNE09JJSURU6" is closed. The last processed stream ID was 1.
2025-07-11 14:42:25.278 +07:00 [DBG] Connection id "0HNE09JJSURU6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 14:42:25.279 +07:00 [DBG] The connection queue processing loop for 0HNE09JJSURU6 completed.
2025-07-11 14:42:25.279 +07:00 [DBG] Connection id "0HNE09JJSURU6" stopped.
2025-07-11 14:42:45.474 +07:00 [INF] Application is shutting down...
2025-07-11 14:42:45.486 +07:00 [DBG] Hosting stopping
2025-07-11 14:42:45.495 +07:00 [DBG] Hosting stopped
2025-07-11 14:42:51.052 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 14:42:51.125 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 14:42:51.271 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.280 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.286 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.287 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.287 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.287 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.373 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.373 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.381 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.381 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.381 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.382 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.384 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.384 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 14:42:51.396 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 14:42:51.396 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 14:42:51.396 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 14:42:51.396 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 14:42:51.397 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 14:42:51.397 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 14:42:51.397 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 14:42:51.397 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 14:42:51.398 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 14:42:51.472 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.473 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.473 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.474 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.474 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.475 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.475 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.476 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.476 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.476 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.476 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 14:42:51.573 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:42:51.616 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 14:42:51.725 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:42:51.747 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:42:51.756 +07:00 [DBG] Created DbConnection. (9ms).
2025-07-11 14:42:51.758 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.873 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.874 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:51.876 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 14:42:51.879 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-11 14:42:51.883 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:42:51.918 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:42:51.946 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:42:51.957 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.960 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 39ms reading results.
2025-07-11 14:42:51.962 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.964 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-07-11 14:42:51.973 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.974 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.975 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:51.975 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:51.975 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:51.976 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:42:51.982 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:42:51.983 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:42:51.983 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.983 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:42:51.983 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.983 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:42:51.983 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.984 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.984 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:51.984 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:51.984 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:51.984 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:42:51.987 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:42:51.988 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:42:51.988 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.988 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:42:51.988 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.988 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:42:51.989 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.989 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.989 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:51.989 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:51.989 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:51.989 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:42:51.993 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 14:42:51.993 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:42:51.993 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.994 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:42:51.994 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:51.994 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:42:51.998 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 14:42:52.002 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:42:52.002 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.003 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.003 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:52.003 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:52.003 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:52.003 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:52.007 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:52.018 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:42:52.028 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.029 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 21ms reading results.
2025-07-11 14:42:52.029 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.029 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:42:52.030 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 14:42:52.032 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.032 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.033 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:52.033 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:52.033 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:52.033 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:52.037 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:52.037 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:42:52.037 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.037 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:42:52.037 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.037 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:42:52.038 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 14:42:52.038 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.038 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.038 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:52.038 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:52.038 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:52.038 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:52.041 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:52.041 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:42:52.042 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.042 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:42:52.042 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.042 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:42:52.042 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.042 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.042 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:42:52.042 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:52.042 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:42:52.042 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:52.046 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 14:42:52.046 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:42:52.046 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.046 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:42:52.046 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.046 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:42:52.046 +07:00 [INF] Data seeding completed successfully
2025-07-11 14:42:52.047 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:42:52.048 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:42:52.048 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:42:52.127 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 14:42:52.165 +07:00 [DBG] Hosting starting
2025-07-11 14:42:52.167 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 14:42:52.168 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 14:42:52.168 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 14:42:52.170 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 14:42:52.172 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 14:42:52.172 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 14:42:52.173 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 14:42:52.174 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 14:42:52.175 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 14:42:52.175 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 14:42:52.175 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 14:42:52.175 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 14:42:52.322 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 14:42:52.322 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 14:42:52.322 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 14:42:52.322 +07:00 [INF] Hosting environment: Development
2025-07-11 14:42:52.322 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 14:42:52.322 +07:00 [DBG] Hosting started
2025-07-11 14:43:34.779 +07:00 [DBG] Connection id "0HNE09QHVRRUP" accepted.
2025-07-11 14:43:34.781 +07:00 [DBG] Connection id "0HNE09QHVRRUP" started.
2025-07-11 14:43:34.813 +07:00 [DBG] Connection 0HNE09QHVRRUP established using the following protocol: "Tls12"
2025-07-11 14:43:34.841 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic-category/create - application/json 56
2025-07-11 14:43:34.842 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 14:43:34.852 +07:00 [DBG] POST requests are not supported
2025-07-11 14:43:34.852 +07:00 [DBG] POST requests are not supported
2025-07-11 14:43:34.852 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 14:43:34.852 +07:00 [INF] CORS policy execution successful.
2025-07-11 14:43:34.861 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/create'
2025-07-11 14:43:34.862 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)' with route pattern 'api/topic-category/create' is valid for the request path '/api/topic-category/create'
2025-07-11 14:43:34.862 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:43:34.898 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:43:34.899 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:43:34.901 +07:00 [DBG] Authorization was successful.
2025-07-11 14:43:34.903 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:43:34.909 +07:00 [INF] Route matched with {action = "Create", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:43:34.910 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:43:34.910 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:43:34.911 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:43:34.911 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:43:34.911 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:43:34.912 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:43:34.914 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:43:34.918 +07:00 [DBG] Attempting to bind parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO' ...
2025-07-11 14:43:34.919 +07:00 [DBG] Attempting to bind parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO' using the name '' in request data ...
2025-07-11 14:43:34.919 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:43:34.919 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:43:34.919 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:43:34.919 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 14:43:34.934 +07:00 [DBG] Connection id "0HNE09QHVRRUP", Request id "0HNE09QHVRRUP:00000001": started reading request body.
2025-07-11 14:43:34.934 +07:00 [DBG] Connection id "0HNE09QHVRRUP", Request id "0HNE09QHVRRUP:00000001": done reading request body.
2025-07-11 14:43:34.935 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO'
2025-07-11 14:43:34.936 +07:00 [DBG] Done attempting to bind parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO'.
2025-07-11 14:43:34.936 +07:00 [DBG] Done attempting to bind parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO'.
2025-07-11 14:43:34.936 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO' ...
2025-07-11 14:43:34.941 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO'.
2025-07-11 14:43:34.963 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:43:34.970 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-07-11 14:43:34.983 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:43:34.983 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:43:34.984 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:43:34.984 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:34.984 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:34.984 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:43:34.984 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:43:34.984 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:43:34.985 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 14:43:34.996 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 14:43:34.997 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:43:34.997 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:43:34.997 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:43:34.997 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:34.997 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:43:35.003 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Where(x => x.Name.ToLower() == __Trim_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 14:43:35.017 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime) Required, 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
            FROM topic_categories AS t
            WHERE ((LOWER(t.Name) == @__Trim_0) && t.IsActive) && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:43:35.020 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:35.020 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:35.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:43:35.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:43:35.020 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:43:35.020 +07:00 [DBG] Executing DbCommand [Parameters=[@__Trim_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE LOWER([t].[Name]) = @__Trim_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 14:43:35.089 +07:00 [INF] Executed DbCommand (68ms) [Parameters=[@__Trim_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE LOWER([t].[Name]) = @__Trim_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 14:43:35.089 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:43:35.089 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:43:35.089 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:35.089 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:43:35.104 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'TopicCategory.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:43:35.119 +07:00 [DBG] Context 'MyDbContext' started tracking 'TopicCategory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:43:35.121 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 14:43:35.122 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 14:43:35.136 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 14:43:35.164 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:35.165 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:35.166 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:43:35.166 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:43:35.167 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:43:35.167 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topic_categories] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [LastModifiedAt], [LastModifiedBy], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-11 14:43:35.203 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topic_categories] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [LastModifiedAt], [LastModifiedBy], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-11 14:43:35.208 +07:00 [DBG] The foreign key property 'TopicCategory.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 14:43:35.211 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:43:35.211 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 7ms reading results.
2025-07-11 14:43:35.211 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:35.211 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:43:35.215 +07:00 [DBG] An entity of type 'TopicCategory' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:43:35.216 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 14:43:35.218 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:43:35.219 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:43:35.219 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:43:35.219 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:43:35.219 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:43:35.245 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api) in 332.6758ms
2025-07-11 14:43:35.246 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:43:35.248 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:43:35.249 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:43:35.249 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:43:35.250 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic-category/create - 201 null application/json; charset=utf-8 409.5588ms
2025-07-11 14:43:35.289 +07:00 [DBG] Connection id "0HNE09QHVRRUP" received FIN.
2025-07-11 14:43:35.291 +07:00 [DBG] Connection id "0HNE09QHVRRUP" is closed. The last processed stream ID was 1.
2025-07-11 14:43:35.291 +07:00 [DBG] Connection id "0HNE09QHVRRUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 14:43:35.291 +07:00 [DBG] The connection queue processing loop for 0HNE09QHVRRUP completed.
2025-07-11 14:43:35.293 +07:00 [DBG] Connection id "0HNE09QHVRRUP" stopped.
2025-07-11 14:46:05.994 +07:00 [DBG] Connection id "0HNE09QHVRRUQ" accepted.
2025-07-11 14:46:05.995 +07:00 [DBG] Connection id "0HNE09QHVRRUQ" started.
2025-07-11 14:46:06.014 +07:00 [DBG] Connection 0HNE09QHVRRUQ established using the following protocol: "Tls12"
2025-07-11 14:46:06.016 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic-category/all - null null
2025-07-11 14:46:06.021 +07:00 [DBG] The request path /api/topic-category/all does not match a supported file type
2025-07-11 14:46:06.022 +07:00 [DBG] The request path /api/topic-category/all does not match a supported file type
2025-07-11 14:46:06.024 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/all'
2025-07-11 14:46:06.024 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api)' with route pattern 'api/topic-category/all' is valid for the request path '/api/topic-category/all'
2025-07-11 14:46:06.025 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api)'
2025-07-11 14:46:06.027 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:46:06.027 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:46:06.030 +07:00 [DBG] Authorization was successful.
2025-07-11 14:46:06.031 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api)'
2025-07-11 14:46:06.034 +07:00 [INF] Route matched with {action = "GetAll", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:46:06.035 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:46:06.035 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:46:06.035 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:46:06.035 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:46:06.035 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:46:06.035 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:46:06.037 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:46:06.047 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:46:06.051 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Include(x => x.Topics)
    .Where(x => x.IsActive && x.DeletedAt == null)'
2025-07-11 14:46:06.056 +07:00 [DBG] Including navigation: 'TopicCategory.Topics'.
2025-07-11 14:46:06.080 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TopicCategory>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime) Required, 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Topic.CategoryId (int?) FK Index, 10], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: Topic.CreatedBy (string), 12], [Property: Topic.DeletedAt (DateTime?), 13], [Property: Topic.Description (string), 14], [Property: Topic.IsActive (bool) Required, 15], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 16], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 17], [Property: Topic.LastModifiedAt (DateTime) Required, 18], [Property: Topic.LastModifiedBy (string), 19], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 20], [Property: Topic.Objectives (string), 21], [Property: Topic.SemesterId (int) Required FK Index, 22], [Property: Topic.SupervisorId (int) Required FK Index, 23], [Property: Topic.Title (string) Required MaxLength(500), 24] }
            3 -> 9
        SELECT t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name, t0.Id, t0.CategoryId, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.SemesterId, t0.SupervisorId, t0.Title
        FROM topic_categories AS t
        LEFT JOIN topics AS t0 ON t.Id == t0.CategoryId
        WHERE t.IsActive && (t.DeletedAt == NULL)
        ORDER BY t.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 14:46:06.081 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:46:06.081 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:46:06.081 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:46:06.082 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:46:06.082 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:46:06.082 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:46:06.082 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:46:06.082 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name], [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title]
FROM [topic_categories] AS [t]
LEFT JOIN [topics] AS [t0] ON [t].[Id] = [t0].[CategoryId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id]
2025-07-11 14:46:06.154 +07:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name], [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title]
FROM [topic_categories] AS [t]
LEFT JOIN [topics] AS [t0] ON [t].[Id] = [t0].[CategoryId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id]
2025-07-11 14:46:06.158 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:46:06.158 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-07-11 14:46:06.158 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:46:06.158 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:46:06.159 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:46:06.160 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:46:06.160 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:46:06.160 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:46:06.160 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:46:06.166 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api) in 130.2615ms
2025-07-11 14:46:06.166 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api)'
2025-07-11 14:46:06.167 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:46:06.167 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:46:06.167 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:46:06.168 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic-category/all - 200 null application/json; charset=utf-8 151.9074ms
2025-07-11 14:46:17.674 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic-category/detail/1 - null null
2025-07-11 14:46:17.676 +07:00 [DBG] The request path /api/topic-category/detail/1 does not match a supported file type
2025-07-11 14:46:17.676 +07:00 [DBG] The request path /api/topic-category/detail/1 does not match a supported file type
2025-07-11 14:46:17.677 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/detail/1'
2025-07-11 14:46:17.677 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)' with route pattern 'api/topic-category/detail/{topicCategoryId}' is valid for the request path '/api/topic-category/detail/1'
2025-07-11 14:46:17.677 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)'
2025-07-11 14:46:17.680 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:46:17.680 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:46:17.682 +07:00 [DBG] Authorization was successful.
2025-07-11 14:46:17.682 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)'
2025-07-11 14:46:17.687 +07:00 [INF] Route matched with {action = "GetDetail", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:46:17.687 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:46:17.687 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:46:17.687 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:46:17.687 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:46:17.687 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:46:17.687 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:46:17.696 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:46:17.697 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:46:17.697 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' using the name 'topicCategoryId' in request data ...
2025-07-11 14:46:17.698 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:46:17.698 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:46:17.698 +07:00 [DBG] Attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:46:17.698 +07:00 [DBG] Done attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:46:17.700 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:46:17.700 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Include(x => x.Topics)
    .Where(x => x.Id == __topicCategoryId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 14:46:17.701 +07:00 [DBG] Including navigation: 'TopicCategory.Topics'.
2025-07-11 14:46:17.711 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime) Required, 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Topic.CategoryId (int?) FK Index, 10], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: Topic.CreatedBy (string), 12], [Property: Topic.DeletedAt (DateTime?), 13], [Property: Topic.Description (string), 14], [Property: Topic.IsActive (bool) Required, 15], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 16], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 17], [Property: Topic.LastModifiedAt (DateTime) Required, 18], [Property: Topic.LastModifiedBy (string), 19], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 20], [Property: Topic.Objectives (string), 21], [Property: Topic.SemesterId (int) Required FK Index, 22], [Property: Topic.SupervisorId (int) Required FK Index, 23], [Property: Topic.Title (string) Required MaxLength(500), 24] }
                3 -> 9
            SELECT t0.Id, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Name, t1.Id, t1.CategoryId, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.SemesterId, t1.SupervisorId, t1.Title
            FROM 
            (
                SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
                FROM topic_categories AS t
                WHERE ((t.Id == @__topicCategoryId_0) && t.IsActive) && (t.DeletedAt == NULL)
            ) AS t0
            LEFT JOIN topics AS t1 ON t0.Id == t1.CategoryId
            ORDER BY t0.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:46:17.711 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:46:17.712 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:46:17.712 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:46:17.712 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:46:17.712 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:46:17.712 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:46:17.712 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:46:17.712 +07:00 [DBG] Executing DbCommand [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:46:17.725 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:46:17.725 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:46:17.725 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:46:17.725 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:46:17.725 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:46:17.726 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:46:17.726 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:46:17.726 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:46:17.726 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:46:17.726 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:46:17.729 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api) in 41.9691ms
2025-07-11 14:46:17.729 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)'
2025-07-11 14:46:17.729 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:46:17.730 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:46:17.730 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:46:17.730 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic-category/detail/1 - 200 null application/json; charset=utf-8 55.9153ms
2025-07-11 14:47:26.102 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic-category/create - application/json 53
2025-07-11 14:47:26.103 +07:00 [DBG] POST requests are not supported
2025-07-11 14:47:26.103 +07:00 [DBG] POST requests are not supported
2025-07-11 14:47:26.104 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 14:47:26.104 +07:00 [INF] CORS policy execution successful.
2025-07-11 14:47:26.104 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/create'
2025-07-11 14:47:26.104 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)' with route pattern 'api/topic-category/create' is valid for the request path '/api/topic-category/create'
2025-07-11 14:47:26.104 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:47:26.106 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:47:26.106 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:47:26.107 +07:00 [DBG] Authorization was successful.
2025-07-11 14:47:26.108 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:47:26.108 +07:00 [INF] Route matched with {action = "Create", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:47:26.109 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:47:26.109 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:47:26.109 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:47:26.109 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:47:26.109 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:47:26.109 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:26.110 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:26.112 +07:00 [DBG] Attempting to bind parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO' ...
2025-07-11 14:47:26.112 +07:00 [DBG] Attempting to bind parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO' using the name '' in request data ...
2025-07-11 14:47:26.113 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:47:26.113 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:47:26.114 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:47:26.114 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 14:47:26.115 +07:00 [DBG] Connection id "0HNE09QHVRRUQ", Request id "0HNE09QHVRRUQ:00000005": started reading request body.
2025-07-11 14:47:26.115 +07:00 [DBG] Connection id "0HNE09QHVRRUQ", Request id "0HNE09QHVRRUQ:00000005": done reading request body.
2025-07-11 14:47:26.115 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO'
2025-07-11 14:47:26.115 +07:00 [DBG] Done attempting to bind parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO'.
2025-07-11 14:47:26.115 +07:00 [DBG] Done attempting to bind parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO'.
2025-07-11 14:47:26.116 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO' ...
2025-07-11 14:47:26.116 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.CreateTopicCategoryDTO'.
2025-07-11 14:47:26.118 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:47:26.119 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:47:26.120 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:47:26.120 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.121 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.121 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:26.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:26.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:26.121 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 14:47:26.129 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 14:47:26.130 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:26.130 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.130 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:26.130 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.131 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:26.132 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.132 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.132 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:26.132 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:26.132 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:26.132 +07:00 [DBG] Executing DbCommand [Parameters=[@__Trim_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE LOWER([t].[Name]) = @__Trim_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 14:47:26.138 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Trim_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE LOWER([t].[Name]) = @__Trim_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 14:47:26.139 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.139 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:26.139 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.139 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:26.140 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'TopicCategory.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:26.140 +07:00 [DBG] Context 'MyDbContext' started tracking 'TopicCategory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:26.140 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 14:47:26.140 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 14:47:26.141 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 14:47:26.142 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.142 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.142 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:26.142 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:26.142 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:26.142 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topic_categories] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [LastModifiedAt], [LastModifiedBy], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-11 14:47:26.154 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topic_categories] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [LastModifiedAt], [LastModifiedBy], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-07-11 14:47:26.154 +07:00 [DBG] The foreign key property 'TopicCategory.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 14:47:26.154 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.155 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:26.155 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.155 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:26.155 +07:00 [DBG] An entity of type 'TopicCategory' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:26.155 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 14:47:26.156 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:47:26.156 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:47:26.156 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:47:26.156 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:47:26.156 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:47:26.156 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api) in 47.4552ms
2025-07-11 14:47:26.156 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.Create (CapBot.api)'
2025-07-11 14:47:26.157 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:47:26.157 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:26.157 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:47:26.157 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic-category/create - 201 null application/json; charset=utf-8 55.64ms
2025-07-11 14:47:43.024 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7190/api/topic-category/update - application/json 72
2025-07-11 14:47:43.025 +07:00 [DBG] PUT requests are not supported
2025-07-11 14:47:43.025 +07:00 [DBG] PUT requests are not supported
2025-07-11 14:47:43.025 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 14:47:43.025 +07:00 [INF] CORS policy execution successful.
2025-07-11 14:47:43.025 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/update'
2025-07-11 14:47:43.025 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.Update (CapBot.api)' with route pattern 'api/topic-category/update' is valid for the request path '/api/topic-category/update'
2025-07-11 14:47:43.025 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.Update (CapBot.api)'
2025-07-11 14:47:43.026 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:47:43.026 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:47:43.026 +07:00 [DBG] Authorization was successful.
2025-07-11 14:47:43.027 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.Update (CapBot.api)'
2025-07-11 14:47:43.034 +07:00 [INF] Route matched with {action = "Update", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(App.Entities.DTOs.TopicCategories.UpdateTopicCategoryDTO) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:47:43.034 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:47:43.034 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:47:43.034 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:47:43.034 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:47:43.034 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:47:43.035 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:43.035 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:43.035 +07:00 [DBG] Attempting to bind parameter 'updateTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.UpdateTopicCategoryDTO' ...
2025-07-11 14:47:43.035 +07:00 [DBG] Attempting to bind parameter 'updateTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.UpdateTopicCategoryDTO' using the name '' in request data ...
2025-07-11 14:47:43.035 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:47:43.036 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:47:43.036 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 14:47:43.036 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 14:47:43.038 +07:00 [DBG] Connection id "0HNE09QHVRRUQ", Request id "0HNE09QHVRRUQ:00000007": started reading request body.
2025-07-11 14:47:43.038 +07:00 [DBG] Connection id "0HNE09QHVRRUQ", Request id "0HNE09QHVRRUQ:00000007": done reading request body.
2025-07-11 14:47:43.039 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.TopicCategories.UpdateTopicCategoryDTO'
2025-07-11 14:47:43.039 +07:00 [DBG] Done attempting to bind parameter 'updateTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.UpdateTopicCategoryDTO'.
2025-07-11 14:47:43.039 +07:00 [DBG] Done attempting to bind parameter 'updateTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.UpdateTopicCategoryDTO'.
2025-07-11 14:47:43.039 +07:00 [DBG] Attempting to validate the bound parameter 'updateTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.UpdateTopicCategoryDTO' ...
2025-07-11 14:47:43.042 +07:00 [DBG] Done attempting to validate the bound parameter 'updateTopicCategoryDTO' of type 'App.Entities.DTOs.TopicCategories.UpdateTopicCategoryDTO'.
2025-07-11 14:47:43.045 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:47:43.046 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:47:43.046 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:47:43.046 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.046 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.046 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:43.046 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:43.046 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:43.046 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 14:47:43.050 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 14:47:43.050 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:43.050 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.050 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:43.050 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.050 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:43.051 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .Where(x => x.Id == __updateTopicCategoryDTO_Id_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 14:47:43.055 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime) Required, 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
            FROM topic_categories AS t
            WHERE ((t.Id == @__updateTopicCategoryDTO_Id_0) && t.IsActive) && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:47:43.055 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.055 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.056 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:43.056 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:43.056 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:43.056 +07:00 [DBG] Executing DbCommand [Parameters=[@__updateTopicCategoryDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__updateTopicCategoryDTO_Id_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 14:47:43.074 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__updateTopicCategoryDTO_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__updateTopicCategoryDTO_Id_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 14:47:43.074 +07:00 [DBG] Context 'MyDbContext' started tracking 'TopicCategory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:43.074 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.074 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:43.074 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.074 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:43.075 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Where(x => x.Name.ToLower() == __Trim_0 && x.Id != __updateTopicCategoryDTO_Id_1 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 14:47:43.078 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime) Required, 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
            FROM topic_categories AS t
            WHERE (((LOWER(t.Name) == @__Trim_0) && (t.Id != @__updateTopicCategoryDTO_Id_1)) && t.IsActive) && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:47:43.078 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.078 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.079 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:43.079 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:43.079 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:43.079 +07:00 [DBG] Executing DbCommand [Parameters=[@__Trim_0='?' (Size = 100), @__updateTopicCategoryDTO_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE LOWER([t].[Name]) = @__Trim_0 AND [t].[Id] <> @__updateTopicCategoryDTO_Id_1 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 14:47:43.106 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__Trim_0='?' (Size = 100), @__updateTopicCategoryDTO_Id_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE LOWER([t].[Name]) = @__Trim_0 AND [t].[Id] <> @__updateTopicCategoryDTO_Id_1 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 14:47:43.106 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.106 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:43.106 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.106 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:43.109 +07:00 [DBG] The unchanged property 'TopicCategory.LastModifiedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 14:47:43.109 +07:00 [DBG] An entity of type 'TopicCategory' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:43.109 +07:00 [DBG] The unchanged property 'TopicCategory.LastModifiedBy' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 14:47:43.109 +07:00 [DBG] The unchanged property 'TopicCategory.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 14:47:43.110 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 14:47:43.110 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 14:47:43.110 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 14:47:43.112 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.112 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.112 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:43.113 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:43.113 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:43.113 +07:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [topic_categories] SET [CreatedAt] = @p0, [CreatedBy] = @p1, [DeletedAt] = @p2, [Description] = @p3, [IsActive] = @p4, [LastModifiedAt] = @p5, [LastModifiedBy] = @p6, [Name] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-11 14:47:43.124 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [topic_categories] SET [CreatedAt] = @p0, [CreatedBy] = @p1, [DeletedAt] = @p2, [Description] = @p3, [IsActive] = @p4, [LastModifiedAt] = @p5, [LastModifiedBy] = @p6, [Name] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-11 14:47:43.125 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.125 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 14:47:43.125 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.125 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:43.125 +07:00 [DBG] An entity of type 'TopicCategory' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:43.125 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 14:47:43.126 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:47:43.126 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:47:43.126 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:47:43.126 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:47:43.126 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:47:43.129 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.Update (CapBot.api) in 94.6424ms
2025-07-11 14:47:43.129 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.Update (CapBot.api)'
2025-07-11 14:47:43.129 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:47:43.129 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:43.130 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:47:43.130 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7190/api/topic-category/update - 200 null application/json; charset=utf-8 105.6986ms
2025-07-11 14:47:47.879 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic-category/detail/2 - null null
2025-07-11 14:47:47.879 +07:00 [DBG] The request path /api/topic-category/detail/2 does not match a supported file type
2025-07-11 14:47:47.879 +07:00 [DBG] The request path /api/topic-category/detail/2 does not match a supported file type
2025-07-11 14:47:47.879 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/detail/2'
2025-07-11 14:47:47.879 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)' with route pattern 'api/topic-category/detail/{topicCategoryId}' is valid for the request path '/api/topic-category/detail/2'
2025-07-11 14:47:47.879 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)'
2025-07-11 14:47:47.880 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:47:47.881 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:47:47.881 +07:00 [DBG] Authorization was successful.
2025-07-11 14:47:47.881 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)'
2025-07-11 14:47:47.881 +07:00 [INF] Route matched with {action = "GetDetail", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:47:47.881 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:47:47.881 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:47:47.881 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:47:47.881 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:47:47.882 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:47:47.882 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:47.883 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:47.883 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:47:47.883 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' using the name 'topicCategoryId' in request data ...
2025-07-11 14:47:47.884 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:47.884 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:47.884 +07:00 [DBG] Attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:47:47.884 +07:00 [DBG] Done attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:47.885 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:47:47.886 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:47:47.886 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:47:47.886 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:47.886 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:47.886 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:47.886 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:47.887 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:47.887 +07:00 [DBG] Executing DbCommand [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:47:47.891 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:47:47.892 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:47.892 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:47.892 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:47.892 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:47.893 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:47:47.893 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:47:47.893 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:47:47.893 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:47:47.893 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:47:47.893 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api) in 11.3334ms
2025-07-11 14:47:47.893 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)'
2025-07-11 14:47:47.894 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:47:47.894 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:47.894 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:47:47.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic-category/detail/2 - 200 null application/json; charset=utf-8 15.0672ms
2025-07-11 14:47:54.362 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7190/api/topic-category/delete/3 - null null
2025-07-11 14:47:54.363 +07:00 [DBG] DELETE requests are not supported
2025-07-11 14:47:54.363 +07:00 [DBG] DELETE requests are not supported
2025-07-11 14:47:54.363 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 14:47:54.363 +07:00 [INF] CORS policy execution successful.
2025-07-11 14:47:54.363 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/delete/3'
2025-07-11 14:47:54.363 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)' with route pattern 'api/topic-category/delete/{topicCategoryId}' is valid for the request path '/api/topic-category/delete/3'
2025-07-11 14:47:54.363 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)'
2025-07-11 14:47:54.364 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:47:54.364 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:47:54.365 +07:00 [DBG] Authorization was successful.
2025-07-11 14:47:54.365 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)'
2025-07-11 14:47:54.368 +07:00 [INF] Route matched with {action = "Delete", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:47:54.369 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:47:54.369 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:47:54.369 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:47:54.369 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:47:54.370 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:47:54.370 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:54.370 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:54.371 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:47:54.371 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' using the name 'topicCategoryId' in request data ...
2025-07-11 14:47:54.371 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:54.371 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:54.371 +07:00 [DBG] Attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:47:54.371 +07:00 [DBG] Done attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:54.375 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:47:54.375 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .Include(x => x.Topics)
    .Where(x => x.Id == __topicCategoryId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 14:47:54.376 +07:00 [DBG] Including navigation: 'TopicCategory.Topics'.
2025-07-11 14:47:54.384 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime) Required, 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Topic.CategoryId (int?) FK Index, 10], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: Topic.CreatedBy (string), 12], [Property: Topic.DeletedAt (DateTime?), 13], [Property: Topic.Description (string), 14], [Property: Topic.IsActive (bool) Required, 15], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 16], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 17], [Property: Topic.LastModifiedAt (DateTime) Required, 18], [Property: Topic.LastModifiedBy (string), 19], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 20], [Property: Topic.Objectives (string), 21], [Property: Topic.SemesterId (int) Required FK Index, 22], [Property: Topic.SupervisorId (int) Required FK Index, 23], [Property: Topic.Title (string) Required MaxLength(500), 24] }
                3 -> 9
            SELECT t0.Id, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Name, t1.Id, t1.CategoryId, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.SemesterId, t1.SupervisorId, t1.Title
            FROM 
            (
                SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
                FROM topic_categories AS t
                WHERE ((t.Id == @__topicCategoryId_0) && t.IsActive) && (t.DeletedAt == NULL)
            ) AS t0
            LEFT JOIN topics AS t1 ON t0.Id == t1.CategoryId
            ORDER BY t0.Id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 14:47:54.384 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:47:54.384 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:47:54.384 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:54.384 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:54.384 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:54.385 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:54.385 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:54.385 +07:00 [DBG] Executing DbCommand [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:47:54.389 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:47:54.389 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:54.389 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:54.389 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:54.389 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:54.390 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:47:54.390 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:47:54.390 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:47:54.390 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:47:54.390 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:47:54.390 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api) in 20.2954ms
2025-07-11 14:47:54.390 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)'
2025-07-11 14:47:54.390 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:47:54.391 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:54.391 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:47:54.391 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7190/api/topic-category/delete/3 - 404 null application/json; charset=utf-8 28.3377ms
2025-07-11 14:47:56.429 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7190/api/topic-category/delete/2 - null null
2025-07-11 14:47:56.430 +07:00 [DBG] DELETE requests are not supported
2025-07-11 14:47:56.430 +07:00 [DBG] DELETE requests are not supported
2025-07-11 14:47:56.430 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 14:47:56.430 +07:00 [INF] CORS policy execution successful.
2025-07-11 14:47:56.430 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/delete/2'
2025-07-11 14:47:56.430 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)' with route pattern 'api/topic-category/delete/{topicCategoryId}' is valid for the request path '/api/topic-category/delete/2'
2025-07-11 14:47:56.430 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)'
2025-07-11 14:47:56.431 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:47:56.431 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:47:56.431 +07:00 [DBG] Authorization was successful.
2025-07-11 14:47:56.431 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)'
2025-07-11 14:47:56.431 +07:00 [INF] Route matched with {action = "Delete", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:47:56.431 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:47:56.431 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:47:56.431 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:47:56.431 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:47:56.431 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:47:56.431 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:56.432 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:56.432 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:47:56.432 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' using the name 'topicCategoryId' in request data ...
2025-07-11 14:47:56.432 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:56.432 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:56.432 +07:00 [DBG] Attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:47:56.433 +07:00 [DBG] Done attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:56.434 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:47:56.434 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:47:56.434 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:47:56.434 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:56.435 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:56.435 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:56.435 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:56.435 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:56.435 +07:00 [DBG] Executing DbCommand [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:47:56.439 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:47:56.439 +07:00 [DBG] Context 'MyDbContext' started tracking 'TopicCategory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:56.440 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:56.440 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 14:47:56.440 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:56.441 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:56.441 +07:00 [DBG] The unchanged property 'TopicCategory.DeletedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 14:47:56.441 +07:00 [DBG] An entity of type 'TopicCategory' tracked by 'MyDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:56.441 +07:00 [DBG] The unchanged property 'TopicCategory.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 14:47:56.441 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 14:47:56.441 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 14:47:56.441 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 14:47:56.442 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:56.442 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:56.442 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:56.442 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:56.442 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:56.442 +07:00 [DBG] Executing DbCommand [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [topic_categories] SET [CreatedAt] = @p0, [CreatedBy] = @p1, [DeletedAt] = @p2, [Description] = @p3, [IsActive] = @p4, [LastModifiedAt] = @p5, [LastModifiedBy] = @p6, [Name] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-11 14:47:56.448 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [topic_categories] SET [CreatedAt] = @p0, [CreatedBy] = @p1, [DeletedAt] = @p2, [Description] = @p3, [IsActive] = @p4, [LastModifiedAt] = @p5, [LastModifiedBy] = @p6, [Name] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-11 14:47:56.448 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:56.448 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:56.448 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:56.448 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:56.450 +07:00 [DBG] An entity of type 'TopicCategory' tracked by 'MyDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 14:47:56.450 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 14:47:56.450 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:47:56.450 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:47:56.450 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:47:56.450 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:47:56.450 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:47:56.451 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api) in 19.2577ms
2025-07-11 14:47:56.451 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)'
2025-07-11 14:47:56.451 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:47:56.451 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:56.451 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:47:56.451 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7190/api/topic-category/delete/2 - 200 null application/json; charset=utf-8 21.727ms
2025-07-11 14:47:59.602 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7190/api/topic-category/delete/2 - null null
2025-07-11 14:47:59.602 +07:00 [DBG] DELETE requests are not supported
2025-07-11 14:47:59.602 +07:00 [DBG] DELETE requests are not supported
2025-07-11 14:47:59.602 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 14:47:59.602 +07:00 [INF] CORS policy execution successful.
2025-07-11 14:47:59.602 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/delete/2'
2025-07-11 14:47:59.602 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)' with route pattern 'api/topic-category/delete/{topicCategoryId}' is valid for the request path '/api/topic-category/delete/2'
2025-07-11 14:47:59.602 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)'
2025-07-11 14:47:59.603 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:47:59.603 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:47:59.603 +07:00 [DBG] Authorization was successful.
2025-07-11 14:47:59.604 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)'
2025-07-11 14:47:59.604 +07:00 [INF] Route matched with {action = "Delete", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:47:59.604 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:47:59.604 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:47:59.604 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:47:59.604 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:47:59.604 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:47:59.604 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:59.605 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:47:59.605 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:47:59.605 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' using the name 'topicCategoryId' in request data ...
2025-07-11 14:47:59.605 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:59.605 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:59.605 +07:00 [DBG] Attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:47:59.605 +07:00 [DBG] Done attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:47:59.606 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:47:59.609 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:47:59.609 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:47:59.609 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:59.609 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:59.609 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:47:59.609 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:59.609 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:47:59.610 +07:00 [DBG] Executing DbCommand [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:47:59.613 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:47:59.614 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:47:59.614 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:47:59.614 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:59.614 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:47:59.614 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:47:59.614 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:47:59.614 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:47:59.614 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:47:59.614 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:47:59.615 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api) in 10.7644ms
2025-07-11 14:47:59.615 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.Delete (CapBot.api)'
2025-07-11 14:47:59.615 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:47:59.615 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:47:59.615 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:47:59.615 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7190/api/topic-category/delete/2 - 404 null application/json; charset=utf-8 13.8631ms
2025-07-11 14:48:03.385 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic-category/detail/2 - null null
2025-07-11 14:48:03.385 +07:00 [DBG] The request path /api/topic-category/detail/2 does not match a supported file type
2025-07-11 14:48:03.385 +07:00 [DBG] The request path /api/topic-category/detail/2 does not match a supported file type
2025-07-11 14:48:03.385 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/detail/2'
2025-07-11 14:48:03.385 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)' with route pattern 'api/topic-category/detail/{topicCategoryId}' is valid for the request path '/api/topic-category/detail/2'
2025-07-11 14:48:03.385 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)'
2025-07-11 14:48:03.386 +07:00 [DBG] Successfully validated the token.
2025-07-11 14:48:03.386 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 14:48:03.386 +07:00 [DBG] Authorization was successful.
2025-07-11 14:48:03.386 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)'
2025-07-11 14:48:03.386 +07:00 [INF] Route matched with {action = "GetDetail", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 14:48:03.386 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 14:48:03.386 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 14:48:03.387 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 14:48:03.387 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 14:48:03.387 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 14:48:03.387 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:48:03.387 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 14:48:03.388 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:48:03.388 +07:00 [DBG] Attempting to bind parameter 'topicCategoryId' of type 'System.Int32' using the name 'topicCategoryId' in request data ...
2025-07-11 14:48:03.388 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:48:03.388 +07:00 [DBG] Done attempting to bind parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:48:03.388 +07:00 [DBG] Attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32' ...
2025-07-11 14:48:03.388 +07:00 [DBG] Done attempting to validate the bound parameter 'topicCategoryId' of type 'System.Int32'.
2025-07-11 14:48:03.389 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 14:48:03.389 +07:00 [DBG] Creating DbConnection.
2025-07-11 14:48:03.390 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 14:48:03.390 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:48:03.390 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:48:03.390 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 14:48:03.390 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:48:03.390 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 14:48:03.390 +07:00 [DBG] Executing DbCommand [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:48:03.395 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__topicCategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
    FROM [topic_categories] AS [t]
    WHERE [t].[Id] = @__topicCategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t0]
LEFT JOIN [topics] AS [t1] ON [t0].[Id] = [t1].[CategoryId]
ORDER BY [t0].[Id]
2025-07-11 14:48:03.396 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 14:48:03.396 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 14:48:03.396 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:48:03.396 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 14:48:03.397 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 14:48:03.397 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 14:48:03.397 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 14:48:03.397 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 14:48:03.397 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 14:48:03.398 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api) in 10.8752ms
2025-07-11 14:48:03.398 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.GetDetail (CapBot.api)'
2025-07-11 14:48:03.398 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 14:48:03.398 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 14:48:03.398 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 14:48:03.398 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic-category/detail/2 - 404 null application/json; charset=utf-8 13.3866ms
2025-07-11 14:49:07.143 +07:00 [DBG] Connection id "0HNE09QHVRRUQ" received FIN.
2025-07-11 14:49:07.151 +07:00 [DBG] Connection id "0HNE09QHVRRUQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 14:49:07.151 +07:00 [DBG] Connection id "0HNE09QHVRRUQ" is closed. The last processed stream ID was 17.
2025-07-11 14:49:07.155 +07:00 [DBG] The connection queue processing loop for 0HNE09QHVRRUQ completed.
2025-07-11 14:49:07.156 +07:00 [DBG] Connection id "0HNE09QHVRRUQ" stopped.
2025-07-11 14:52:56.771 +07:00 [DBG] Hosting stopping
2025-07-11 14:52:56.770 +07:00 [INF] Application is shutting down...
2025-07-11 14:52:56.779 +07:00 [DBG] Hosting stopped
2025-07-11 15:51:46.136 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 15:51:46.203 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 15:51:46.318 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.328 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.336 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.337 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.337 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.338 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.421 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.421 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.430 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.430 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.430 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.431 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.434 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.434 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 15:51:46.448 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 15:51:46.449 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 15:51:46.449 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 15:51:46.517 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.517 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.517 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.517 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.517 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.517 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.517 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.517 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.517 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.518 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.518 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 15:51:46.584 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 15:51:46.614 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 15:51:46.691 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 15:51:46.709 +07:00 [DBG] Creating DbConnection.
2025-07-11 15:51:46.718 +07:00 [DBG] Created DbConnection. (7ms).
2025-07-11 15:51:46.719 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.824 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.825 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:51:46.827 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 15:51:46.830 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-11 15:51:46.833 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 15:51:46.858 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 15:51:46.875 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:51:46.884 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.886 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 25ms reading results.
2025-07-11 15:51:46.887 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.888 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 15:51:46.890 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.891 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.891 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:51:46.891 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.891 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.891 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 15:51:46.895 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 15:51:46.896 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:51:46.896 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.896 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:51:46.896 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.896 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:51:46.897 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.897 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.897 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:51:46.897 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.897 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.897 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 15:51:46.899 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 15:51:46.899 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:51:46.900 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.900 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:51:46.900 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.900 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:51:46.900 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.900 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.900 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:51:46.900 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.900 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.900 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 15:51:46.902 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 15:51:46.902 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:51:46.902 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.903 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:51:46.903 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.903 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:51:46.907 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 15:51:46.910 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 15:51:46.911 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.911 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.911 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:51:46.911 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.911 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.911 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:51:46.914 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:51:46.921 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:51:46.932 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.932 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 18ms reading results.
2025-07-11 15:51:46.932 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.932 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:51:46.933 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 15:51:46.935 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.935 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.935 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:51:46.935 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.935 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.935 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:51:46.938 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:51:46.938 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:51:46.938 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.938 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:51:46.938 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.938 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:51:46.938 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 15:51:46.939 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.939 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.939 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:51:46.939 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.939 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.939 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:51:46.942 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:51:46.942 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:51:46.942 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.942 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:51:46.942 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.942 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:51:46.942 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.942 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.942 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:51:46.942 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.942 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:51:46.942 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:51:46.944 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:51:46.945 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:51:46.945 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.945 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:51:46.945 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.945 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:51:46.945 +07:00 [INF] Data seeding completed successfully
2025-07-11 15:51:46.946 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 15:51:46.948 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:51:46.948 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 15:51:47.022 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 15:51:47.192 +07:00 [DBG] Hosting starting
2025-07-11 15:51:47.195 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 15:51:47.196 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 15:51:47.197 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 15:51:47.199 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 15:51:47.204 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 15:51:47.204 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 15:51:47.207 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 15:51:47.210 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 15:51:47.211 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 15:51:47.211 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 15:51:47.212 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 15:51:47.212 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 15:51:47.357 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 15:51:47.357 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 15:51:47.358 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 15:51:47.358 +07:00 [INF] Hosting environment: Development
2025-07-11 15:51:47.358 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 15:51:47.358 +07:00 [DBG] Hosting started
2025-07-11 15:51:48.734 +07:00 [DBG] Connection id "0HNE0B0M2ROI3" accepted.
2025-07-11 15:51:48.735 +07:00 [DBG] Connection id "0HNE0B0M2ROI3" started.
2025-07-11 15:51:48.796 +07:00 [DBG] Connection 0HNE0B0M2ROI3 established using the following protocol: "Tls12"
2025-07-11 15:51:48.892 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 15:51:48.893 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 15:51:48.948 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 57.4565ms
2025-07-11 15:51:49.012 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 15:51:49.102 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.8752ms
2025-07-11 15:52:15.441 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/auth/login - application/json 75
2025-07-11 15:52:15.454 +07:00 [DBG] POST requests are not supported
2025-07-11 15:52:15.455 +07:00 [DBG] POST requests are not supported
2025-07-11 15:52:15.457 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 15:52:15.457 +07:00 [INF] CORS policy execution successful.
2025-07-11 15:52:15.474 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-07-11 15:52:15.474 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-07-11 15:52:15.475 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 15:52:15.496 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-11 15:52:15.500 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 15:52:15.508 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Entities.DTOs.Auth.LoginDTO) on controller CapBot.api.Controllers.AuthController (CapBot.api).
2025-07-11 15:52:15.509 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 15:52:15.509 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 15:52:15.509 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 15:52:15.509 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 15:52:15.509 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 15:52:15.510 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 15:52:15.516 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 15:52:15.522 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 15:52:15.523 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' using the name '' in request data ...
2025-07-11 15:52:15.524 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 15:52:15.524 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 15:52:15.524 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 15:52:15.524 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 15:52:15.528 +07:00 [DBG] Connection id "0HNE0B0M2ROI3", Request id "0HNE0B0M2ROI3:00000005": started reading request body.
2025-07-11 15:52:15.528 +07:00 [DBG] Connection id "0HNE0B0M2ROI3", Request id "0HNE0B0M2ROI3:00000005": done reading request body.
2025-07-11 15:52:15.529 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Auth.LoginDTO'
2025-07-11 15:52:15.530 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 15:52:15.530 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 15:52:15.530 +07:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 15:52:15.533 +07:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 15:52:15.554 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 15:52:15.555 +07:00 [DBG] Creating DbConnection.
2025-07-11 15:52:15.555 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 15:52:15.555 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:15.555 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:15.555 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:52:15.556 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:52:15.556 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:52:15.556 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:52:15.567 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:52:15.568 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:52:15.568 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:52:15.569 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:52:15.569 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:15.569 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:52:15.608 +07:00 [DBG] Invalid password for user.
2025-07-11 15:52:15.610 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 15:52:15.611 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 15:52:15.611 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 15:52:15.612 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 15:52:15.612 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 15:52:15.626 +07:00 [INF] Executed action CapBot.api.Controllers.AuthController.Login (CapBot.api) in 115.023ms
2025-07-11 15:52:15.626 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 15:52:15.628 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 15:52:15.628 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:15.629 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 15:52:15.629 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/auth/login - 401 null application/json; charset=utf-8 189.1212ms
2025-07-11 15:52:53.024 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/auth/login - application/json 84
2025-07-11 15:52:53.026 +07:00 [DBG] POST requests are not supported
2025-07-11 15:52:53.026 +07:00 [DBG] POST requests are not supported
2025-07-11 15:52:53.027 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 15:52:53.027 +07:00 [INF] CORS policy execution successful.
2025-07-11 15:52:53.029 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-07-11 15:52:53.029 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-07-11 15:52:53.029 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 15:52:53.032 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-11 15:52:53.033 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 15:52:53.033 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Entities.DTOs.Auth.LoginDTO) on controller CapBot.api.Controllers.AuthController (CapBot.api).
2025-07-11 15:52:53.034 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 15:52:53.034 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 15:52:53.034 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 15:52:53.034 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 15:52:53.034 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 15:52:53.034 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 15:52:53.036 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 15:52:53.036 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 15:52:53.036 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' using the name '' in request data ...
2025-07-11 15:52:53.036 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 15:52:53.037 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 15:52:53.037 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 15:52:53.037 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 15:52:53.038 +07:00 [DBG] Connection id "0HNE0B0M2ROI3", Request id "0HNE0B0M2ROI3:00000007": started reading request body.
2025-07-11 15:52:53.038 +07:00 [DBG] Connection id "0HNE0B0M2ROI3", Request id "0HNE0B0M2ROI3:00000007": done reading request body.
2025-07-11 15:52:53.038 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Auth.LoginDTO'
2025-07-11 15:52:53.038 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 15:52:53.038 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 15:52:53.038 +07:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 15:52:53.039 +07:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 15:52:53.047 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 15:52:53.049 +07:00 [DBG] Creating DbConnection.
2025-07-11 15:52:53.049 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 15:52:53.049 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:53.050 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:53.050 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:52:53.050 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:52:53.050 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:52:53.050 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:52:53.063 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 15:52:53.064 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:52:53.064 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:52:53.064 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:52:53.064 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:53.064 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:52:53.114 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-11 15:52:53.130 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Name
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        WHERE u.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 15:52:53.131 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:53.131 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:53.131 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:52:53.131 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:52:53.131 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:52:53.131 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 15:52:53.137 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 15:52:53.137 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:52:53.137 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:52:53.137 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:53.137 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:52:53.148 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 15:52:53.148 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 15:52:53.148 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 15:52:53.148 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 15:52:53.148 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 15:52:53.151 +07:00 [INF] Executed action CapBot.api.Controllers.AuthController.Login (CapBot.api) in 117.5477ms
2025-07-11 15:52:53.152 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 15:52:53.152 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 15:52:53.152 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:52:53.152 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 15:52:53.152 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/auth/login - 200 null application/json; charset=utf-8 127.6599ms
2025-07-11 15:53:13.826 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic-category/all - null null
2025-07-11 15:53:13.827 +07:00 [DBG] The request path /api/topic-category/all does not match a supported file type
2025-07-11 15:53:13.827 +07:00 [DBG] The request path /api/topic-category/all does not match a supported file type
2025-07-11 15:53:13.827 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic-category/all'
2025-07-11 15:53:13.827 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api)' with route pattern 'api/topic-category/all' is valid for the request path '/api/topic-category/all'
2025-07-11 15:53:13.828 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api)'
2025-07-11 15:53:13.861 +07:00 [DBG] Successfully validated the token.
2025-07-11 15:53:13.862 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 15:53:13.864 +07:00 [DBG] Authorization was successful.
2025-07-11 15:53:13.864 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api)'
2025-07-11 15:53:13.867 +07:00 [INF] Route matched with {action = "GetAll", controller = "TopicCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CapBot.api.Controllers.TopicCategoryController (CapBot.api).
2025-07-11 15:53:13.867 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 15:53:13.867 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 15:53:13.867 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 15:53:13.867 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 15:53:13.867 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 15:53:13.867 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 15:53:13.868 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicCategoryController (CapBot.api)
2025-07-11 15:53:13.870 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 15:53:13.874 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Include(x => x.Topics)
    .Where(x => x.IsActive && x.DeletedAt == null)'
2025-07-11 15:53:13.878 +07:00 [DBG] Including navigation: 'TopicCategory.Topics'.
2025-07-11 15:53:13.899 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TopicCategory>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime) Required, 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 9], [Property: Topic.CategoryId (int?) FK Index, 10], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 11], [Property: Topic.CreatedBy (string), 12], [Property: Topic.DeletedAt (DateTime?), 13], [Property: Topic.Description (string), 14], [Property: Topic.IsActive (bool) Required, 15], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 16], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 17], [Property: Topic.LastModifiedAt (DateTime) Required, 18], [Property: Topic.LastModifiedBy (string), 19], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 20], [Property: Topic.Objectives (string), 21], [Property: Topic.SemesterId (int) Required FK Index, 22], [Property: Topic.SupervisorId (int) Required FK Index, 23], [Property: Topic.Title (string) Required MaxLength(500), 24] }
            3 -> 9
        SELECT t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name, t0.Id, t0.CategoryId, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.SemesterId, t0.SupervisorId, t0.Title
        FROM topic_categories AS t
        LEFT JOIN topics AS t0 ON t.Id == t0.CategoryId
        WHERE t.IsActive && (t.DeletedAt == NULL)
        ORDER BY t.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 15:53:13.901 +07:00 [DBG] Creating DbConnection.
2025-07-11 15:53:13.901 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 15:53:13.901 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:53:13.901 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:53:13.901 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:53:13.901 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:53:13.902 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:53:13.902 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name], [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title]
FROM [topic_categories] AS [t]
LEFT JOIN [topics] AS [t0] ON [t].[Id] = [t0].[CategoryId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id]
2025-07-11 15:53:13.906 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name], [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title]
FROM [topic_categories] AS [t]
LEFT JOIN [topics] AS [t0] ON [t].[Id] = [t0].[CategoryId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id]
2025-07-11 15:53:13.909 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:53:13.909 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-07-11 15:53:13.909 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:53:13.909 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:53:13.909 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 15:53:13.909 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 15:53:13.909 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 15:53:13.910 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 15:53:13.910 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 15:53:13.912 +07:00 [INF] Executed action CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api) in 44.6494ms
2025-07-11 15:53:13.912 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicCategoryController.GetAll (CapBot.api)'
2025-07-11 15:53:13.912 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 15:53:13.912 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:53:13.912 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 15:53:13.912 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic-category/all - 200 null application/json; charset=utf-8 86.2761ms
2025-07-11 15:53:39.935 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/semester/all - null null
2025-07-11 15:53:39.937 +07:00 [DBG] The request path /api/semester/all does not match a supported file type
2025-07-11 15:53:39.937 +07:00 [DBG] The request path /api/semester/all does not match a supported file type
2025-07-11 15:53:39.938 +07:00 [DBG] 1 candidate(s) found for the request path '/api/semester/all'
2025-07-11 15:53:39.938 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.SemesterController.GetAll (CapBot.api)' with route pattern 'api/semester/all' is valid for the request path '/api/semester/all'
2025-07-11 15:53:39.938 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.SemesterController.GetAll (CapBot.api)'
2025-07-11 15:53:39.939 +07:00 [DBG] Successfully validated the token.
2025-07-11 15:53:39.939 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 15:53:39.941 +07:00 [DBG] Authorization was successful.
2025-07-11 15:53:39.942 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.SemesterController.GetAll (CapBot.api)'
2025-07-11 15:53:39.950 +07:00 [INF] Route matched with {action = "GetAll", controller = "Semester"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller CapBot.api.Controllers.SemesterController (CapBot.api).
2025-07-11 15:53:39.950 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 15:53:39.950 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 15:53:39.950 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 15:53:39.950 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 15:53:39.950 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 15:53:39.950 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 15:53:39.952 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.SemesterController (CapBot.api)
2025-07-11 15:53:39.955 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 15:53:39.956 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .AsNoTracking()
    .Where(x => x.IsActive && x.DeletedAt == null)'
2025-07-11 15:53:39.960 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Semester>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.CreatedAt (DateTime) Required, 1], [Property: Semester.CreatedBy (string), 2], [Property: Semester.DeletedAt (DateTime?), 3], [Property: Semester.EndDate (DateTime) Required, 4], [Property: Semester.IsActive (bool) Required, 5], [Property: Semester.LastModifiedAt (DateTime) Required, 6], [Property: Semester.LastModifiedBy (string), 7], [Property: Semester.Name (string) Required Index MaxLength(50), 8], [Property: Semester.StartDate (DateTime) Required, 9] }
        SELECT s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate
        FROM semesters AS s
        WHERE s.IsActive && (s.DeletedAt == NULL)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Semester>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 15:53:39.961 +07:00 [DBG] Creating DbConnection.
2025-07-11 15:53:39.961 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 15:53:39.961 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:53:39.961 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:53:39.961 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:53:39.961 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:53:39.961 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:53:39.962 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 15:53:39.968 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 15:53:39.969 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:53:39.969 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 15:53:39.969 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:53:39.969 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:53:39.970 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 15:53:39.970 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 15:53:39.970 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 15:53:39.970 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 15:53:39.970 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 15:53:39.972 +07:00 [INF] Executed action CapBot.api.Controllers.SemesterController.GetAll (CapBot.api) in 21.6325ms
2025-07-11 15:53:39.972 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.SemesterController.GetAll (CapBot.api)'
2025-07-11 15:53:39.972 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 15:53:39.972 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:53:39.972 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 15:53:39.972 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/semester/all - 201 null application/json; charset=utf-8 37.7514ms
2025-07-11 15:53:56.317 +07:00 [DBG] Connection id "0HNE0B0M2ROI3" received FIN.
2025-07-11 15:53:56.322 +07:00 [DBG] Connection id "0HNE0B0M2ROI3" is closed. The last processed stream ID was 11.
2025-07-11 15:53:56.322 +07:00 [DBG] Connection id "0HNE0B0M2ROI3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 15:53:56.323 +07:00 [DBG] The connection queue processing loop for 0HNE0B0M2ROI3 completed.
2025-07-11 15:53:56.327 +07:00 [DBG] Connection id "0HNE0B0M2ROI3" stopped.
2025-07-11 15:54:05.603 +07:00 [DBG] Connection id "0HNE0B0M2ROI4" accepted.
2025-07-11 15:54:05.603 +07:00 [DBG] Connection id "0HNE0B0M2ROI4" started.
2025-07-11 15:54:05.620 +07:00 [DBG] Connection 0HNE0B0M2ROI4 established using the following protocol: "Tls12"
2025-07-11 15:54:05.621 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic/create - application/json 268
2025-07-11 15:54:05.621 +07:00 [DBG] POST requests are not supported
2025-07-11 15:54:05.621 +07:00 [DBG] POST requests are not supported
2025-07-11 15:54:05.621 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 15:54:05.621 +07:00 [INF] CORS policy execution successful.
2025-07-11 15:54:05.621 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/create'
2025-07-11 15:54:05.621 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)' with route pattern 'api/topic/create' is valid for the request path '/api/topic/create'
2025-07-11 15:54:05.621 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 15:54:05.622 +07:00 [DBG] Successfully validated the token.
2025-07-11 15:54:05.622 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 15:54:05.624 +07:00 [DBG] Authorization was successful.
2025-07-11 15:54:05.624 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 15:54:05.628 +07:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.Topics.CreateTopicDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 15:54:05.628 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 15:54:05.628 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 15:54:05.628 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 15:54:05.628 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 15:54:05.628 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 15:54:05.628 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 15:54:05.629 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 15:54:05.629 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 15:54:05.629 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' using the name '' in request data ...
2025-07-11 15:54:05.629 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 15:54:05.629 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 15:54:05.629 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 15:54:05.629 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 15:54:05.630 +07:00 [DBG] Connection id "0HNE0B0M2ROI4", Request id "0HNE0B0M2ROI4:00000001": started reading request body.
2025-07-11 15:54:05.630 +07:00 [DBG] Connection id "0HNE0B0M2ROI4", Request id "0HNE0B0M2ROI4:00000001": done reading request body.
2025-07-11 15:54:05.632 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Topics.CreateTopicDTO'
2025-07-11 15:54:05.633 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 15:54:05.633 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 15:54:05.633 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 15:54:05.636 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 15:54:05.640 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 15:54:05.642 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-07-11 15:54:05.646 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 15:54:05.647 +07:00 [DBG] Creating DbConnection.
2025-07-11 15:54:05.647 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 15:54:05.647 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.647 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.647 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:54:05.647 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.647 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.647 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 15:54:05.651 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 15:54:05.651 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:54:05.651 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.652 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:54:05.652 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.652 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:54:05.653 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_CategoryId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 15:54:05.655 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime) Required, 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
            FROM topic_categories AS t
            WHERE ((t.Id == @__createTopicDTO_CategoryId_0) && t.IsActive) && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 15:54:05.656 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.656 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.656 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:54:05.656 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.656 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.656 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 15:54:05.674 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 15:54:05.674 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.674 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:54:05.674 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.674 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:54:05.675 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_SemesterId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 15:54:05.677 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Semester>(
    asyncEnumerable: new SingleQueryingEnumerable<Semester>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.CreatedAt (DateTime) Required, 1], [Property: Semester.CreatedBy (string), 2], [Property: Semester.DeletedAt (DateTime?), 3], [Property: Semester.EndDate (DateTime) Required, 4], [Property: Semester.IsActive (bool) Required, 5], [Property: Semester.LastModifiedAt (DateTime) Required, 6], [Property: Semester.LastModifiedBy (string), 7], [Property: Semester.Name (string) Required Index MaxLength(50), 8], [Property: Semester.StartDate (DateTime) Required, 9] }
            SELECT TOP(1) s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate
            FROM semesters AS s
            WHERE ((s.Id == @__createTopicDTO_SemesterId_0) && s.IsActive) && (s.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Semester>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 15:54:05.678 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.678 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.678 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:54:05.678 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.678 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.678 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 15:54:05.685 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 15:54:05.685 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.685 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 15:54:05.685 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.685 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:54:05.702 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Topic.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:54:05.722 +07:00 [DBG] The navigation 'Topic.Supervisor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:54:05.726 +07:00 [DBG] Context 'MyDbContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:54:05.727 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 15:54:05.728 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 15:54:05.739 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 15:54:05.767 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.767 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.768 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:54:05.768 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.769 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.769 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topics] ([CategoryId], [CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [IsApproved], [LastModifiedAt], [LastModifiedBy], [MaxStudents], [Objectives], [SemesterId], [SupervisorId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsLegacy]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-07-11 15:54:05.798 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topics] ([CategoryId], [CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [IsApproved], [LastModifiedAt], [LastModifiedBy], [MaxStudents], [Objectives], [SemesterId], [SupervisorId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsLegacy]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-07-11 15:54:05.803 +07:00 [DBG] The foreign key property 'Topic.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 15:54:05.806 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.806 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 8ms reading results.
2025-07-11 15:54:05.807 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.807 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:54:05.811 +07:00 [DBG] An entity of type 'Topic' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:54:05.812 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 15:54:05.814 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'TopicVersion.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:54:05.826 +07:00 [DBG] The navigation 'TopicVersion.Topic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:54:05.827 +07:00 [DBG] Context 'MyDbContext' started tracking 'TopicVersion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:54:05.827 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 15:54:05.827 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 15:54:05.830 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 15:54:05.831 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.831 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.831 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 15:54:05.831 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.832 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 15:54:05.832 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 500), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topic_versions] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [DocumentUrl], [ExpectedOutcomes], [IsActive], [LastModifiedAt], [LastModifiedBy], [Methodology], [Objectives], [Requirements], [Status], [SubmittedAt], [SubmittedBy], [Title], [TopicId], [VersionNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-07-11 15:54:05.844 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 500), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topic_versions] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [DocumentUrl], [ExpectedOutcomes], [IsActive], [LastModifiedAt], [LastModifiedBy], [Methodology], [Objectives], [Requirements], [Status], [SubmittedAt], [SubmittedBy], [Title], [TopicId], [VersionNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-07-11 15:54:05.846 +07:00 [DBG] The foreign key property 'TopicVersion.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 15:54:05.846 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.846 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 15:54:05.846 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.847 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 15:54:05.847 +07:00 [DBG] An entity of type 'TopicVersion' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 15:54:05.847 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 15:54:05.848 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 15:54:05.848 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 15:54:05.848 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 15:54:05.848 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 15:54:05.848 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 15:54:05.849 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.Create (CapBot.api) in 221.3688ms
2025-07-11 15:54:05.849 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 15:54:05.849 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 15:54:05.849 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 15:54:05.850 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 15:54:05.850 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic/create - 201 null application/json; charset=utf-8 229.0603ms
2025-07-11 15:54:06.315 +07:00 [DBG] Connection id "0HNE0B0M2ROI4" received FIN.
2025-07-11 15:54:06.315 +07:00 [DBG] Connection id "0HNE0B0M2ROI4" is closed. The last processed stream ID was 1.
2025-07-11 15:54:06.315 +07:00 [DBG] Connection id "0HNE0B0M2ROI4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 15:54:06.315 +07:00 [DBG] The connection queue processing loop for 0HNE0B0M2ROI4 completed.
2025-07-11 15:54:06.315 +07:00 [DBG] Connection id "0HNE0B0M2ROI4" stopped.
2025-07-11 16:00:35.844 +07:00 [INF] Application is shutting down...
2025-07-11 16:00:35.846 +07:00 [DBG] Hosting stopping
2025-07-11 16:00:35.853 +07:00 [DBG] Hosting stopped
2025-07-11 16:02:07.172 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:02:07.228 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 16:02:07.332 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.339 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.344 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.345 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.345 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.345 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.427 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.428 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.436 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.437 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.437 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.437 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.439 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.439 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:02:07.451 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:02:07.451 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:02:07.451 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:02:07.451 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:02:07.451 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:02:07.451 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:02:07.451 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:02:07.451 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:02:07.452 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.514 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:02:07.655 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:02:07.684 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 16:02:07.756 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:02:07.771 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:02:07.780 +07:00 [DBG] Created DbConnection. (7ms).
2025-07-11 16:02:07.782 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.883 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.884 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:07.886 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 16:02:07.888 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-11 16:02:07.891 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:02:07.915 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:02:07.931 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:07.938 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.941 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 23ms reading results.
2025-07-11 16:02:07.942 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.943 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 16:02:07.945 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.945 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.945 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:07.945 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.945 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.945 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:02:07.948 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:02:07.949 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:07.949 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.949 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:02:07.949 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.949 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:07.949 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.949 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.949 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:07.949 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.949 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.949 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:02:07.951 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:02:07.951 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:07.951 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.951 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:02:07.951 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.951 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:07.951 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.951 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.951 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:07.951 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.951 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.951 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:02:07.953 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:02:07.953 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:07.953 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.953 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:02:07.953 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.953 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:07.957 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 16:02:07.959 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:02:07.960 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.960 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.960 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:07.960 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.960 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.960 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:02:07.964 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:02:07.972 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:07.983 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.983 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 18ms reading results.
2025-07-11 16:02:07.983 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.983 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:07.984 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 16:02:07.985 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.985 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.985 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:07.985 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.985 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.985 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:02:07.988 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:02:07.988 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:07.988 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.988 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:02:07.988 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.988 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:07.988 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 16:02:07.988 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.989 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.989 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:07.989 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.989 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.989 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:02:07.991 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:02:07.991 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:07.991 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.991 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:02:07.991 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.991 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:07.991 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.992 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.992 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:07.992 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.992 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:07.992 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:02:07.994 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:02:07.994 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:07.994 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.994 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:02:07.994 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.994 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:07.994 +07:00 [INF] Data seeding completed successfully
2025-07-11 16:02:07.995 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:02:07.996 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:07.996 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:02:08.069 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 16:02:08.104 +07:00 [DBG] Hosting starting
2025-07-11 16:02:08.106 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 16:02:08.107 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 16:02:08.107 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 16:02:08.109 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 16:02:08.110 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 16:02:08.110 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 16:02:08.112 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 16:02:08.113 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 16:02:08.114 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 16:02:08.114 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 16:02:08.114 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 16:02:08.115 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 16:02:08.277 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 16:02:08.277 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 16:02:08.277 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 16:02:08.277 +07:00 [INF] Hosting environment: Development
2025-07-11 16:02:08.277 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 16:02:08.277 +07:00 [DBG] Hosting started
2025-07-11 16:02:12.300 +07:00 [DBG] Connection id "0HNE0B6FTKTQ1" accepted.
2025-07-11 16:02:12.302 +07:00 [DBG] Connection id "0HNE0B6FTKTQ1" started.
2025-07-11 16:02:12.351 +07:00 [DBG] Connection 0HNE0B6FTKTQ1 established using the following protocol: "Tls12"
2025-07-11 16:02:12.459 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 16:02:12.460 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 16:02:12.510 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 52.4244ms
2025-07-11 16:02:12.572 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 16:02:12.663 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.2024ms
2025-07-11 16:02:40.222 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic/create - application/json 275
2025-07-11 16:02:40.225 +07:00 [DBG] POST requests are not supported
2025-07-11 16:02:40.226 +07:00 [DBG] POST requests are not supported
2025-07-11 16:02:40.227 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 16:02:40.227 +07:00 [INF] CORS policy execution successful.
2025-07-11 16:02:40.246 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/create'
2025-07-11 16:02:40.246 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)' with route pattern 'api/topic/create' is valid for the request path '/api/topic/create'
2025-07-11 16:02:40.247 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:02:40.289 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:02:40.289 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:02:40.291 +07:00 [DBG] Authorization was successful.
2025-07-11 16:02:40.293 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:02:40.300 +07:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.Topics.CreateTopicDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:02:40.300 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:02:40.300 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:02:40.301 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:02:40.301 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:02:40.301 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:02:40.301 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:02:40.303 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:02:40.305 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:02:40.306 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' using the name '' in request data ...
2025-07-11 16:02:40.306 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:02:40.306 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:02:40.306 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:02:40.306 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 16:02:40.310 +07:00 [DBG] Connection id "0HNE0B6FTKTQ1", Request id "0HNE0B6FTKTQ1:00000005": started reading request body.
2025-07-11 16:02:40.310 +07:00 [DBG] Connection id "0HNE0B6FTKTQ1", Request id "0HNE0B6FTKTQ1:00000005": done reading request body.
2025-07-11 16:02:40.311 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Topics.CreateTopicDTO'
2025-07-11 16:02:40.311 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:02:40.311 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:02:40.311 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:02:40.314 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:02:40.333 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:02:40.336 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-07-11 16:02:40.347 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:02:40.347 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:02:40.347 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:02:40.348 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.348 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.348 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:40.348 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:40.348 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:40.348 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 16:02:40.353 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 16:02:40.354 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:40.354 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.354 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:02:40.354 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.354 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:40.358 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_CategoryId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 16:02:40.361 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime?), 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
            FROM topic_categories AS t
            WHERE ((t.Id == @__createTopicDTO_CategoryId_0) && t.IsActive) && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:02:40.363 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.364 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.364 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:40.364 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:40.364 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:40.364 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 16:02:40.368 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 16:02:40.368 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.368 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:02:40.369 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.369 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:40.369 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_SemesterId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 16:02:40.372 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Semester>(
    asyncEnumerable: new SingleQueryingEnumerable<Semester>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.CreatedAt (DateTime) Required, 1], [Property: Semester.CreatedBy (string), 2], [Property: Semester.DeletedAt (DateTime?), 3], [Property: Semester.EndDate (DateTime) Required, 4], [Property: Semester.IsActive (bool) Required, 5], [Property: Semester.LastModifiedAt (DateTime?), 6], [Property: Semester.LastModifiedBy (string), 7], [Property: Semester.Name (string) Required Index MaxLength(50), 8], [Property: Semester.StartDate (DateTime) Required, 9] }
            SELECT TOP(1) s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate
            FROM semesters AS s
            WHERE ((s.Id == @__createTopicDTO_SemesterId_0) && s.IsActive) && (s.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Semester>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:02:40.372 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.372 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.372 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:40.372 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:40.372 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:40.373 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 16:02:40.375 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 16:02:40.376 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.376 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:02:40.376 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.376 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:40.379 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.379 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.380 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-11 16:02:40.385 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-11 16:02:40.397 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Topic.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:40.413 +07:00 [DBG] The navigation 'Topic.Supervisor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:40.418 +07:00 [DBG] Context 'MyDbContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:40.420 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'TopicVersion.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:40.433 +07:00 [DBG] Context 'MyDbContext' started tracking 'TopicVersion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:02:40.434 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 16:02:40.435 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 16:02:40.450 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 16:02:40.476 +07:00 [DBG] Executing 2 update commands as a batch.
2025-07-11 16:02:40.477 +07:00 [DBG] Creating transaction savepoint.
2025-07-11 16:02:40.486 +07:00 [DBG] Created transaction savepoint.
2025-07-11 16:02:40.487 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:02:40.487 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:40.488 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:02:40.488 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 500), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (Size = 4000), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [topic_versions] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [DocumentUrl], [ExpectedOutcomes], [IsActive], [LastModifiedAt], [LastModifiedBy], [Methodology], [Objectives], [Requirements], [Status], [SubmittedAt], [SubmittedBy], [Title], [TopicId], [VersionNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [topics] ([CategoryId], [CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [IsApproved], [LastModifiedAt], [LastModifiedBy], [MaxStudents], [Objectives], [SemesterId], [SupervisorId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsLegacy]
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-07-11 16:02:40.547 +07:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 500), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (Size = 4000), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [topic_versions] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [DocumentUrl], [ExpectedOutcomes], [IsActive], [LastModifiedAt], [LastModifiedBy], [Methodology], [Objectives], [Requirements], [Status], [SubmittedAt], [SubmittedBy], [Title], [TopicId], [VersionNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [topics] ([CategoryId], [CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [IsApproved], [LastModifiedAt], [LastModifiedBy], [MaxStudents], [Objectives], [SemesterId], [SupervisorId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsLegacy]
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-07-11 16:02:40.552 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.552 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 5ms reading results.
2025-07-11 16:02:40.554 +07:00 [DBG] Rolling back to transaction savepoint.
2025-07-11 16:02:40.565 +07:00 [DBG] Rolled back to transaction savepoint.
2025-07-11 16:02:40.572 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'App.DAL.Context.MyDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'LastModifiedAt', table 'capbot_db.dbo.topic_versions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:166a8139-5117-441f-a614-ea919326a4b1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'LastModifiedAt', table 'capbot_db.dbo.topic_versions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:166a8139-5117-441f-a614-ea919326a4b1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-11 16:02:40.577 +07:00 [DBG] Rolling back transaction.
2025-07-11 16:02:40.580 +07:00 [DBG] Rolled back transaction.
2025-07-11 16:02:40.581 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.581 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:02:40.582 +07:00 [DBG] Disposing transaction.
2025-07-11 16:02:40.582 +07:00 [ERR] Error occurred while creating topic
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'LastModifiedAt', table 'capbot_db.dbo.topic_versions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:166a8139-5117-441f-a614-ea919326a4b1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at App.DAL.UnitOfWork.UnitOfWork.SaveChangesAsync() in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/App.DAL/UnitOfWork/UnitOfWork.cs:line 75
   at App.BLL.Implementations.TopicService.CreateTopic(CreateTopicDTO createTopicDTO, Int32 userId) in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/App.BLL/Implementations/TopicService.cs:line 108
   at App.BLL.Implementations.TopicService.CreateTopic(CreateTopicDTO createTopicDTO, Int32 userId) in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/App.BLL/Implementations/TopicService.cs:line 126
   at CapBot.api.Controllers.TopicController.Create(CreateTopicDTO createTopicDTO) in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api/Controllers/TopicController.cs:line 85
2025-07-11 16:02:40.588 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:02:40.589 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:02:40.589 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:02:40.590 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:02:40.590 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:02:40.601 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.Create (CapBot.api) in 299.2662ms
2025-07-11 16:02:40.601 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:02:40.602 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:02:40.602 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:02:40.603 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:02:40.604 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic/create - 200 null application/json; charset=utf-8 381.3968ms
2025-07-11 16:03:59.387 +07:00 [DBG] Connection id "0HNE0B6FTKTQ1" received FIN.
2025-07-11 16:03:59.392 +07:00 [DBG] Connection id "0HNE0B6FTKTQ1" is closed. The last processed stream ID was 5.
2025-07-11 16:03:59.393 +07:00 [DBG] Connection id "0HNE0B6FTKTQ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:03:59.394 +07:00 [DBG] The connection queue processing loop for 0HNE0B6FTKTQ1 completed.
2025-07-11 16:03:59.396 +07:00 [DBG] Connection id "0HNE0B6FTKTQ1" stopped.
2025-07-11 16:05:01.446 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:05:01.595 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.605 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.613 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.613 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.614 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.614 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.704 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.705 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.714 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.714 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.714 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.715 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.717 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.717 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.730 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:05:01.730 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:05:01.730 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:05:01.731 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.796 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.858 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:05:01.866 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.869 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.873 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.874 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.874 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.874 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.902 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.903 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.905 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.905 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.905 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.905 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.906 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.907 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:05:01.909 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:05:01.910 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:05:01.910 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:05:01.910 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:05:01.910 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:05:01.910 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:05:01.910 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:05:01.910 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.925 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:01.926 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:02.368 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:05:17.483 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:05:17.670 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.681 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.692 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.693 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.693 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.693 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.800 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.801 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.811 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.811 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.811 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.812 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.814 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.814 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:05:17.829 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:05:17.830 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:05:17.831 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:05:17.925 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.926 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.926 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.926 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.926 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.926 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.926 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.926 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.926 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.926 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:17.927 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:05:18.000 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:05:18.006 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:05:18.025 +07:00 [DBG] Created DbConnection. (17ms).
2025-07-11 16:05:18.026 +07:00 [DBG] Migrating using database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.028 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.198 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.200 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.202 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-11 16:05:18.202 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-11 16:05:18.205 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-11 16:05:18.218 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-11 16:05:18.219 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.222 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 16:05:18.223 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-11 16:05:18.223 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-11 16:05:18.223 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-11 16:05:18.223 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.224 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.224 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-11 16:05:18.235 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-11 16:05:18.235 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.235 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:05:18.235 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.235 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.235 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.235 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.235 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.235 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-11 16:05:18.237 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-11 16:05:18.237 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.238 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:05:18.238 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-11 16:05:18.238 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-11 16:05:18.238 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-11 16:05:18.238 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.238 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.238 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-11 16:05:18.242 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-11 16:05:18.242 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.242 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:05:18.250 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.250 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.250 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:05:18.250 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:05:18.250 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:05:18.251 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-11 16:05:18.259 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-11 16:05:18.261 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.261 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 16:05:18.261 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.261 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:05:18.265 +07:00 [INF] Applying migration '20250711090502_UpdateNullableForLastModifiedAt'.
2025-07-11 16:05:18.305 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.305 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.307 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-11 16:05:18.311 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-11 16:05:18.312 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.312 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.312 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.312 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[workflow_states]') AND [c].[name] = N'LastModifiedAt');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [workflow_states] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [workflow_states] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.405 +07:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[workflow_states]') AND [c].[name] = N'LastModifiedAt');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [workflow_states] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [workflow_states] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.406 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.406 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.407 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.407 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topics]') AND [c].[name] = N'LastModifiedAt');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [topics] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [topics] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.426 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topics]') AND [c].[name] = N'LastModifiedAt');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [topics] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [topics] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.427 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.427 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.427 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.427 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topic_versions]') AND [c].[name] = N'LastModifiedAt');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [topic_versions] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [topic_versions] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.443 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topic_versions]') AND [c].[name] = N'LastModifiedAt');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [topic_versions] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [topic_versions] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.443 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.443 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.443 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.443 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topic_categories]') AND [c].[name] = N'LastModifiedAt');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [topic_categories] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [topic_categories] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.464 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[topic_categories]') AND [c].[name] = N'LastModifiedAt');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [topic_categories] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [topic_categories] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.464 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.465 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.465 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.465 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[semesters]') AND [c].[name] = N'LastModifiedAt');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [semesters] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [semesters] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.484 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[semesters]') AND [c].[name] = N'LastModifiedAt');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [semesters] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [semesters] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.484 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.484 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.484 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.484 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[reviews]') AND [c].[name] = N'LastModifiedAt');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [reviews] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [reviews] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.498 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[reviews]') AND [c].[name] = N'LastModifiedAt');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [reviews] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [reviews] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.499 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.499 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.499 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.499 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[review_criteria_scores]') AND [c].[name] = N'LastModifiedAt');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [review_criteria_scores] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [review_criteria_scores] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.511 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[review_criteria_scores]') AND [c].[name] = N'LastModifiedAt');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [review_criteria_scores] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [review_criteria_scores] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.511 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.511 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.511 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.511 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[review_comments]') AND [c].[name] = N'LastModifiedAt');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [review_comments] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [review_comments] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.525 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var7 sysname;
SELECT @var7 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[review_comments]') AND [c].[name] = N'LastModifiedAt');
IF @var7 IS NOT NULL EXEC(N'ALTER TABLE [review_comments] DROP CONSTRAINT [' + @var7 + '];');
ALTER TABLE [review_comments] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.527 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.527 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.527 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.527 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[phases]') AND [c].[name] = N'LastModifiedAt');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [phases] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [phases] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.541 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var8 sysname;
SELECT @var8 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[phases]') AND [c].[name] = N'LastModifiedAt');
IF @var8 IS NOT NULL EXEC(N'ALTER TABLE [phases] DROP CONSTRAINT [' + @var8 + '];');
ALTER TABLE [phases] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.542 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.542 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.542 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.542 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[phase_types]') AND [c].[name] = N'LastModifiedAt');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [phase_types] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [phase_types] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.557 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var9 sysname;
SELECT @var9 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[phase_types]') AND [c].[name] = N'LastModifiedAt');
IF @var9 IS NOT NULL EXEC(N'ALTER TABLE [phase_types] DROP CONSTRAINT [' + @var9 + '];');
ALTER TABLE [phase_types] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.557 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.557 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.557 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.557 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[lecturer_skills]') AND [c].[name] = N'LastModifiedAt');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [lecturer_skills] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [lecturer_skills] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.573 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var10 sysname;
SELECT @var10 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[lecturer_skills]') AND [c].[name] = N'LastModifiedAt');
IF @var10 IS NOT NULL EXEC(N'ALTER TABLE [lecturer_skills] DROP CONSTRAINT [' + @var10 + '];');
ALTER TABLE [lecturer_skills] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.573 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.573 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.573 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.574 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[evaluation_criteria]') AND [c].[name] = N'LastModifiedAt');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [evaluation_criteria] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [evaluation_criteria] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.590 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var11 sysname;
SELECT @var11 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[evaluation_criteria]') AND [c].[name] = N'LastModifiedAt');
IF @var11 IS NOT NULL EXEC(N'ALTER TABLE [evaluation_criteria] DROP CONSTRAINT [' + @var11 + '];');
ALTER TABLE [evaluation_criteria] ALTER COLUMN [LastModifiedAt] datetime2 NULL;
2025-07-11 16:05:18.590 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:05:18.590 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.590 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:05:18.590 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250711090502_UpdateNullableForLastModifiedAt', N'8.0.16');
2025-07-11 16:05:18.592 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250711090502_UpdateNullableForLastModifiedAt', N'8.0.16');
2025-07-11 16:05:18.593 +07:00 [DBG] Committing transaction.
2025-07-11 16:05:18.598 +07:00 [DBG] Committed transaction.
2025-07-11 16:05:18.598 +07:00 [DBG] Disposing transaction.
2025-07-11 16:05:18.599 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.599 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:05:18.600 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:05:18.601 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:05:18.601 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:15:43.262 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:15:43.404 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.414 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.419 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.420 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.420 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.421 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.508 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.509 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.518 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.518 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.518 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.519 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.521 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.521 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:15:43.534 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:15:43.535 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:15:43.535 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:15:43.535 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:15:43.535 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:15:43.535 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.597 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:43.659 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:15:43.665 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:15:43.680 +07:00 [DBG] Created DbConnection. (14ms).
2025-07-11 16:15:43.681 +07:00 [DBG] Migrating using database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.683 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.817 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.819 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:15:43.820 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-11 16:15:43.821 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-07-11 16:15:43.823 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-11 16:15:43.845 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-11 16:15:43.845 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.848 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 16:15:43.849 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-11 16:15:43.849 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-11 16:15:43.849 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-11 16:15:43.849 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.849 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.849 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-11 16:15:43.861 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-11 16:15:43.861 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.861 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:43.861 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.861 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.861 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-11 16:15:43.861 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:15:43.861 +07:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-07-11 16:15:43.861 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-11 16:15:43.864 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-07-11 16:15:43.864 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.864 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:43.864 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-11 16:15:43.864 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-07-11 16:15:43.864 +07:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-07-11 16:15:43.864 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.864 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.864 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-11 16:15:43.867 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-11 16:15:43.867 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.867 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:43.872 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.872 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.872 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:15:43.872 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:43.872 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:43.873 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-11 16:15:43.876 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-11 16:15:43.877 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.877 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:15:43.877 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.877 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:43.881 +07:00 [INF] No migrations were applied. The database is already up to date.
2025-07-11 16:15:43.881 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:15:43.882 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:43.882 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:15:48.543 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:15:48.591 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 16:15:48.695 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.702 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.707 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.709 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.709 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.709 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.787 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.788 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.795 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.796 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.796 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.796 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.798 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.799 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:15:48.811 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:15:48.869 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.870 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:15:48.931 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:15:48.959 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 16:15:49.028 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:15:49.043 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:15:49.049 +07:00 [DBG] Created DbConnection. (5ms).
2025-07-11 16:15:49.051 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.130 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.131 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:15:49.133 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.135 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-11 16:15:49.138 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:15:49.161 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:15:49.177 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:15:49.184 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.187 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 23ms reading results.
2025-07-11 16:15:49.188 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.190 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 16:15:49.191 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.191 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.191 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:15:49.191 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.191 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.192 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:15:49.195 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:15:49.195 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:15:49.195 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.195 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:15:49.195 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.195 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:49.195 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.195 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.195 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:15:49.195 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.195 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.195 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:15:49.197 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:15:49.197 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:15:49.197 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.197 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:15:49.197 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.198 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:49.198 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.198 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.198 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:15:49.198 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.198 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.198 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:15:49.200 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:15:49.200 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:15:49.200 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.200 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:15:49.200 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.200 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:49.203 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 16:15:49.205 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:15:49.205 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.205 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.206 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:15:49.206 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.206 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.206 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:15:49.210 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:15:49.218 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:15:49.229 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.229 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 18ms reading results.
2025-07-11 16:15:49.229 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.229 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:49.230 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 16:15:49.231 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.231 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.231 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:15:49.231 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.231 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.231 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:15:49.233 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:15:49.234 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:15:49.234 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.234 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:15:49.234 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.234 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:49.234 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 16:15:49.234 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.234 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.234 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:15:49.234 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.235 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.235 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:15:49.237 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:15:49.237 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:15:49.237 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.237 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:15:49.237 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.237 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:49.237 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.237 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.237 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:15:49.237 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.237 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:15:49.237 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:15:49.239 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:15:49.239 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:15:49.239 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.239 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:15:49.239 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.240 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:15:49.240 +07:00 [INF] Data seeding completed successfully
2025-07-11 16:15:49.240 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:15:49.241 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:15:49.242 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:15:49.311 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 16:15:49.349 +07:00 [DBG] Hosting starting
2025-07-11 16:15:49.351 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 16:15:49.352 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 16:15:49.352 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 16:15:49.354 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 16:15:49.356 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 16:15:49.356 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 16:15:49.357 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 16:15:49.358 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 16:15:49.359 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 16:15:49.359 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 16:15:49.360 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 16:15:49.360 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 16:15:49.507 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 16:15:49.507 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 16:15:49.507 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 16:15:49.507 +07:00 [INF] Hosting environment: Development
2025-07-11 16:15:49.507 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 16:15:49.507 +07:00 [DBG] Hosting started
2025-07-11 16:15:50.750 +07:00 [DBG] Connection id "0HNE0BE3R00N7" accepted.
2025-07-11 16:15:50.753 +07:00 [DBG] Connection id "0HNE0BE3R00N7" started.
2025-07-11 16:15:50.914 +07:00 [DBG] Connection 0HNE0BE3R00N7 established using the following protocol: "Tls12"
2025-07-11 16:15:50.950 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 16:15:50.951 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 16:15:51.013 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 62.5247ms
2025-07-11 16:15:51.139 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 16:15:51.218 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.7716ms
2025-07-11 16:15:54.512 +07:00 [DBG] Connection id "0HNE0BE3R00N7" received FIN.
2025-07-11 16:15:54.514 +07:00 [DBG] Connection id "0HNE0BE3R00N7" is closed. The last processed stream ID was 3.
2025-07-11 16:15:54.515 +07:00 [DBG] The connection queue processing loop for 0HNE0BE3R00N7 completed.
2025-07-11 16:15:54.515 +07:00 [DBG] Connection id "0HNE0BE3R00N7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:15:54.518 +07:00 [DBG] Connection id "0HNE0BE3R00N7" stopped.
2025-07-11 16:16:12.308 +07:00 [DBG] Connection id "0HNE0BE3R00N8" accepted.
2025-07-11 16:16:12.308 +07:00 [DBG] Connection id "0HNE0BE3R00N8" started.
2025-07-11 16:16:12.331 +07:00 [DBG] Connection 0HNE0BE3R00N8 established using the following protocol: "Tls12"
2025-07-11 16:16:12.333 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic/create - application/json 275
2025-07-11 16:16:12.335 +07:00 [DBG] POST requests are not supported
2025-07-11 16:16:12.335 +07:00 [DBG] POST requests are not supported
2025-07-11 16:16:12.336 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 16:16:12.336 +07:00 [INF] CORS policy execution successful.
2025-07-11 16:16:12.352 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/create'
2025-07-11 16:16:12.353 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)' with route pattern 'api/topic/create' is valid for the request path '/api/topic/create'
2025-07-11 16:16:12.353 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:16:12.392 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:16:12.392 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:16:12.394 +07:00 [DBG] Authorization was successful.
2025-07-11 16:16:12.396 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:16:12.401 +07:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.Topics.CreateTopicDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:16:12.401 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:16:12.401 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:16:12.402 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:16:12.402 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:16:12.402 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:16:12.402 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:16:12.404 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:16:12.406 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:16:12.406 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' using the name '' in request data ...
2025-07-11 16:16:12.407 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:16:12.407 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:16:12.407 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:16:12.407 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 16:16:12.409 +07:00 [DBG] Connection id "0HNE0BE3R00N8", Request id "0HNE0BE3R00N8:00000001": started reading request body.
2025-07-11 16:16:12.409 +07:00 [DBG] Connection id "0HNE0BE3R00N8", Request id "0HNE0BE3R00N8:00000001": done reading request body.
2025-07-11 16:16:12.410 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Topics.CreateTopicDTO'
2025-07-11 16:16:12.410 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:16:12.411 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:16:12.411 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:16:12.414 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:16:12.430 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:16:12.433 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-07-11 16:16:12.441 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:16:12.441 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:16:12.441 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:16:12.441 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.442 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.442 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:16:12.442 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:16:12.442 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:16:12.442 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 16:16:12.450 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 16:16:12.451 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:16:12.451 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.451 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:16:12.451 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.451 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:16:12.454 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_CategoryId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 16:16:12.456 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime?), 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
            FROM topic_categories AS t
            WHERE ((t.Id == @__createTopicDTO_CategoryId_0) && t.IsActive) && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:16:12.458 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.458 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.458 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:16:12.458 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:16:12.458 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:16:12.458 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 16:16:12.485 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 16:16:12.486 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.486 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:16:12.486 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.486 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:16:12.487 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_SemesterId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 16:16:12.489 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Semester>(
    asyncEnumerable: new SingleQueryingEnumerable<Semester>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.CreatedAt (DateTime) Required, 1], [Property: Semester.CreatedBy (string), 2], [Property: Semester.DeletedAt (DateTime?), 3], [Property: Semester.EndDate (DateTime) Required, 4], [Property: Semester.IsActive (bool) Required, 5], [Property: Semester.LastModifiedAt (DateTime?), 6], [Property: Semester.LastModifiedBy (string), 7], [Property: Semester.Name (string) Required Index MaxLength(50), 8], [Property: Semester.StartDate (DateTime) Required, 9] }
            SELECT TOP(1) s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate
            FROM semesters AS s
            WHERE ((s.Id == @__createTopicDTO_SemesterId_0) && s.IsActive) && (s.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Semester>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:16:12.489 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.489 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.489 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:16:12.489 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:16:12.489 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:16:12.489 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 16:16:12.493 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 16:16:12.494 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.494 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:16:12.494 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.494 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:16:12.496 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.496 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.496 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-11 16:16:12.500 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-11 16:16:12.510 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Topic.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:16:12.522 +07:00 [DBG] The navigation 'Topic.Supervisor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:16:12.526 +07:00 [DBG] Context 'MyDbContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:16:12.528 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'TopicVersion.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:16:12.538 +07:00 [DBG] Context 'MyDbContext' started tracking 'TopicVersion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:16:12.540 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 16:16:12.540 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 16:16:12.552 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 16:16:12.574 +07:00 [DBG] Executing 2 update commands as a batch.
2025-07-11 16:16:12.575 +07:00 [DBG] Creating transaction savepoint.
2025-07-11 16:16:12.583 +07:00 [DBG] Created transaction savepoint.
2025-07-11 16:16:12.584 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:16:12.584 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:16:12.584 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:16:12.584 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 500), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (Size = 4000), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [topic_versions] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [DocumentUrl], [ExpectedOutcomes], [IsActive], [LastModifiedAt], [LastModifiedBy], [Methodology], [Objectives], [Requirements], [Status], [SubmittedAt], [SubmittedBy], [Title], [TopicId], [VersionNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [topics] ([CategoryId], [CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [IsApproved], [LastModifiedAt], [LastModifiedBy], [MaxStudents], [Objectives], [SemesterId], [SupervisorId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsLegacy]
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-07-11 16:16:12.622 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 500), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (Size = 4000), @p21='?' (DbType = DateTime2), @p22='?' (Size = 4000), @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTime2), @p26='?' (Size = 4000), @p27='?' (DbType = Int32), @p28='?' (Size = 4000), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [topic_versions] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [DocumentUrl], [ExpectedOutcomes], [IsActive], [LastModifiedAt], [LastModifiedBy], [Methodology], [Objectives], [Requirements], [Status], [SubmittedAt], [SubmittedBy], [Title], [TopicId], [VersionNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
INSERT INTO [topics] ([CategoryId], [CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [IsApproved], [LastModifiedAt], [LastModifiedBy], [MaxStudents], [Objectives], [SemesterId], [SupervisorId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsLegacy]
VALUES (@p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31);
2025-07-11 16:16:12.625 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.626 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-07-11 16:16:12.627 +07:00 [DBG] Rolling back to transaction savepoint.
2025-07-11 16:16:12.630 +07:00 [DBG] Rolled back to transaction savepoint.
2025-07-11 16:16:12.637 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'App.DAL.Context.MyDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_topic_versions_topics_TopicId". The conflict occurred in database "capbot_db", table "dbo.topics", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4c201cc7-30fe-4e9a-9661-991306b2f12e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_topic_versions_topics_TopicId". The conflict occurred in database "capbot_db", table "dbo.topics", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4c201cc7-30fe-4e9a-9661-991306b2f12e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-11 16:16:12.639 +07:00 [DBG] Rolling back transaction.
2025-07-11 16:16:12.641 +07:00 [DBG] Rolled back transaction.
2025-07-11 16:16:12.642 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.642 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:16:12.643 +07:00 [DBG] Disposing transaction.
2025-07-11 16:16:12.643 +07:00 [ERR] Error occurred while creating topic
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_topic_versions_topics_TopicId". The conflict occurred in database "capbot_db", table "dbo.topics", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4c201cc7-30fe-4e9a-9661-991306b2f12e
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at App.DAL.UnitOfWork.UnitOfWork.SaveChangesAsync() in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/App.DAL/UnitOfWork/UnitOfWork.cs:line 75
   at App.BLL.Implementations.TopicService.CreateTopic(CreateTopicDTO createTopicDTO, Int32 userId) in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/App.BLL/Implementations/TopicService.cs:line 108
   at App.BLL.Implementations.TopicService.CreateTopic(CreateTopicDTO createTopicDTO, Int32 userId) in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/App.BLL/Implementations/TopicService.cs:line 126
   at CapBot.api.Controllers.TopicController.Create(CreateTopicDTO createTopicDTO) in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api/Controllers/TopicController.cs:line 85
2025-07-11 16:16:12.648 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:16:12.648 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:16:12.649 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:16:12.649 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:16:12.649 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:16:12.658 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.Create (CapBot.api) in 255.4804ms
2025-07-11 16:16:12.658 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:16:12.659 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:16:12.659 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:16:12.659 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:16:12.660 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic/create - 500 null application/json; charset=utf-8 326.4777ms
2025-07-11 16:16:14.512 +07:00 [DBG] Connection id "0HNE0BE3R00N8" received FIN.
2025-07-11 16:16:14.513 +07:00 [DBG] Connection id "0HNE0BE3R00N8" is closed. The last processed stream ID was 1.
2025-07-11 16:16:14.513 +07:00 [DBG] Connection id "0HNE0BE3R00N8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:16:14.513 +07:00 [DBG] The connection queue processing loop for 0HNE0BE3R00N8 completed.
2025-07-11 16:16:14.514 +07:00 [DBG] Connection id "0HNE0BE3R00N8" stopped.
2025-07-11 16:18:36.815 +07:00 [INF] Application is shutting down...
2025-07-11 16:18:36.815 +07:00 [DBG] Hosting stopping
2025-07-11 16:18:36.831 +07:00 [DBG] Hosting stopped
2025-07-11 16:22:58.154 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:22:58.248 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 16:22:58.444 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.456 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.462 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.463 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.463 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.463 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.578 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.578 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.590 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.591 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.591 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.592 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.595 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.595 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:22:58.614 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:22:58.615 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:22:58.615 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:22:58.615 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:22:58.615 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:22:58.615 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:22:58.615 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:22:58.615 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:22:58.615 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:22:58.693 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.693 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.694 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.694 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.694 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.695 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.695 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.695 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.695 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.695 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.696 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:22:58.801 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:22:58.856 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 16:22:58.999 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:22:59.025 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:22:59.038 +07:00 [DBG] Created DbConnection. (11ms).
2025-07-11 16:22:59.041 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.235 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.244 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:22:59.248 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-07-11 16:22:59.254 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2025-07-11 16:22:59.259 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:22:59.305 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:22:59.334 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:22:59.346 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.350 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 41ms reading results.
2025-07-11 16:22:59.352 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.356 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (3ms).
2025-07-11 16:22:59.358 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.358 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.359 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:22:59.359 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.359 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.359 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:22:59.365 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:22:59.366 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:22:59.366 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.366 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:22:59.366 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.366 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:22:59.367 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.367 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.367 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:22:59.367 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.367 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.367 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:22:59.370 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:22:59.370 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:22:59.370 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.370 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:22:59.370 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.370 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:22:59.371 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.371 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.371 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:22:59.371 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.371 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.371 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:22:59.373 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:22:59.374 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:22:59.374 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.374 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:22:59.374 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.374 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:22:59.379 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 16:22:59.383 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:22:59.385 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.385 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.385 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:22:59.385 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.385 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.385 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:22:59.435 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:22:59.443 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:22:59.453 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.453 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 17ms reading results.
2025-07-11 16:22:59.453 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.453 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:22:59.454 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 16:22:59.456 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.456 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.456 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:22:59.456 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.456 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.456 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:22:59.459 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:22:59.460 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:22:59.460 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.460 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:22:59.460 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.460 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:22:59.460 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 16:22:59.461 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.461 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.461 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:22:59.461 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.461 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.461 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:22:59.484 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:22:59.484 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:22:59.485 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.485 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:22:59.485 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.485 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:22:59.486 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.486 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.486 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:22:59.487 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.487 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:22:59.487 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:22:59.577 +07:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:22:59.578 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:22:59.578 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.578 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:22:59.578 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.578 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:22:59.578 +07:00 [INF] Data seeding completed successfully
2025-07-11 16:22:59.580 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:22:59.581 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:22:59.581 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:22:59.736 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 16:22:59.788 +07:00 [DBG] Hosting starting
2025-07-11 16:22:59.792 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 16:22:59.793 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 16:22:59.794 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 16:22:59.797 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 16:22:59.800 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 16:22:59.800 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 16:22:59.808 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 16:22:59.809 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 16:22:59.810 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 16:22:59.810 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 16:22:59.814 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 16:22:59.815 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 16:23:00.329 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 16:23:00.329 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 16:23:00.330 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 16:23:00.330 +07:00 [INF] Hosting environment: Development
2025-07-11 16:23:00.330 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 16:23:00.330 +07:00 [DBG] Hosting started
2025-07-11 16:23:00.692 +07:00 [DBG] Connection id "0HNE0BI3V86A5" received FIN.
2025-07-11 16:23:00.697 +07:00 [DBG] Connection id "0HNE0BI3V86A5" accepted.
2025-07-11 16:23:00.699 +07:00 [DBG] Connection id "0HNE0BI3V86A5" started.
2025-07-11 16:23:00.708 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-11 16:23:00.722 +07:00 [DBG] Connection id "0HNE0BI3V86A5" stopped.
2025-07-11 16:23:00.812 +07:00 [DBG] Connection id "0HNE0BI3V86A5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:23:00.867 +07:00 [DBG] Connection id "0HNE0BI3V86A6" accepted.
2025-07-11 16:23:00.869 +07:00 [DBG] Connection id "0HNE0BI3V86A6" started.
2025-07-11 16:23:00.954 +07:00 [DBG] Connection 0HNE0BI3V86A6 established using the following protocol: "Tls12"
2025-07-11 16:23:01.014 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 16:23:01.016 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 16:23:01.167 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 155.8286ms
2025-07-11 16:23:01.253 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 16:23:01.436 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 182.4399ms
2025-07-11 16:23:04.610 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic/create - application/json 275
2025-07-11 16:23:04.614 +07:00 [DBG] POST requests are not supported
2025-07-11 16:23:04.614 +07:00 [DBG] POST requests are not supported
2025-07-11 16:23:04.615 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 16:23:04.616 +07:00 [INF] CORS policy execution successful.
2025-07-11 16:23:04.642 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/create'
2025-07-11 16:23:04.643 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)' with route pattern 'api/topic/create' is valid for the request path '/api/topic/create'
2025-07-11 16:23:04.644 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:23:04.766 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:23:04.768 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:23:04.773 +07:00 [DBG] Authorization was successful.
2025-07-11 16:23:04.781 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:23:04.794 +07:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.Topics.CreateTopicDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:23:04.796 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:23:04.796 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:23:04.797 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:23:04.797 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:23:04.797 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:23:04.801 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:23:04.806 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:23:04.819 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:23:04.823 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' using the name '' in request data ...
2025-07-11 16:23:04.826 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:23:04.826 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:23:04.826 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:23:04.826 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 16:23:04.835 +07:00 [DBG] Connection id "0HNE0BI3V86A6", Request id "0HNE0BI3V86A6:00000005": started reading request body.
2025-07-11 16:23:04.835 +07:00 [DBG] Connection id "0HNE0BI3V86A6", Request id "0HNE0BI3V86A6:00000005": done reading request body.
2025-07-11 16:23:04.841 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Topics.CreateTopicDTO'
2025-07-11 16:23:04.841 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:23:04.841 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:23:04.842 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:23:04.853 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:23:04.859 +07:00 [INF] Executing action method CapBot.api.Controllers.TopicController.Create (CapBot.api) - Validation state: "Valid"
2025-07-11 16:23:04.881 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:23:04.892 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-07-11 16:23:04.920 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:23:04.923 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:23:04.923 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:23:04.923 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:04.923 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:04.924 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:23:04.924 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:23:04.924 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:23:04.925 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 16:23:04.933 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 16:23:04.957 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:23:04.958 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:23:04.959 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 25ms reading results.
2025-07-11 16:23:04.959 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:04.959 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:23:04.969 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_CategoryId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 16:23:04.975 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime?), 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
            FROM topic_categories AS t
            WHERE ((t.Id == @__createTopicDTO_CategoryId_0) && t.IsActive) && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:23:04.982 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:04.983 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:04.984 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:23:04.984 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:23:04.984 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:23:04.985 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 16:23:05.014 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 16:23:05.017 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:23:05.018 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 16:23:05.018 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:05.018 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:23:05.021 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_SemesterId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 16:23:05.025 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Semester>(
    asyncEnumerable: new SingleQueryingEnumerable<Semester>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.CreatedAt (DateTime) Required, 1], [Property: Semester.CreatedBy (string), 2], [Property: Semester.DeletedAt (DateTime?), 3], [Property: Semester.EndDate (DateTime) Required, 4], [Property: Semester.IsActive (bool) Required, 5], [Property: Semester.LastModifiedAt (DateTime?), 6], [Property: Semester.LastModifiedBy (string), 7], [Property: Semester.Name (string) Required Index MaxLength(50), 8], [Property: Semester.StartDate (DateTime) Required, 9] }
            SELECT TOP(1) s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate
            FROM semesters AS s
            WHERE ((s.Id == @__createTopicDTO_SemesterId_0) && s.IsActive) && (s.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Semester>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:23:05.027 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:05.027 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:05.028 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:23:05.028 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:23:05.028 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:23:05.028 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 16:23:05.100 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 16:23:05.103 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:23:05.103 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-07-11 16:23:05.103 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:05.104 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:23:05.126 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:05.127 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:23:05.131 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-11 16:23:05.145 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-11 16:23:13.334 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Topic.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:23:13.352 +07:00 [DBG] The navigation 'Topic.Supervisor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:23:13.360 +07:00 [DBG] Context 'MyDbContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:24:49.778 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:24:49.870 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 16:24:50.054 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.065 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.071 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.072 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.072 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.072 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.176 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.177 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.188 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.188 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.188 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.189 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.192 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.192 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:24:50.213 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:24:50.214 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:24:50.214 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:24:50.214 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:24:50.214 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:24:50.214 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:24:50.214 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:24:50.214 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:24:50.215 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:24:50.216 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:24:50.217 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:24:50.217 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:24:50.218 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:24:50.218 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:24:50.218 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:24:50.218 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:24:50.219 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:24:50.219 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:24:50.219 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:24:50.324 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.324 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.324 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.325 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.325 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.326 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.326 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.326 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.326 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.327 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.327 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:24:50.442 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:24:50.473 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 16:24:50.552 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:24:50.571 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:24:50.582 +07:00 [DBG] Created DbConnection. (9ms).
2025-07-11 16:24:50.584 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.717 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.720 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:24:50.723 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 16:24:50.727 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-07-11 16:24:50.732 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:24:50.772 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:24:50.805 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:24:50.821 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.826 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 48ms reading results.
2025-07-11 16:24:50.829 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.833 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (4ms).
2025-07-11 16:24:50.836 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.837 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.837 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:24:50.838 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.838 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.838 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:24:50.845 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:24:50.846 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:24:50.846 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.846 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:24:50.846 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.846 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:24:50.846 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.846 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.847 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:24:50.847 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.847 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.847 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:24:50.849 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:24:50.849 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:24:50.850 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.850 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:24:50.850 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.850 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:24:50.850 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.850 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.850 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:24:50.850 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.850 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.850 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:24:50.853 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:24:50.853 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:24:50.853 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.853 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:24:50.853 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.853 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:24:50.858 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 16:24:50.862 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:24:50.863 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.863 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.863 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:24:50.863 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.863 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.864 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:24:50.866 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:24:50.882 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:24:50.903 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.903 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 36ms reading results.
2025-07-11 16:24:50.903 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.903 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:24:50.905 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 16:24:50.907 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.907 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.907 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:24:50.907 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.907 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.907 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:24:50.912 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:24:50.912 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:24:50.912 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.912 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:24:50.912 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.912 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:24:50.913 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 16:24:50.913 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.913 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.913 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:24:50.913 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.913 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.913 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:24:50.916 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:24:50.917 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:24:50.917 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.917 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:24:50.917 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.917 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:24:50.917 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.917 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.917 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:24:50.917 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.918 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:24:50.918 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:24:50.920 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:24:50.921 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:24:50.921 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.921 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:24:50.921 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.922 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:24:50.922 +07:00 [INF] Data seeding completed successfully
2025-07-11 16:24:50.924 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:24:50.925 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:24:50.925 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:24:51.031 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 16:24:51.064 +07:00 [DBG] Hosting starting
2025-07-11 16:24:51.067 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 16:24:51.068 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 16:24:51.069 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 16:24:51.070 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 16:24:51.072 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 16:24:51.072 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 16:24:51.074 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 16:24:51.075 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 16:24:51.075 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 16:24:51.075 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 16:24:51.076 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 16:24:51.076 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 16:24:51.229 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 16:24:51.229 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 16:24:51.229 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 16:24:51.229 +07:00 [INF] Hosting environment: Development
2025-07-11 16:24:51.229 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 16:24:51.229 +07:00 [DBG] Hosting started
2025-07-11 16:24:51.537 +07:00 [DBG] Connection id "0HNE0BJ50BFL1" received FIN.
2025-07-11 16:24:51.543 +07:00 [DBG] Connection id "0HNE0BJ50BFL1" accepted.
2025-07-11 16:24:51.543 +07:00 [DBG] Connection id "0HNE0BJ50BFL1" started.
2025-07-11 16:24:51.549 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-07-11 16:24:51.559 +07:00 [DBG] Connection id "0HNE0BJ50BFL1" stopped.
2025-07-11 16:24:51.562 +07:00 [DBG] Connection id "0HNE0BJ50BFL1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:24:51.716 +07:00 [DBG] Connection id "0HNE0BJ50BFL2" accepted.
2025-07-11 16:24:51.717 +07:00 [DBG] Connection id "0HNE0BJ50BFL2" started.
2025-07-11 16:24:51.747 +07:00 [DBG] Connection 0HNE0BJ50BFL2 established using the following protocol: "Tls12"
2025-07-11 16:24:51.794 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 16:24:51.795 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 16:24:51.873 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 79.3889ms
2025-07-11 16:24:51.928 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 16:24:52.016 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.3228ms
2025-07-11 16:25:20.193 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic/create - application/json 275
2025-07-11 16:25:20.197 +07:00 [DBG] POST requests are not supported
2025-07-11 16:25:20.198 +07:00 [DBG] POST requests are not supported
2025-07-11 16:25:20.199 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 16:25:20.199 +07:00 [INF] CORS policy execution successful.
2025-07-11 16:25:20.217 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/create'
2025-07-11 16:25:20.218 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)' with route pattern 'api/topic/create' is valid for the request path '/api/topic/create'
2025-07-11 16:25:20.219 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:25:20.277 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:25:20.278 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:25:20.280 +07:00 [DBG] Authorization was successful.
2025-07-11 16:25:20.284 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:25:20.294 +07:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.Topics.CreateTopicDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:25:20.295 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:25:20.295 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:25:20.296 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:25:20.296 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:25:20.296 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:25:20.299 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:25:20.304 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:25:20.309 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:25:20.311 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' using the name '' in request data ...
2025-07-11 16:25:20.312 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:25:20.312 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:25:20.312 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:25:20.312 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 16:25:20.321 +07:00 [DBG] Connection id "0HNE0BJ50BFL2", Request id "0HNE0BJ50BFL2:00000005": started reading request body.
2025-07-11 16:25:20.321 +07:00 [DBG] Connection id "0HNE0BJ50BFL2", Request id "0HNE0BJ50BFL2:00000005": done reading request body.
2025-07-11 16:25:20.327 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Topics.CreateTopicDTO'
2025-07-11 16:25:20.327 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:25:20.327 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:25:20.327 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:25:20.334 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:25:20.341 +07:00 [INF] Executing action method CapBot.api.Controllers.TopicController.Create (CapBot.api) - Validation state: "Valid"
2025-07-11 16:25:20.374 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:25:20.383 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-07-11 16:25:20.406 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(1) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.Id == @__p_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:25:20.408 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:25:20.408 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:25:20.409 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.409 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.409 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:25:20.409 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:25:20.410 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:25:20.411 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 16:25:20.423 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[Id] = @__p_0
2025-07-11 16:25:20.424 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:25:20.425 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.425 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 16:25:20.425 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.426 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:25:20.437 +07:00 [DBG] Compiling query expression: 
'DbSet<TopicCategory>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_CategoryId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 16:25:20.443 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<TopicCategory>(
    asyncEnumerable: new SingleQueryingEnumerable<TopicCategory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 1], [Property: TopicCategory.CreatedBy (string), 2], [Property: TopicCategory.DeletedAt (DateTime?), 3], [Property: TopicCategory.Description (string), 4], [Property: TopicCategory.IsActive (bool) Required, 5], [Property: TopicCategory.LastModifiedAt (DateTime?), 6], [Property: TopicCategory.LastModifiedBy (string), 7], [Property: TopicCategory.Name (string) Required MaxLength(100), 8] }
            SELECT TOP(1) t.Id, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.LastModifiedAt, t.LastModifiedBy, t.Name
            FROM topic_categories AS t
            WHERE ((t.Id == @__createTopicDTO_CategoryId_0) && t.IsActive) && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicCategory>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:25:20.447 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.448 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.448 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:25:20.448 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:25:20.448 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:25:20.448 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 16:25:20.452 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__createTopicDTO_CategoryId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[Name]
FROM [topic_categories] AS [t]
WHERE [t].[Id] = @__createTopicDTO_CategoryId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 16:25:20.452 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.452 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:25:20.452 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.453 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:25:20.454 +07:00 [DBG] Compiling query expression: 
'DbSet<Semester>()
    .AsNoTracking()
    .Where(x => x.Id == __createTopicDTO_SemesterId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 16:25:20.456 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Semester>(
    asyncEnumerable: new SingleQueryingEnumerable<Semester>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Semester.CreatedAt (DateTime) Required, 1], [Property: Semester.CreatedBy (string), 2], [Property: Semester.DeletedAt (DateTime?), 3], [Property: Semester.EndDate (DateTime) Required, 4], [Property: Semester.IsActive (bool) Required, 5], [Property: Semester.LastModifiedAt (DateTime?), 6], [Property: Semester.LastModifiedBy (string), 7], [Property: Semester.Name (string) Required Index MaxLength(50), 8], [Property: Semester.StartDate (DateTime) Required, 9] }
            SELECT TOP(1) s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate
            FROM semesters AS s
            WHERE ((s.Id == @__createTopicDTO_SemesterId_0) && s.IsActive) && (s.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Semester>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:25:20.457 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.457 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.457 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:25:20.457 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:25:20.457 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:25:20.457 +07:00 [DBG] Executing DbCommand [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 16:25:20.461 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__createTopicDTO_SemesterId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate]
FROM [semesters] AS [s]
WHERE [s].[Id] = @__createTopicDTO_SemesterId_0 AND [s].[IsActive] = CAST(1 AS bit) AND [s].[DeletedAt] IS NULL
2025-07-11 16:25:20.461 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.461 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:25:20.462 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.462 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:25:20.467 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.467 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.468 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-11 16:25:20.477 +07:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-07-11 16:25:20.498 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'Topic.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:25:20.524 +07:00 [DBG] The navigation 'Topic.Supervisor' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:25:20.534 +07:00 [DBG] Context 'MyDbContext' started tracking 'Topic' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:25:20.537 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 16:25:20.539 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 16:25:20.559 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 16:25:20.608 +07:00 [DBG] Creating transaction savepoint.
2025-07-11 16:25:20.617 +07:00 [DBG] Created transaction savepoint.
2025-07-11 16:25:20.620 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:25:20.620 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:25:20.621 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-07-11 16:25:20.621 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topics] ([CategoryId], [CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [IsApproved], [LastModifiedAt], [LastModifiedBy], [MaxStudents], [Objectives], [SemesterId], [SupervisorId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsLegacy]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-07-11 16:25:20.651 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topics] ([CategoryId], [CreatedAt], [CreatedBy], [DeletedAt], [Description], [IsActive], [IsApproved], [LastModifiedAt], [LastModifiedBy], [MaxStudents], [Objectives], [SemesterId], [SupervisorId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsLegacy]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-07-11 16:25:20.660 +07:00 [DBG] The foreign key property 'Topic.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 16:25:20.663 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.663 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 11ms reading results.
2025-07-11 16:25:20.672 +07:00 [DBG] An entity of type 'Topic' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:25:20.673 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 16:25:20.677 +07:00 [DBG] 'MyDbContext' generated a temporary value for the property 'TopicVersion.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:25:20.697 +07:00 [DBG] The navigation 'TopicVersion.Topic' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:25:20.699 +07:00 [DBG] Context 'MyDbContext' started tracking 'TopicVersion' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:25:20.699 +07:00 [DBG] SaveChanges starting for 'MyDbContext'.
2025-07-11 16:25:20.699 +07:00 [DBG] DetectChanges starting for 'MyDbContext'.
2025-07-11 16:25:20.709 +07:00 [DBG] DetectChanges completed for 'MyDbContext'.
2025-07-11 16:25:20.711 +07:00 [DBG] Creating transaction savepoint.
2025-07-11 16:25:20.714 +07:00 [DBG] Created transaction savepoint.
2025-07-11 16:25:20.714 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:25:20.714 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:25:20.716 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-07-11 16:25:20.716 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 500), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topic_versions] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [DocumentUrl], [ExpectedOutcomes], [IsActive], [LastModifiedAt], [LastModifiedBy], [Methodology], [Objectives], [Requirements], [Status], [SubmittedAt], [SubmittedBy], [Title], [TopicId], [VersionNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-07-11 16:25:20.725 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 500), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [topic_versions] ([CreatedAt], [CreatedBy], [DeletedAt], [Description], [DocumentUrl], [ExpectedOutcomes], [IsActive], [LastModifiedAt], [LastModifiedBy], [Methodology], [Objectives], [Requirements], [Status], [SubmittedAt], [SubmittedBy], [Title], [TopicId], [VersionNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-07-11 16:25:20.726 +07:00 [DBG] The foreign key property 'TopicVersion.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-11 16:25:20.727 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.728 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-07-11 16:25:20.729 +07:00 [DBG] An entity of type 'TopicVersion' tracked by 'MyDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:25:20.730 +07:00 [DBG] SaveChanges completed for 'MyDbContext' with 1 entities written to the database.
2025-07-11 16:25:20.733 +07:00 [DBG] Committing transaction.
2025-07-11 16:25:20.743 +07:00 [DBG] Committed transaction.
2025-07-11 16:25:20.746 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.747 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:25:20.750 +07:00 [DBG] Disposing transaction.
2025-07-11 16:25:20.761 +07:00 [INF] Executed action method CapBot.api.Controllers.TopicController.Create (CapBot.api), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 416.4384ms.
2025-07-11 16:25:20.766 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:25:20.769 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:25:20.770 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:25:20.772 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:25:20.772 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:25:20.819 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.Create (CapBot.api) in 520.5855ms
2025-07-11 16:25:20.819 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:25:20.823 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:25:20.823 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:25:20.823 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:25:20.825 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic/create - 201 null application/json; charset=utf-8 632.635ms
2025-07-11 16:27:26.247 +07:00 [DBG] Connection id "0HNE0BJ50BFL2" received FIN.
2025-07-11 16:27:26.261 +07:00 [DBG] Connection id "0HNE0BJ50BFL2" is closed. The last processed stream ID was 5.
2025-07-11 16:27:26.262 +07:00 [DBG] Connection id "0HNE0BJ50BFL2" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:27:26.266 +07:00 [DBG] The connection queue processing loop for 0HNE0BJ50BFL2 completed.
2025-07-11 16:27:26.268 +07:00 [DBG] Connection id "0HNE0BJ50BFL2" stopped.
2025-07-11 16:28:35.060 +07:00 [INF] Application is shutting down...
2025-07-11 16:28:35.066 +07:00 [DBG] Hosting stopping
2025-07-11 16:28:35.073 +07:00 [DBG] Hosting stopped
2025-07-11 16:29:40.201 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:29:40.305 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 16:29:40.482 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.492 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.501 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.502 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.502 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.503 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.624 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.625 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.636 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.636 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.637 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.637 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.639 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.640 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:29:40.654 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:29:40.655 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:29:40.655 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:29:40.655 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:29:40.655 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:29:40.655 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:29:40.655 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:29:40.655 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:29:40.655 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:29:40.655 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:29:40.726 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.726 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.727 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.727 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.727 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.727 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.727 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.727 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.727 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.727 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.727 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:29:40.799 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:29:40.830 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 16:29:40.934 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:29:40.950 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:29:40.958 +07:00 [DBG] Created DbConnection. (7ms).
2025-07-11 16:29:40.960 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.061 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.063 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:29:41.064 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 16:29:41.067 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-11 16:29:41.070 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:29:41.097 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:29:41.113 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:29:41.122 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.124 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 25ms reading results.
2025-07-11 16:29:41.125 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.127 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 16:29:41.128 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.128 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.128 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:29:41.128 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.128 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.128 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:29:41.131 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:29:41.132 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:29:41.132 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.132 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:29:41.132 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.132 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:29:41.132 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.132 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.132 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:29:41.132 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.132 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.132 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:29:41.134 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:29:41.134 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:29:41.134 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.135 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:29:41.135 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.135 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:29:41.135 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.135 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.135 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:29:41.135 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.135 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.135 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:29:41.138 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:29:41.138 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:29:41.138 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.138 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:29:41.138 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.138 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:29:41.140 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 16:29:41.143 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:29:41.144 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.144 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.144 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:29:41.144 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.144 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.144 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:29:41.147 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:29:41.154 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:29:41.165 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.165 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 18ms reading results.
2025-07-11 16:29:41.165 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.165 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:29:41.166 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 16:29:41.167 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.167 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.167 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:29:41.167 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.167 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.167 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:29:41.170 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:29:41.170 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:29:41.170 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.170 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:29:41.170 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.171 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:29:41.171 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 16:29:41.171 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.171 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.171 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:29:41.171 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.171 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.171 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:29:41.174 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:29:41.174 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:29:41.174 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.174 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:29:41.174 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.174 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:29:41.174 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.174 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.174 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:29:41.174 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.174 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:29:41.174 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:29:41.179 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:29:41.179 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:29:41.179 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.179 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:29:41.179 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.179 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:29:41.179 +07:00 [INF] Data seeding completed successfully
2025-07-11 16:29:41.180 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:29:41.181 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:29:41.181 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:29:41.254 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 16:29:41.289 +07:00 [DBG] Hosting starting
2025-07-11 16:29:41.292 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 16:29:41.292 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 16:29:41.293 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 16:29:41.294 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 16:29:41.296 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 16:29:41.297 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 16:29:41.298 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 16:29:41.299 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 16:29:41.300 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 16:29:41.300 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 16:29:41.300 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 16:29:41.300 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 16:29:41.458 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 16:29:41.458 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 16:29:41.458 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 16:29:41.458 +07:00 [INF] Hosting environment: Development
2025-07-11 16:29:41.458 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 16:29:41.458 +07:00 [DBG] Hosting started
2025-07-11 16:30:27.808 +07:00 [DBG] Connection id "0HNE0BM978SSH" accepted.
2025-07-11 16:30:27.810 +07:00 [DBG] Connection id "0HNE0BM978SSH" started.
2025-07-11 16:30:27.848 +07:00 [DBG] Connection 0HNE0BM978SSH established using the following protocol: "Tls12"
2025-07-11 16:30:27.875 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic/create - application/json 275
2025-07-11 16:30:27.876 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 16:30:27.884 +07:00 [DBG] POST requests are not supported
2025-07-11 16:30:27.884 +07:00 [DBG] POST requests are not supported
2025-07-11 16:30:27.884 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 16:30:27.884 +07:00 [INF] CORS policy execution successful.
2025-07-11 16:30:27.893 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/create'
2025-07-11 16:30:27.893 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)' with route pattern 'api/topic/create' is valid for the request path '/api/topic/create'
2025-07-11 16:30:27.894 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:30:27.924 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:30:27.924 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:30:27.926 +07:00 [DBG] Authorization was successful.
2025-07-11 16:30:27.928 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:30:27.933 +07:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.Topics.CreateTopicDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:30:27.933 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:30:27.933 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:30:27.934 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:30:27.934 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:30:27.934 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:30:27.934 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:30:27.936 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:30:27.938 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:30:27.938 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' using the name '' in request data ...
2025-07-11 16:30:27.939 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:30:27.939 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:30:27.939 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:30:27.939 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 16:30:27.951 +07:00 [DBG] Connection id "0HNE0BM978SSH", Request id "0HNE0BM978SSH:00000001": started reading request body.
2025-07-11 16:30:27.951 +07:00 [DBG] Connection id "0HNE0BM978SSH", Request id "0HNE0BM978SSH:00000001": done reading request body.
2025-07-11 16:30:27.953 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Topics.CreateTopicDTO'
2025-07-11 16:30:27.953 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:30:27.953 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:30:27.953 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:30:27.956 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:30:27.958 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:30:27.959 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:30:27.959 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:30:27.960 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:30:27.960 +07:00 [INF] Executing UnprocessableEntityObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:30:27.980 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.Create (CapBot.api) in 44.8396ms
2025-07-11 16:30:27.980 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:30:27.982 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic/create - 422 null application/json; charset=utf-8 107.2945ms
2025-07-11 16:30:31.272 +07:00 [DBG] Connection id "0HNE0BM978SSH" received FIN.
2025-07-11 16:30:31.275 +07:00 [DBG] Connection id "0HNE0BM978SSH" is closed. The last processed stream ID was 1.
2025-07-11 16:30:31.276 +07:00 [DBG] Connection id "0HNE0BM978SSH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:30:31.277 +07:00 [DBG] The connection queue processing loop for 0HNE0BM978SSH completed.
2025-07-11 16:30:31.282 +07:00 [DBG] Connection id "0HNE0BM978SSH" stopped.
2025-07-11 16:30:54.644 +07:00 [INF] Application is shutting down...
2025-07-11 16:30:54.645 +07:00 [DBG] Hosting stopping
2025-07-11 16:30:54.652 +07:00 [DBG] Hosting stopped
2025-07-11 16:30:58.300 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:30:58.350 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 16:30:58.455 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.463 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.468 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.469 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.470 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.470 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.552 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.553 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.562 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.563 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.563 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.563 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.565 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.565 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:30:58.578 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:30:58.666 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.667 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.667 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.667 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.667 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.667 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.667 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.667 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.667 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.667 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.668 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:30:58.749 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:30:58.778 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 16:30:58.855 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:30:58.871 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:30:58.878 +07:00 [DBG] Created DbConnection. (6ms).
2025-07-11 16:30:58.880 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:58.981 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:58.983 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:30:58.985 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 16:30:58.987 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-11 16:30:58.990 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:30:59.017 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:30:59.033 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:30:59.042 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.044 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 25ms reading results.
2025-07-11 16:30:59.045 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.047 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 16:30:59.048 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.049 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.049 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:30:59.049 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.049 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:30:59.055 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:30:59.056 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:30:59.056 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.056 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:30:59.056 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.056 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:30:59.056 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.056 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.056 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:30:59.056 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.056 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.056 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:30:59.059 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:30:59.059 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:30:59.059 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.059 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:30:59.059 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.059 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:30:59.059 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.059 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.059 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:30:59.059 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.059 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.059 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:30:59.062 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:30:59.062 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:30:59.062 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.062 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:30:59.062 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.062 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:30:59.065 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 16:30:59.067 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:30:59.068 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.068 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.068 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:30:59.068 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.069 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.069 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:30:59.074 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:30:59.082 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:30:59.094 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.094 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 20ms reading results.
2025-07-11 16:30:59.094 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.094 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:30:59.096 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 16:30:59.098 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.098 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.098 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:30:59.098 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.098 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.098 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:30:59.100 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:30:59.100 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:30:59.100 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.100 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:30:59.100 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.100 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:30:59.100 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 16:30:59.101 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.101 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.101 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:30:59.101 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.101 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.101 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:30:59.103 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:30:59.103 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:30:59.103 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.103 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:30:59.103 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.103 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:30:59.104 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.104 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.104 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:30:59.104 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.104 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:30:59.104 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:30:59.107 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:30:59.108 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:30:59.108 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.108 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:30:59.108 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.108 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:30:59.108 +07:00 [INF] Data seeding completed successfully
2025-07-11 16:30:59.110 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:30:59.111 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:30:59.112 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:30:59.188 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 16:30:59.226 +07:00 [DBG] Hosting starting
2025-07-11 16:30:59.229 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 16:30:59.229 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 16:30:59.230 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 16:30:59.231 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 16:30:59.232 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 16:30:59.232 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 16:30:59.234 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 16:30:59.235 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 16:30:59.236 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 16:30:59.236 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 16:30:59.237 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 16:30:59.237 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 16:30:59.375 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 16:30:59.376 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 16:30:59.376 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 16:30:59.376 +07:00 [INF] Hosting environment: Development
2025-07-11 16:30:59.376 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 16:30:59.376 +07:00 [DBG] Hosting started
2025-07-11 16:31:01.993 +07:00 [DBG] Connection id "0HNE0BMJD9KGT" accepted.
2025-07-11 16:31:01.994 +07:00 [DBG] Connection id "0HNE0BMJD9KGT" started.
2025-07-11 16:31:02.021 +07:00 [DBG] Connection 0HNE0BMJD9KGT established using the following protocol: "Tls12"
2025-07-11 16:31:02.041 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic/create - application/json 275
2025-07-11 16:31:02.042 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 16:31:02.048 +07:00 [DBG] POST requests are not supported
2025-07-11 16:31:02.048 +07:00 [DBG] POST requests are not supported
2025-07-11 16:31:02.048 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 16:31:02.048 +07:00 [INF] CORS policy execution successful.
2025-07-11 16:31:02.056 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/create'
2025-07-11 16:31:02.056 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)' with route pattern 'api/topic/create' is valid for the request path '/api/topic/create'
2025-07-11 16:31:02.057 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:31:02.088 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:31:02.088 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:31:02.090 +07:00 [DBG] Authorization was successful.
2025-07-11 16:31:02.092 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:31:02.098 +07:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.Topics.CreateTopicDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:31:02.099 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:31:02.099 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:31:02.099 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:31:02.099 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:31:02.099 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:31:02.100 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:31:02.101 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:31:02.104 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:31:02.105 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' using the name '' in request data ...
2025-07-11 16:31:02.105 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:31:02.105 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:31:02.105 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:31:02.106 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 16:31:02.119 +07:00 [DBG] Connection id "0HNE0BMJD9KGT", Request id "0HNE0BMJD9KGT:00000001": started reading request body.
2025-07-11 16:31:02.119 +07:00 [DBG] Connection id "0HNE0BMJD9KGT", Request id "0HNE0BMJD9KGT:00000001": done reading request body.
2025-07-11 16:31:02.121 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Topics.CreateTopicDTO'
2025-07-11 16:31:02.121 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:31:02.121 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:31:02.121 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:31:02.124 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:31:02.128 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:31:02.128 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:31:02.128 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:31:02.129 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:31:02.129 +07:00 [INF] Executing UnprocessableEntityObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:31:02.151 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.Create (CapBot.api) in 50.0509ms
2025-07-11 16:31:02.151 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:31:02.153 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic/create - 422 null application/json; charset=utf-8 112.708ms
2025-07-11 16:31:06.276 +07:00 [DBG] Connection id "0HNE0BMJD9KGT" received FIN.
2025-07-11 16:31:06.279 +07:00 [DBG] Connection id "0HNE0BMJD9KGT" is closed. The last processed stream ID was 1.
2025-07-11 16:31:06.280 +07:00 [DBG] Connection id "0HNE0BMJD9KGT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:31:06.280 +07:00 [DBG] The connection queue processing loop for 0HNE0BMJD9KGT completed.
2025-07-11 16:31:06.283 +07:00 [DBG] Connection id "0HNE0BMJD9KGT" stopped.
2025-07-11 16:31:25.081 +07:00 [INF] Application is shutting down...
2025-07-11 16:31:25.082 +07:00 [DBG] Hosting stopping
2025-07-11 16:31:25.089 +07:00 [DBG] Hosting stopped
2025-07-11 16:31:27.808 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 16:31:27.882 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 16:31:28.032 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.043 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.048 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.049 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.049 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.050 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.140 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.140 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.149 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.149 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.149 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.150 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.153 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.153 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 16:31:28.166 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 16:31:28.167 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 16:31:28.167 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 16:31:28.167 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 16:31:28.167 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 16:31:28.167 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 16:31:28.229 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.229 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.229 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.229 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.229 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.229 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.230 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.230 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.230 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.230 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.230 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 16:31:28.291 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:31:28.317 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 16:31:28.390 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:31:28.406 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:31:28.413 +07:00 [DBG] Created DbConnection. (6ms).
2025-07-11 16:31:28.415 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.516 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.517 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:31:28.520 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 16:31:28.523 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-11 16:31:28.525 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:31:28.552 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:31:28.570 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:31:28.581 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.585 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 30ms reading results.
2025-07-11 16:31:28.586 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.589 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-07-11 16:31:28.592 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.592 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.592 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:31:28.592 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.592 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.592 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:31:28.596 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:31:28.596 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:31:28.596 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.596 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:31:28.596 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.596 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:31:28.597 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.597 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.597 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:31:28.597 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.597 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.597 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:31:28.599 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:31:28.599 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:31:28.599 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.599 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:31:28.599 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.599 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:31:28.599 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.599 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.599 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:31:28.599 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.599 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.600 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:31:28.601 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 16:31:28.601 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:31:28.601 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.601 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:31:28.601 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.601 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:31:28.604 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 16:31:28.608 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:31:28.609 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.610 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.610 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:31:28.610 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.610 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.610 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:31:28.614 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:31:28.622 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:31:28.635 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.635 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 21ms reading results.
2025-07-11 16:31:28.635 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.635 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:31:28.636 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 16:31:28.638 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.638 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.638 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:31:28.638 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.638 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.638 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:31:28.642 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:31:28.642 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:31:28.642 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.642 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:31:28.642 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.642 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:31:28.643 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 16:31:28.643 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.643 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.643 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:31:28.643 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.643 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.643 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:31:28.646 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:31:28.646 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:31:28.646 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.646 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:31:28.646 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.646 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:31:28.647 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.647 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.647 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:31:28.647 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.647 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:31:28.647 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:31:28.649 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 16:31:28.649 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 16:31:28.649 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.649 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:31:28.649 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.649 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:31:28.649 +07:00 [INF] Data seeding completed successfully
2025-07-11 16:31:28.650 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:31:28.652 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:31:28.652 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:31:28.719 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 16:31:28.754 +07:00 [DBG] Hosting starting
2025-07-11 16:31:28.756 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 16:31:28.757 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 16:31:28.757 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 16:31:28.759 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 16:31:28.760 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 16:31:28.760 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 16:31:28.762 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 16:31:28.762 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 16:31:28.763 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 16:31:28.763 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 16:31:28.763 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 16:31:28.764 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 16:31:29.039 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 16:31:29.040 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 16:31:29.040 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 16:31:29.040 +07:00 [INF] Hosting environment: Development
2025-07-11 16:31:29.040 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 16:31:29.040 +07:00 [DBG] Hosting started
2025-07-11 16:31:48.896 +07:00 [DBG] Connection id "0HNE0BN1CJ0N3" accepted.
2025-07-11 16:31:48.897 +07:00 [DBG] Connection id "0HNE0BN1CJ0N3" started.
2025-07-11 16:31:48.927 +07:00 [DBG] Connection 0HNE0BN1CJ0N3 established using the following protocol: "Tls12"
2025-07-11 16:31:48.956 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/topic/create - application/json 276
2025-07-11 16:31:48.957 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 16:31:48.966 +07:00 [DBG] POST requests are not supported
2025-07-11 16:31:48.966 +07:00 [DBG] POST requests are not supported
2025-07-11 16:31:48.967 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 16:31:48.967 +07:00 [INF] CORS policy execution successful.
2025-07-11 16:31:48.976 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/create'
2025-07-11 16:31:48.976 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)' with route pattern 'api/topic/create' is valid for the request path '/api/topic/create'
2025-07-11 16:31:48.977 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:31:49.013 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:31:49.013 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:31:49.016 +07:00 [DBG] Authorization was successful.
2025-07-11 16:31:49.019 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:31:49.025 +07:00 [INF] Route matched with {action = "Create", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(App.Entities.DTOs.Topics.CreateTopicDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:31:49.026 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:31:49.026 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:31:49.026 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:31:49.026 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:31:49.026 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:31:49.027 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:31:49.029 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:31:49.031 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:31:49.032 +07:00 [DBG] Attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' using the name '' in request data ...
2025-07-11 16:31:49.032 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:31:49.032 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:31:49.033 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 16:31:49.033 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 16:31:49.046 +07:00 [DBG] Connection id "0HNE0BN1CJ0N3", Request id "0HNE0BN1CJ0N3:00000001": started reading request body.
2025-07-11 16:31:49.046 +07:00 [DBG] Connection id "0HNE0BN1CJ0N3", Request id "0HNE0BN1CJ0N3:00000001": done reading request body.
2025-07-11 16:31:49.048 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Topics.CreateTopicDTO'
2025-07-11 16:31:49.048 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:31:49.048 +07:00 [DBG] Done attempting to bind parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:31:49.048 +07:00 [DBG] Attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO' ...
2025-07-11 16:31:49.052 +07:00 [DBG] Done attempting to validate the bound parameter 'createTopicDTO' of type 'App.Entities.DTOs.Topics.CreateTopicDTO'.
2025-07-11 16:31:49.055 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:31:49.055 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:31:49.056 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:31:49.056 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:31:49.057 +07:00 [INF] Executing UnprocessableEntityObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:31:49.078 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.Create (CapBot.api) in 49.9606ms
2025-07-11 16:31:49.079 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.Create (CapBot.api)'
2025-07-11 16:31:49.080 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/topic/create - 422 null application/json; charset=utf-8 124.6617ms
2025-07-11 16:31:51.283 +07:00 [DBG] Connection id "0HNE0BN1CJ0N3" received FIN.
2025-07-11 16:31:51.286 +07:00 [DBG] Connection id "0HNE0BN1CJ0N3" is closed. The last processed stream ID was 1.
2025-07-11 16:31:51.287 +07:00 [DBG] Connection id "0HNE0BN1CJ0N3" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:31:51.287 +07:00 [DBG] The connection queue processing loop for 0HNE0BN1CJ0N3 completed.
2025-07-11 16:31:51.293 +07:00 [DBG] Connection id "0HNE0BN1CJ0N3" stopped.
2025-07-11 16:55:55.823 +07:00 [DBG] Connection id "0HNE0BN1CJ0N4" accepted.
2025-07-11 16:55:55.825 +07:00 [DBG] Connection id "0HNE0BN1CJ0N4" started.
2025-07-11 16:55:55.844 +07:00 [DBG] Connection 0HNE0BN1CJ0N4 established using the following protocol: "Tls12"
2025-07-11 16:55:55.848 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 16:55:55.853 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:55:55.853 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:55:55.855 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 16:55:55.855 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 16:55:55.855 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:55:55.857 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:55:55.858 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:55:55.859 +07:00 [DBG] Authorization was successful.
2025-07-11 16:55:55.859 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:55:55.865 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:55:55.865 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:55:55.865 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:55:55.865 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:55:55.865 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:55:55.865 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:55:55.865 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:55:55.867 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:55:55.867 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:55:55.867 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:55:55.868 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:55:55.868 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:55:55.868 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:55:55.868 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:55:55.868 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:55:55.868 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:55:55.868 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:55:55.868 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:55:55.868 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:55:55.868 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:55:55.868 +07:00 [DBG] Attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:55:55.868 +07:00 [DBG] Done attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:55:55.893 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:55:55.898 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)'
2025-07-11 16:55:55.904 +07:00 [DBG] Including navigation: 'Topic.Supervisor'.
2025-07-11 16:55:55.906 +07:00 [DBG] Including navigation: 'Topic.Category'.
2025-07-11 16:55:55.906 +07:00 [DBG] Including navigation: 'Topic.Semester'.
2025-07-11 16:55:55.906 +07:00 [DBG] Including navigation: 'Topic.TopicVersions'.
2025-07-11 16:55:55.946 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CategoryId (int?) FK Index, 1], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Topic.CreatedBy (string), 3], [Property: Topic.DeletedAt (DateTime?), 4], [Property: Topic.Description (string), 5], [Property: Topic.IsActive (bool) Required, 6], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 7], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 8], [Property: Topic.LastModifiedAt (DateTime?), 9], [Property: Topic.LastModifiedBy (string), 10], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 11], [Property: Topic.Objectives (string), 12], [Property: Topic.SemesterId (int) Required FK Index, 13], [Property: Topic.SupervisorId (int) Required FK Index, 14], [Property: Topic.Title (string) Required MaxLength(500), 15] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string), 18], [Property: User.CreatedAt (DateTime) Required, 19], [Property: User.DeletedAt (DateTime?), 20], [Property: User.Email (string), 21], [Property: User.EmailConfirmed (bool) Required, 22], [Property: User.LastModifiedAt (DateTime) Required, 23], [Property: User.LastModifiedBy (string), 24], [Property: User.LockoutEnabled (bool) Required, 25], [Property: User.LockoutEnd (DateTimeOffset?), 26], [Property: User.NormalizedEmail (string), 27], [Property: User.NormalizedUserName (string), 28], [Property: User.PasswordHash (string), 29], [Property: User.PhoneNumber (string), 30], [Property: User.PhoneNumberConfirmed (bool) Required, 31], [Property: User.SecurityStamp (string), 32], [Property: User.TwoFactorEnabled (bool) Required, 33], [Property: User.UserName (string), 34] }
            2 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 35], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 36], [Property: TopicCategory.CreatedBy (string), 37], [Property: TopicCategory.DeletedAt (DateTime?), 38], [Property: TopicCategory.Description (string), 39], [Property: TopicCategory.IsActive (bool) Required, 40], [Property: TopicCategory.LastModifiedAt (DateTime?), 41], [Property: TopicCategory.LastModifiedBy (string), 42], [Property: TopicCategory.Name (string) Required MaxLength(100), 43] }
            3 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 44], [Property: Semester.CreatedAt (DateTime) Required, 45], [Property: Semester.CreatedBy (string), 46], [Property: Semester.DeletedAt (DateTime?), 47], [Property: Semester.EndDate (DateTime) Required, 48], [Property: Semester.IsActive (bool) Required, 49], [Property: Semester.LastModifiedAt (DateTime?), 50], [Property: Semester.LastModifiedBy (string), 51], [Property: Semester.Name (string) Required Index MaxLength(50), 52], [Property: Semester.StartDate (DateTime) Required, 53] }
            4 -> 0
            5 -> 16
            6 -> 35
            7 -> 44
            8 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.ExpectedOutcomes (string), 60], [Property: TopicVersion.IsActive (bool) Required, 61], [Property: TopicVersion.LastModifiedAt (DateTime?), 62], [Property: TopicVersion.LastModifiedBy (string), 63], [Property: TopicVersion.Methodology (string), 64], [Property: TopicVersion.Objectives (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.Title (string) Required MaxLength(500), 70], [Property: TopicVersion.TopicId (int) Required FK Index, 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            9 -> 54
        SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.SemesterId, t.SupervisorId, t.Title, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, t0.Id, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.LastModifiedAt, t0.LastModifiedBy, t0.Name, s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate, t1.Id, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.DocumentUrl, t1.ExpectedOutcomes, t1.IsActive, t1.LastModifiedAt, t1.LastModifiedBy, t1.Methodology, t1.Objectives, t1.Requirements, t1.Status, t1.SubmittedAt, t1.SubmittedBy, t1.Title, t1.TopicId, t1.VersionNumber
        FROM topics AS t
        INNER JOIN users AS u ON t.SupervisorId == u.Id
        LEFT JOIN topic_categories AS t0 ON t.CategoryId == t0.Id
        INNER JOIN semesters AS s ON t.SemesterId == s.Id
        LEFT JOIN topic_versions AS t1 ON t.Id == t1.TopicId
        WHERE t.IsActive && (t.DeletedAt == NULL)
        ORDER BY t.Id ASC, u.Id ASC, t0.Id ASC, s.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 16:55:55.949 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:55:55.949 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:55:55.949 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:55:55.980 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:55:55.980 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:55:55.980 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:55:55.980 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:55:55.981 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:55:56.083 +07:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:55:56.091 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:55:56.091 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 7ms reading results.
2025-07-11 16:55:56.092 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:55:56.092 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:55:56.096 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:55:56.096 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:55:56.097 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:55:56.097 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:55:56.097 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:55:56.111 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 245.1792ms
2025-07-11 16:55:56.111 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:55:56.112 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:55:56.112 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:55:56.112 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:55:56.112 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 264.677ms
2025-07-11 16:56:29.511 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 16:56:29.513 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:29.513 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:29.514 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 16:56:29.514 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 16:56:29.514 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:29.518 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:56:29.518 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:56:29.519 +07:00 [DBG] Authorization was successful.
2025-07-11 16:56:29.520 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:29.520 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:56:29.520 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:56:29.520 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:56:29.520 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:56:29.520 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:56:29.520 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:56:29.520 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:29.529 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:29.530 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:29.530 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:29.530 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:29.530 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:29.530 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:29.530 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:29.530 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:29.530 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:29.530 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:29.530 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:29.530 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:29.530 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:29.530 +07:00 [DBG] Attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:29.530 +07:00 [DBG] Done attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:29.537 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:56:29.538 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:56:29.538 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:56:29.538 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:29.538 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:29.538 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:56:29.538 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:29.538 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:29.538 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:29.543 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:29.543 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:56:29.543 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:56:29.543 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:29.543 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:56:29.543 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:56:29.543 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:56:29.544 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:56:29.544 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:56:29.544 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:56:29.544 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 24.2889ms
2025-07-11 16:56:29.545 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:29.545 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:56:29.545 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:29.545 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:56:29.545 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 33.3303ms
2025-07-11 16:56:32.171 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 16:56:32.172 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:32.172 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:32.172 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 16:56:32.172 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 16:56:32.172 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:32.172 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:56:32.172 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:56:32.172 +07:00 [DBG] Authorization was successful.
2025-07-11 16:56:32.172 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:32.173 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:56:32.173 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:56:32.173 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:56:32.173 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:56:32.173 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:56:32.173 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:56:32.173 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:32.173 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:32.174 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:32.174 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:32.174 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.174 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.174 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.174 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:32.174 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.174 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:32.174 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:32.174 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.174 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.174 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.174 +07:00 [DBG] Attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:32.174 +07:00 [DBG] Done attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.176 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:56:32.176 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:56:32.176 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:56:32.176 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.176 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:56:32.176 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:32.176 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:32.177 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:32.180 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:32.180 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.180 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:56:32.180 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.180 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:56:32.181 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:56:32.181 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:56:32.181 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:56:32.181 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:56:32.181 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:56:32.182 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 8.3918ms
2025-07-11 16:56:32.182 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:32.182 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:56:32.182 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.182 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:56:32.182 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 10.7615ms
2025-07-11 16:56:32.675 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 16:56:32.675 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:32.675 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:32.675 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 16:56:32.675 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 16:56:32.675 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:32.680 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:56:32.680 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:56:32.681 +07:00 [DBG] Authorization was successful.
2025-07-11 16:56:32.681 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:32.681 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:56:32.681 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:56:32.683 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:56:32.683 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:56:32.683 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:56:32.683 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:56:32.683 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:32.683 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:32.683 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:32.683 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:32.683 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.684 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.684 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.684 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:32.684 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.684 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:32.684 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:32.684 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.684 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.684 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.684 +07:00 [DBG] Attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:32.684 +07:00 [DBG] Done attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:32.685 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:56:32.686 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:56:32.686 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:56:32.686 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.686 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.686 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:56:32.686 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:32.686 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:32.686 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:32.690 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:32.690 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.690 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:56:32.690 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.690 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:56:32.691 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:56:32.691 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:56:32.691 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:56:32.691 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:56:32.691 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:56:32.691 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 8.4001ms
2025-07-11 16:56:32.691 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:32.691 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:56:32.691 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:32.691 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:56:32.692 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 16.5257ms
2025-07-11 16:56:33.045 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 16:56:33.046 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:33.046 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:33.046 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 16:56:33.046 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 16:56:33.046 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:33.046 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:56:33.046 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:56:33.046 +07:00 [DBG] Authorization was successful.
2025-07-11 16:56:33.047 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:33.047 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:56:33.047 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:56:33.047 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:56:33.047 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:56:33.047 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:56:33.047 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:56:33.047 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:33.048 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:33.048 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.048 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:33.048 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.048 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.048 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.048 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.048 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.048 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.048 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:33.048 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.048 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.048 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.048 +07:00 [DBG] Attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.048 +07:00 [DBG] Done attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.049 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:56:33.050 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:56:33.050 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:56:33.050 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.050 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.050 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:56:33.051 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:33.051 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:33.051 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:33.056 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:33.057 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.057 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:56:33.057 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.057 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:56:33.057 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:56:33.057 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:56:33.058 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:56:33.058 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:56:33.058 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:56:33.058 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 10.6596ms
2025-07-11 16:56:33.058 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:33.058 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:56:33.058 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.058 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:56:33.058 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 12.8375ms
2025-07-11 16:56:33.473 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 16:56:33.474 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:33.474 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:33.474 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 16:56:33.474 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 16:56:33.474 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:33.474 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:56:33.474 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:56:33.474 +07:00 [DBG] Authorization was successful.
2025-07-11 16:56:33.474 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:33.474 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:56:33.475 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:56:33.475 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:56:33.475 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:56:33.475 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:56:33.475 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:56:33.475 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:33.475 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:33.476 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.476 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:33.476 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.476 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.476 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.476 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.476 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.476 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.476 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:33.476 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.476 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.476 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.476 +07:00 [DBG] Attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.476 +07:00 [DBG] Done attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.477 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:56:33.477 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:56:33.477 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:56:33.477 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.478 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.478 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:56:33.478 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:33.478 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:33.478 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:33.481 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:33.482 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.482 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:56:33.482 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.483 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:56:33.483 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:56:33.483 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:56:33.483 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:56:33.484 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:56:33.484 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:56:33.484 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 9.042ms
2025-07-11 16:56:33.484 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:33.484 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:56:33.484 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.484 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:56:33.484 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 10.9799ms
2025-07-11 16:56:33.916 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 16:56:33.916 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:33.916 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 16:56:33.917 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 16:56:33.917 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 16:56:33.917 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:33.917 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:56:33.917 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:56:33.918 +07:00 [DBG] Authorization was successful.
2025-07-11 16:56:33.918 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:33.918 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:56:33.918 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:56:33.918 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:56:33.918 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:56:33.918 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:56:33.918 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:56:33.919 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:33.919 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:33.919 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.919 +07:00 [DBG] Attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:33.919 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.919 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.919 +07:00 [DBG] Done attempting to bind parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.919 +07:00 [DBG] Attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.919 +07:00 [DBG] Done attempting to validate the bound parameter 'semesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.919 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.920 +07:00 [DBG] Attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' using the name '' in request data ...
2025-07-11 16:56:33.920 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.920 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.920 +07:00 [DBG] Done attempting to bind parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.920 +07:00 [DBG] Attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]' ...
2025-07-11 16:56:33.920 +07:00 [DBG] Done attempting to validate the bound parameter 'categoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 16:56:33.921 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:56:33.921 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:56:33.921 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:56:33.921 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.921 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.921 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:56:33.921 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:33.922 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:33.922 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:33.925 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[DocumentUrl], [t1].[ExpectedOutcomes], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Methodology], [t1].[Objectives], [t1].[Requirements], [t1].[Status], [t1].[SubmittedAt], [t1].[SubmittedBy], [t1].[Title], [t1].[TopicId], [t1].[VersionNumber]
FROM [topics] AS [t]
INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t1] ON [t].[Id] = [t1].[TopicId]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
ORDER BY [t].[Id], [u].[Id], [t0].[Id], [s].[Id]
2025-07-11 16:56:33.926 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.926 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:56:33.926 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.926 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:56:33.927 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:56:33.927 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:56:33.927 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:56:33.928 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:56:33.928 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:56:33.928 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 9.6625ms
2025-07-11 16:56:33.928 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 16:56:33.928 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:56:33.928 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:33.928 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:56:33.929 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 12.3666ms
2025-07-11 16:56:57.484 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/detail/4 - null null
2025-07-11 16:56:57.484 +07:00 [DBG] The request path /api/topic/detail/4 does not match a supported file type
2025-07-11 16:56:57.484 +07:00 [DBG] The request path /api/topic/detail/4 does not match a supported file type
2025-07-11 16:56:57.484 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/detail/4'
2025-07-11 16:56:57.484 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetDetail (CapBot.api)' with route pattern 'api/topic/detail/{topicId}' is valid for the request path '/api/topic/detail/4'
2025-07-11 16:56:57.484 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetDetail (CapBot.api)'
2025-07-11 16:56:57.485 +07:00 [DBG] Successfully validated the token.
2025-07-11 16:56:57.485 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 16:56:57.485 +07:00 [DBG] Authorization was successful.
2025-07-11 16:56:57.486 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetDetail (CapBot.api)'
2025-07-11 16:56:57.491 +07:00 [INF] Route matched with {action = "GetDetail", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 16:56:57.492 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 16:56:57.492 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 16:56:57.492 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 16:56:57.492 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 16:56:57.492 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 16:56:57.492 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:57.493 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 16:56:57.493 +07:00 [DBG] Attempting to bind parameter 'topicId' of type 'System.Int32' ...
2025-07-11 16:56:57.493 +07:00 [DBG] Attempting to bind parameter 'topicId' of type 'System.Int32' using the name 'topicId' in request data ...
2025-07-11 16:56:57.493 +07:00 [DBG] Done attempting to bind parameter 'topicId' of type 'System.Int32'.
2025-07-11 16:56:57.493 +07:00 [DBG] Done attempting to bind parameter 'topicId' of type 'System.Int32'.
2025-07-11 16:56:57.493 +07:00 [DBG] Attempting to validate the bound parameter 'topicId' of type 'System.Int32' ...
2025-07-11 16:56:57.494 +07:00 [DBG] Done attempting to validate the bound parameter 'topicId' of type 'System.Int32'.
2025-07-11 16:56:57.496 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 16:56:57.499 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.Id == __topicId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 16:56:57.500 +07:00 [DBG] Including navigation: 'Topic.Supervisor'.
2025-07-11 16:56:57.501 +07:00 [DBG] Including navigation: 'Topic.Category'.
2025-07-11 16:56:57.501 +07:00 [DBG] Including navigation: 'Topic.Semester'.
2025-07-11 16:56:57.501 +07:00 [DBG] Including navigation: 'Topic.TopicVersions'.
2025-07-11 16:56:57.518 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Topic>(
    asyncEnumerable: new SingleQueryingEnumerable<Topic>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CategoryId (int?) FK Index, 1], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Topic.CreatedBy (string), 3], [Property: Topic.DeletedAt (DateTime?), 4], [Property: Topic.Description (string), 5], [Property: Topic.IsActive (bool) Required, 6], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 7], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 8], [Property: Topic.LastModifiedAt (DateTime?), 9], [Property: Topic.LastModifiedBy (string), 10], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 11], [Property: Topic.Objectives (string), 12], [Property: Topic.SemesterId (int) Required FK Index, 13], [Property: Topic.SupervisorId (int) Required FK Index, 14], [Property: Topic.Title (string) Required MaxLength(500), 15] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string), 18], [Property: User.CreatedAt (DateTime) Required, 19], [Property: User.DeletedAt (DateTime?), 20], [Property: User.Email (string), 21], [Property: User.EmailConfirmed (bool) Required, 22], [Property: User.LastModifiedAt (DateTime) Required, 23], [Property: User.LastModifiedBy (string), 24], [Property: User.LockoutEnabled (bool) Required, 25], [Property: User.LockoutEnd (DateTimeOffset?), 26], [Property: User.NormalizedEmail (string), 27], [Property: User.NormalizedUserName (string), 28], [Property: User.PasswordHash (string), 29], [Property: User.PhoneNumber (string), 30], [Property: User.PhoneNumberConfirmed (bool) Required, 31], [Property: User.SecurityStamp (string), 32], [Property: User.TwoFactorEnabled (bool) Required, 33], [Property: User.UserName (string), 34] }
                2 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 35], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 36], [Property: TopicCategory.CreatedBy (string), 37], [Property: TopicCategory.DeletedAt (DateTime?), 38], [Property: TopicCategory.Description (string), 39], [Property: TopicCategory.IsActive (bool) Required, 40], [Property: TopicCategory.LastModifiedAt (DateTime?), 41], [Property: TopicCategory.LastModifiedBy (string), 42], [Property: TopicCategory.Name (string) Required MaxLength(100), 43] }
                3 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 44], [Property: Semester.CreatedAt (DateTime) Required, 45], [Property: Semester.CreatedBy (string), 46], [Property: Semester.DeletedAt (DateTime?), 47], [Property: Semester.EndDate (DateTime) Required, 48], [Property: Semester.IsActive (bool) Required, 49], [Property: Semester.LastModifiedAt (DateTime?), 50], [Property: Semester.LastModifiedBy (string), 51], [Property: Semester.Name (string) Required Index MaxLength(50), 52], [Property: Semester.StartDate (DateTime) Required, 53] }
                4 -> 0
                5 -> 16
                6 -> 35
                7 -> 44
                8 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.ExpectedOutcomes (string), 60], [Property: TopicVersion.IsActive (bool) Required, 61], [Property: TopicVersion.LastModifiedAt (DateTime?), 62], [Property: TopicVersion.LastModifiedBy (string), 63], [Property: TopicVersion.Methodology (string), 64], [Property: TopicVersion.Objectives (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.Title (string) Required MaxLength(500), 70], [Property: TopicVersion.TopicId (int) Required FK Index, 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
                9 -> 54
            SELECT t1.Id, t1.CategoryId, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.SemesterId, t1.SupervisorId, t1.Title, t1.Id0, t1.AccessFailedCount, t1.ConcurrencyStamp, t1.CreatedAt0, t1.DeletedAt0, t1.Email, t1.EmailConfirmed, t1.LastModifiedAt0, t1.LastModifiedBy0, t1.LockoutEnabled, t1.LockoutEnd, t1.NormalizedEmail, t1.NormalizedUserName, t1.PasswordHash, t1.PhoneNumber, t1.PhoneNumberConfirmed, t1.SecurityStamp, t1.TwoFactorEnabled, t1.UserName, t1.Id1, t1.CreatedAt1, t1.CreatedBy0, t1.DeletedAt1, t1.Description0, t1.IsActive0, t1.LastModifiedAt1, t1.LastModifiedBy1, t1.Name, t1.Id2, t1.CreatedAt2, t1.CreatedBy1, t1.DeletedAt2, t1.EndDate, t1.IsActive1, t1.LastModifiedAt2, t1.LastModifiedBy2, t1.Name0, t1.StartDate, t2.Id, t2.CreatedAt, t2.CreatedBy, t2.DeletedAt, t2.Description, t2.DocumentUrl, t2.ExpectedOutcomes, t2.IsActive, t2.LastModifiedAt, t2.LastModifiedBy, t2.Methodology, t2.Objectives, t2.Requirements, t2.Status, t2.SubmittedAt, t2.SubmittedBy, t2.Title, t2.TopicId, t2.VersionNumber
            FROM 
            (
                SELECT TOP(1) t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.SemesterId, t.SupervisorId, t.Title, u.Id AS Id0, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DeletedAt AS DeletedAt0, u.Email, u.EmailConfirmed, u.LastModifiedAt AS LastModifiedAt0, u.LastModifiedBy AS LastModifiedBy0, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, t0.Id AS Id1, t0.CreatedAt AS CreatedAt1, t0.CreatedBy AS CreatedBy0, t0.DeletedAt AS DeletedAt1, t0.Description AS Description0, t0.IsActive AS IsActive0, t0.LastModifiedAt AS LastModifiedAt1, t0.LastModifiedBy AS LastModifiedBy1, t0.Name, s.Id AS Id2, s.CreatedAt AS CreatedAt2, s.CreatedBy AS CreatedBy1, s.DeletedAt AS DeletedAt2, s.EndDate, s.IsActive AS IsActive1, s.LastModifiedAt AS LastModifiedAt2, s.LastModifiedBy AS LastModifiedBy2, s.Name AS Name0, s.StartDate
                FROM topics AS t
                INNER JOIN users AS u ON t.SupervisorId == u.Id
                LEFT JOIN topic_categories AS t0 ON t.CategoryId == t0.Id
                INNER JOIN semesters AS s ON t.SemesterId == s.Id
                WHERE ((t.Id == @__topicId_0) && t.IsActive) && (t.DeletedAt == NULL)
            ) AS t1
            LEFT JOIN topic_versions AS t2 ON t1.Id == t2.TopicId
            ORDER BY t1.Id ASC, t1.Id0 ASC, t1.Id1 ASC, t1.Id2 ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 16:56:57.519 +07:00 [DBG] Creating DbConnection.
2025-07-11 16:56:57.519 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 16:56:57.520 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:57.520 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:57.520 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 16:56:57.520 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:57.520 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 16:56:57.520 +07:00 [DBG] Executing DbCommand [Parameters=[@__topicId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DeletedAt0], [t1].[Email], [t1].[EmailConfirmed], [t1].[LastModifiedAt0], [t1].[LastModifiedBy0], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [t1].[Id1], [t1].[CreatedAt1], [t1].[CreatedBy0], [t1].[DeletedAt1], [t1].[Description0], [t1].[IsActive0], [t1].[LastModifiedAt1], [t1].[LastModifiedBy1], [t1].[Name], [t1].[Id2], [t1].[CreatedAt2], [t1].[CreatedBy1], [t1].[DeletedAt2], [t1].[EndDate], [t1].[IsActive1], [t1].[LastModifiedAt2], [t1].[LastModifiedBy2], [t1].[Name0], [t1].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt] AS [DeletedAt0], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt] AS [LastModifiedAt0], [u].[LastModifiedBy] AS [LastModifiedBy0], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id] AS [Id1], [t0].[CreatedAt] AS [CreatedAt1], [t0].[CreatedBy] AS [CreatedBy0], [t0].[DeletedAt] AS [DeletedAt1], [t0].[Description] AS [Description0], [t0].[IsActive] AS [IsActive0], [t0].[LastModifiedAt] AS [LastModifiedAt1], [t0].[LastModifiedBy] AS [LastModifiedBy1], [t0].[Name], [s].[Id] AS [Id2], [s].[CreatedAt] AS [CreatedAt2], [s].[CreatedBy] AS [CreatedBy1], [s].[DeletedAt] AS [DeletedAt2], [s].[EndDate], [s].[IsActive] AS [IsActive1], [s].[LastModifiedAt] AS [LastModifiedAt2], [s].[LastModifiedBy] AS [LastModifiedBy2], [s].[Name] AS [Name0], [s].[StartDate]
    FROM [topics] AS [t]
    INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
    LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
    INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
    WHERE [t].[Id] = @__topicId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t1]
LEFT JOIN [topic_versions] AS [t2] ON [t1].[Id] = [t2].[TopicId]
ORDER BY [t1].[Id], [t1].[Id0], [t1].[Id1], [t1].[Id2]
2025-07-11 16:56:57.541 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__topicId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DeletedAt0], [t1].[Email], [t1].[EmailConfirmed], [t1].[LastModifiedAt0], [t1].[LastModifiedBy0], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [t1].[Id1], [t1].[CreatedAt1], [t1].[CreatedBy0], [t1].[DeletedAt1], [t1].[Description0], [t1].[IsActive0], [t1].[LastModifiedAt1], [t1].[LastModifiedBy1], [t1].[Name], [t1].[Id2], [t1].[CreatedAt2], [t1].[CreatedBy1], [t1].[DeletedAt2], [t1].[EndDate], [t1].[IsActive1], [t1].[LastModifiedAt2], [t1].[LastModifiedBy2], [t1].[Name0], [t1].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt] AS [DeletedAt0], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt] AS [LastModifiedAt0], [u].[LastModifiedBy] AS [LastModifiedBy0], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id] AS [Id1], [t0].[CreatedAt] AS [CreatedAt1], [t0].[CreatedBy] AS [CreatedBy0], [t0].[DeletedAt] AS [DeletedAt1], [t0].[Description] AS [Description0], [t0].[IsActive] AS [IsActive0], [t0].[LastModifiedAt] AS [LastModifiedAt1], [t0].[LastModifiedBy] AS [LastModifiedBy1], [t0].[Name], [s].[Id] AS [Id2], [s].[CreatedAt] AS [CreatedAt2], [s].[CreatedBy] AS [CreatedBy1], [s].[DeletedAt] AS [DeletedAt2], [s].[EndDate], [s].[IsActive] AS [IsActive1], [s].[LastModifiedAt] AS [LastModifiedAt2], [s].[LastModifiedBy] AS [LastModifiedBy2], [s].[Name] AS [Name0], [s].[StartDate]
    FROM [topics] AS [t]
    INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
    LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
    INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
    WHERE [t].[Id] = @__topicId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t1]
LEFT JOIN [topic_versions] AS [t2] ON [t1].[Id] = [t2].[TopicId]
ORDER BY [t1].[Id], [t1].[Id0], [t1].[Id1], [t1].[Id2]
2025-07-11 16:56:57.542 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 16:56:57.542 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 16:56:57.542 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:57.542 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 16:56:57.544 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 16:56:57.544 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 16:56:57.544 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 16:56:57.544 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 16:56:57.544 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 16:56:57.550 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetDetail (CapBot.api) in 58.0642ms
2025-07-11 16:56:57.550 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetDetail (CapBot.api)'
2025-07-11 16:56:57.550 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 16:56:57.550 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 16:56:57.551 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 16:56:57.551 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/detail/4 - 200 null application/json; charset=utf-8 67.0791ms
2025-07-11 16:57:43.337 +07:00 [DBG] Connection id "0HNE0BN1CJ0N4" received FIN.
2025-07-11 16:57:43.338 +07:00 [DBG] Connection id "0HNE0BN1CJ0N4" is closed. The last processed stream ID was 15.
2025-07-11 16:57:43.338 +07:00 [DBG] Connection id "0HNE0BN1CJ0N4" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 16:57:43.338 +07:00 [DBG] The connection queue processing loop for 0HNE0BN1CJ0N4 completed.
2025-07-11 16:57:43.339 +07:00 [DBG] Connection id "0HNE0BN1CJ0N4" stopped.
2025-07-11 17:02:03.589 +07:00 [INF] Application is shutting down...
2025-07-11 17:02:03.597 +07:00 [DBG] Hosting stopping
2025-07-11 17:02:03.615 +07:00 [DBG] Hosting stopped
2025-07-11 17:12:33.915 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 17:12:34.011 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 17:12:34.143 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.151 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.158 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.159 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.159 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.160 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.253 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.254 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.263 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.263 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.263 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.264 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.268 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.268 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:12:34.287 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 17:12:34.287 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 17:12:34.287 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 17:12:34.287 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 17:12:34.287 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 17:12:34.288 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 17:12:34.357 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.357 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.358 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.358 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.358 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.358 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.358 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.358 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.358 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.358 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.358 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:12:34.435 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:12:34.465 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 17:12:34.539 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:12:34.557 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:12:34.566 +07:00 [DBG] Created DbConnection. (8ms).
2025-07-11 17:12:34.567 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.677 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.678 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:12:34.680 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 17:12:34.684 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-11 17:12:34.687 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:12:34.714 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:12:34.732 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:12:34.744 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.749 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 32ms reading results.
2025-07-11 17:12:34.750 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.753 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (2ms).
2025-07-11 17:12:34.754 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.755 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.755 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:12:34.755 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.755 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.755 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:12:34.760 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:12:34.760 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:12:34.760 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.760 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:12:34.760 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.760 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:12:34.761 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.761 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.761 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:12:34.761 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.761 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.761 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:12:34.767 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:12:34.767 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:12:34.767 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.767 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:12:34.767 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.767 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:12:34.767 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.767 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.767 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:12:34.768 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.768 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.768 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:12:34.771 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:12:34.772 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:12:34.772 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.772 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:12:34.772 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.772 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:12:34.781 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 17:12:34.784 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:12:34.784 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.784 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.785 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:12:34.785 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.785 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.785 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:12:34.790 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:12:34.801 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:12:34.813 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.813 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 23ms reading results.
2025-07-11 17:12:34.814 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.814 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:12:34.815 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 17:12:34.816 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.816 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.816 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:12:34.816 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.816 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.816 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:12:34.820 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:12:34.820 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:12:34.820 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.820 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:12:34.820 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.820 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:12:34.820 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 17:12:34.821 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.821 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.821 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:12:34.821 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.821 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.821 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:12:34.824 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:12:34.824 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:12:34.824 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.824 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:12:34.824 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.824 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:12:34.824 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.824 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.824 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:12:34.824 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.824 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:34.824 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:12:34.827 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:12:34.828 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:12:34.828 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.828 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:12:34.828 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.828 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:12:34.828 +07:00 [INF] Data seeding completed successfully
2025-07-11 17:12:34.829 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:12:34.830 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:34.830 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:12:34.906 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 17:12:34.951 +07:00 [DBG] Hosting starting
2025-07-11 17:12:34.954 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 17:12:34.955 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 17:12:34.956 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 17:12:34.957 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 17:12:34.959 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 17:12:34.959 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 17:12:34.961 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 17:12:34.962 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 17:12:34.963 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 17:12:34.963 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 17:12:34.964 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 17:12:34.964 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 17:12:35.108 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 17:12:35.108 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 17:12:35.109 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 17:12:35.109 +07:00 [INF] Hosting environment: Development
2025-07-11 17:12:35.109 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 17:12:35.109 +07:00 [DBG] Hosting started
2025-07-11 17:12:37.263 +07:00 [DBG] Connection id "0HNE0CDR21GFJ" accepted.
2025-07-11 17:12:37.271 +07:00 [DBG] Connection id "0HNE0CDR21GFJ" started.
2025-07-11 17:12:37.409 +07:00 [DBG] Connection 0HNE0CDR21GFJ established using the following protocol: "Tls12"
2025-07-11 17:12:37.465 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 17:12:37.466 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 17:12:37.596 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 124.0686ms
2025-07-11 17:12:37.703 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 17:12:37.895 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.1955ms
2025-07-11 17:12:42.453 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 17:12:42.456 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:12:42.456 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:12:42.467 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 17:12:42.468 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 17:12:42.468 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:12:42.508 +07:00 [DBG] Successfully validated the token.
2025-07-11 17:12:42.509 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 17:12:42.510 +07:00 [DBG] Authorization was successful.
2025-07-11 17:12:42.513 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:12:42.519 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(App.Entities.DTOs.Topics.GetTopicsQueryDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 17:12:42.520 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:12:42.520 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:12:42.520 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:12:42.520 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:12:42.520 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:12:42.521 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:12:42.523 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:12:42.525 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:12:42.526 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' using the name '' in request data ...
2025-07-11 17:12:42.527 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-07-11 17:12:42.528 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:12:42.528 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:12:42.528 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]' using the name 'CategoryId' in request data ...
2025-07-11 17:12:42.528 +07:00 [DBG] Could not find a value in the request with name 'CategoryId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:12:42.529 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:12:42.529 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-07-11 17:12:42.529 +07:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:12:42.529 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:12:42.529 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-07-11 17:12:42.529 +07:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:12:42.529 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:12:42.529 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-07-11 17:12:42.529 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:12:42.529 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:12:42.529 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-07-11 17:12:42.529 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:12:42.529 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:12:42.529 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:12:42.529 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:12:42.529 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:12:42.532 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:12:42.554 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:12:42.558 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .Count()'
2025-07-11 17:12:42.578 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:12:42.583 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:12:42.583 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:12:42.583 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:42.584 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:42.584 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:12:42.584 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:42.584 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:12:42.584 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:12:42.633 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:12:42.634 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:12:42.634 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 17:12:42.635 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:42.635 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:12:42.638 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .Select(x => new TopicOverviewResDTO(x))
    .OrderByDescending(x => x.CreatedAt)
    .Skip(__p_0)
    .Take(__p_0)'
2025-07-11 17:12:42.646 +07:00 [DBG] Including navigation: 'Topic.Supervisor'.
2025-07-11 17:12:42.648 +07:00 [DBG] Including navigation: 'Topic.Category'.
2025-07-11 17:12:42.648 +07:00 [DBG] Including navigation: 'Topic.Semester'.
2025-07-11 17:12:42.648 +07:00 [DBG] Including navigation: 'Topic.TopicVersions'.
2025-07-11 17:12:42.651 +07:00 [ERR] Error occurred while getting all topics
System.InvalidOperationException: The LINQ expression 'DbSet<Topic>()
    .Where(t => t.IsActive && t.DeletedAt == null)
    .OrderByDescending(t => new TopicOverviewResDTO(t).CreatedAt)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at App.BLL.Implementations.TopicService.GetAllTopics(GetTopicsQueryDTO query) in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/App.BLL/Implementations/TopicService.cs:line 160
   at CapBot.api.Controllers.TopicController.GetAll(GetTopicsQueryDTO query) in /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api/Controllers/TopicController.cs:line 127
2025-07-11 17:12:42.658 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:12:42.658 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:12:42.658 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:12:42.660 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:12:42.660 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:12:42.674 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 151.8006ms
2025-07-11 17:12:42.675 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:12:42.676 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:12:42.676 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:12:42.676 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:12:42.677 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 500 null application/json; charset=utf-8 224.426ms
2025-07-11 17:13:17.240 +07:00 [INF] Application is shutting down...
2025-07-11 17:13:17.241 +07:00 [DBG] Hosting stopping
2025-07-11 17:13:17.246 +07:00 [DBG] Connection id "0HNE0CDR21GFJ" is closing.
2025-07-11 17:13:17.246 +07:00 [DBG] Connection id "0HNE0CDR21GFJ" is closed. The last processed stream ID was 5.
2025-07-11 17:13:17.247 +07:00 [DBG] Connection id "0HNE0CDR21GFJ" received FIN.
2025-07-11 17:13:17.248 +07:00 [DBG] Connection id "0HNE0CDR21GFJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:13:17.249 +07:00 [DBG] The connection queue processing loop for 0HNE0CDR21GFJ completed.
2025-07-11 17:13:17.251 +07:00 [DBG] Connection id "0HNE0CDR21GFJ" stopped.
2025-07-11 17:13:17.253 +07:00 [DBG] Hosting stopped
2025-07-11 17:13:19.685 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 17:13:19.741 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 17:13:19.855 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.864 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.869 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.870 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.870 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.871 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.952 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.953 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.961 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.961 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.962 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.962 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.964 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.964 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:13:19.976 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 17:13:19.976 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 17:13:19.976 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 17:13:19.976 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 17:13:19.977 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 17:13:20.038 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.038 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.038 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.038 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.038 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.038 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.038 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.039 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.039 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.039 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.039 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:13:20.104 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:13:20.133 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 17:13:20.205 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:13:20.286 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:13:20.305 +07:00 [DBG] Created DbConnection. (18ms).
2025-07-11 17:13:20.307 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.422 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.423 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:20.425 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 17:13:20.428 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-11 17:13:20.431 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:13:20.462 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:13:20.479 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:13:20.489 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.491 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 27ms reading results.
2025-07-11 17:13:20.492 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.494 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 17:13:20.497 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.497 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.497 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:20.497 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.497 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.497 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:13:20.502 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:13:20.502 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:13:20.502 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.502 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:13:20.502 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.502 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:13:20.503 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.503 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.503 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:20.503 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.503 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.503 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:13:20.506 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:13:20.506 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:13:20.506 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.506 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:13:20.507 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.507 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:13:20.507 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.507 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.507 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:20.507 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.507 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.507 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:13:20.510 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:13:20.510 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:13:20.510 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.510 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:13:20.510 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.510 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:13:20.513 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 17:13:20.517 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:13:20.518 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.518 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.518 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:20.518 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.518 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.518 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:13:20.521 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:13:20.531 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:13:20.542 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.542 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 20ms reading results.
2025-07-11 17:13:20.542 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.542 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:13:20.543 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 17:13:20.545 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.545 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.545 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:20.545 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.545 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.545 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:13:20.550 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:13:20.551 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:13:20.551 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.551 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:13:20.551 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.551 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:13:20.551 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 17:13:20.552 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.552 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.552 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:20.552 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.552 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.552 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:13:20.555 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:13:20.555 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:13:20.555 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.555 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:13:20.555 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.555 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:13:20.555 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.555 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.555 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:20.556 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.556 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:20.556 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:13:20.559 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:13:20.559 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:13:20.559 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.559 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:13:20.559 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.559 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:13:20.559 +07:00 [INF] Data seeding completed successfully
2025-07-11 17:13:20.560 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:13:20.561 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:20.561 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:13:20.628 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 17:13:20.659 +07:00 [DBG] Hosting starting
2025-07-11 17:13:20.662 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 17:13:20.663 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 17:13:20.663 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 17:13:20.665 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 17:13:20.666 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 17:13:20.666 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 17:13:20.667 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 17:13:20.668 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 17:13:20.669 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 17:13:20.669 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 17:13:20.670 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 17:13:20.670 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 17:13:20.807 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 17:13:20.807 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 17:13:20.808 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 17:13:20.808 +07:00 [INF] Hosting environment: Development
2025-07-11 17:13:20.808 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 17:13:20.808 +07:00 [DBG] Hosting started
2025-07-11 17:13:22.704 +07:00 [DBG] Connection id "0HNE0CE8JD3DL" accepted.
2025-07-11 17:13:22.705 +07:00 [DBG] Connection id "0HNE0CE8JD3DL" started.
2025-07-11 17:13:22.729 +07:00 [DBG] Connection 0HNE0CE8JD3DL established using the following protocol: "Tls12"
2025-07-11 17:13:22.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 17:13:22.756 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 17:13:22.768 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:13:22.769 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:13:22.783 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 17:13:22.783 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 17:13:22.784 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:13:22.824 +07:00 [DBG] Successfully validated the token.
2025-07-11 17:13:22.825 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 17:13:22.826 +07:00 [DBG] Authorization was successful.
2025-07-11 17:13:22.829 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:13:22.843 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(App.Entities.DTOs.Topics.GetTopicsQueryDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 17:13:22.843 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:13:22.844 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:13:22.844 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:13:22.845 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:13:22.845 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:13:22.846 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:13:22.847 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:13:22.850 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:13:22.850 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' using the name '' in request data ...
2025-07-11 17:13:22.852 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-07-11 17:13:22.852 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:13:22.852 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:13:22.852 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]' using the name 'CategoryId' in request data ...
2025-07-11 17:13:22.852 +07:00 [DBG] Could not find a value in the request with name 'CategoryId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:13:22.852 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:13:22.852 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-07-11 17:13:22.852 +07:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:13:22.854 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:13:22.854 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-07-11 17:13:22.854 +07:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:13:22.854 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:13:22.854 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-07-11 17:13:22.855 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:13:22.855 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:13:22.855 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-07-11 17:13:22.855 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:13:22.855 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:13:22.855 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:13:22.855 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:13:22.855 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:13:22.858 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:13:22.880 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:13:22.883 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .Count()'
2025-07-11 17:13:22.907 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:13:22.911 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:13:22.911 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:13:22.911 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:22.911 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:22.911 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:22.912 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:22.912 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:22.912 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:13:22.921 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:13:22.922 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:22.922 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:13:22.922 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:22.922 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:13:22.925 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .OrderByDescending(x => x.CreatedAt)
    .Select(x => new TopicOverviewResDTO(x))
    .Skip(__p_0)
    .Take(__p_0)'
2025-07-11 17:13:22.935 +07:00 [DBG] Including navigation: 'Topic.Supervisor'.
2025-07-11 17:13:22.936 +07:00 [DBG] Including navigation: 'Topic.Category'.
2025-07-11 17:13:22.937 +07:00 [DBG] Including navigation: 'Topic.Semester'.
2025-07-11 17:13:22.937 +07:00 [DBG] Including navigation: 'Topic.TopicVersions'.
2025-07-11 17:13:22.990 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<TopicOverviewResDTO>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CategoryId (int?) FK Index, 1], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Topic.CreatedBy (string), 3], [Property: Topic.DeletedAt (DateTime?), 4], [Property: Topic.Description (string), 5], [Property: Topic.IsActive (bool) Required, 6], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 7], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 8], [Property: Topic.LastModifiedAt (DateTime?), 9], [Property: Topic.LastModifiedBy (string), 10], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 11], [Property: Topic.Objectives (string), 12], [Property: Topic.SemesterId (int) Required FK Index, 13], [Property: Topic.SupervisorId (int) Required FK Index, 14], [Property: Topic.Title (string) Required MaxLength(500), 15] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string), 18], [Property: User.CreatedAt (DateTime) Required, 19], [Property: User.DeletedAt (DateTime?), 20], [Property: User.Email (string), 21], [Property: User.EmailConfirmed (bool) Required, 22], [Property: User.LastModifiedAt (DateTime) Required, 23], [Property: User.LastModifiedBy (string), 24], [Property: User.LockoutEnabled (bool) Required, 25], [Property: User.LockoutEnd (DateTimeOffset?), 26], [Property: User.NormalizedEmail (string), 27], [Property: User.NormalizedUserName (string), 28], [Property: User.PasswordHash (string), 29], [Property: User.PhoneNumber (string), 30], [Property: User.PhoneNumberConfirmed (bool) Required, 31], [Property: User.SecurityStamp (string), 32], [Property: User.TwoFactorEnabled (bool) Required, 33], [Property: User.UserName (string), 34] }
            2 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 35], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 36], [Property: TopicCategory.CreatedBy (string), 37], [Property: TopicCategory.DeletedAt (DateTime?), 38], [Property: TopicCategory.Description (string), 39], [Property: TopicCategory.IsActive (bool) Required, 40], [Property: TopicCategory.LastModifiedAt (DateTime?), 41], [Property: TopicCategory.LastModifiedBy (string), 42], [Property: TopicCategory.Name (string) Required MaxLength(100), 43] }
            3 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 44], [Property: Semester.CreatedAt (DateTime) Required, 45], [Property: Semester.CreatedBy (string), 46], [Property: Semester.DeletedAt (DateTime?), 47], [Property: Semester.EndDate (DateTime) Required, 48], [Property: Semester.IsActive (bool) Required, 49], [Property: Semester.LastModifiedAt (DateTime?), 50], [Property: Semester.LastModifiedBy (string), 51], [Property: Semester.Name (string) Required Index MaxLength(50), 52], [Property: Semester.StartDate (DateTime) Required, 53] }
            4 -> 0
            5 -> 16
            6 -> 35
            7 -> 44
            8 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.ExpectedOutcomes (string), 60], [Property: TopicVersion.IsActive (bool) Required, 61], [Property: TopicVersion.LastModifiedAt (DateTime?), 62], [Property: TopicVersion.LastModifiedBy (string), 63], [Property: TopicVersion.Methodology (string), 64], [Property: TopicVersion.Objectives (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.Title (string) Required MaxLength(500), 70], [Property: TopicVersion.TopicId (int) Required FK Index, 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            9 -> 54
        SELECT t0.Id, t0.CategoryId, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.SemesterId, t0.SupervisorId, t0.Title, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, t1.Id, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.IsActive, t1.LastModifiedAt, t1.LastModifiedBy, t1.Name, s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate, t2.Id, t2.CreatedAt, t2.CreatedBy, t2.DeletedAt, t2.Description, t2.DocumentUrl, t2.ExpectedOutcomes, t2.IsActive, t2.LastModifiedAt, t2.LastModifiedBy, t2.Methodology, t2.Objectives, t2.Requirements, t2.Status, t2.SubmittedAt, t2.SubmittedBy, t2.Title, t2.TopicId, t2.VersionNumber
        FROM 
        (
            SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.SemesterId, t.SupervisorId, t.Title
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)
            ORDER BY t.CreatedAt DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
        ) AS t0
        INNER JOIN users AS u ON t0.SupervisorId == u.Id
        LEFT JOIN topic_categories AS t1 ON t0.CategoryId == t1.Id
        INNER JOIN semesters AS s ON t0.SemesterId == s.Id
        LEFT JOIN topic_versions AS t2 ON t0.Id == t2.TopicId
        ORDER BY t0.CreatedAt DESC, t0.Id ASC, u.Id ASC, t1.Id ASC, s.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, TopicOverviewResDTO>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 17:13:23.000 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:23.000 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:23.000 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:13:23.001 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:23.001 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:13:23.001 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE 0 = 1
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:13:23.018 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE 0 = 1
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:13:23.020 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:13:23.020 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 17:13:23.020 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:23.020 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:13:23.025 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:13:23.027 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:13:23.028 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:13:23.030 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:13:23.030 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:13:23.094 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 247.8597ms
2025-07-11 17:13:23.096 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:13:23.098 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:13:23.098 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:13:23.098 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:13:23.099 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 344.3266ms
2025-07-11 17:13:57.806 +07:00 [DBG] Connection id "0HNE0CE8JD3DL" received FIN.
2025-07-11 17:13:57.811 +07:00 [DBG] Connection id "0HNE0CE8JD3DL" is closed. The last processed stream ID was 1.
2025-07-11 17:13:57.812 +07:00 [DBG] Connection id "0HNE0CE8JD3DL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:13:57.812 +07:00 [DBG] The connection queue processing loop for 0HNE0CE8JD3DL completed.
2025-07-11 17:13:57.814 +07:00 [DBG] Connection id "0HNE0CE8JD3DL" stopped.
2025-07-11 17:14:07.596 +07:00 [INF] Application is shutting down...
2025-07-11 17:14:07.598 +07:00 [DBG] Hosting stopping
2025-07-11 17:14:07.614 +07:00 [DBG] Hosting stopped
2025-07-11 17:14:10.570 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 17:14:10.627 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 17:14:10.752 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.763 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.770 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.770 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.771 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.771 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.871 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.871 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.882 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.883 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.883 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.883 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.885 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.885 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 17:14:10.899 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 17:14:10.900 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 17:14:10.900 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 17:14:10.900 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 17:14:10.900 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 17:14:10.900 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 17:14:10.900 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 17:14:10.900 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 17:14:10.900 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 17:14:10.900 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 17:14:10.970 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.970 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.970 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.970 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.971 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.971 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.971 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.971 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.971 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.971 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:10.971 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:14:11.039 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:14:11.070 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 17:14:11.149 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:14:11.167 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:14:11.174 +07:00 [DBG] Created DbConnection. (6ms).
2025-07-11 17:14:11.176 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.287 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.288 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:11.290 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 17:14:11.293 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-11 17:14:11.296 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:14:11.323 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:14:11.341 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:14:11.350 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.353 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 27ms reading results.
2025-07-11 17:14:11.354 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.356 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 17:14:11.357 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.357 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.357 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:11.357 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.358 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.358 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:14:11.362 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:14:11.362 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:14:11.362 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.362 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:11.362 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.362 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:11.363 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.363 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.363 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:11.363 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.363 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.363 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:14:11.365 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:14:11.365 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:14:11.365 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.365 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:11.365 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.365 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:11.366 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.366 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.366 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:11.366 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.366 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.366 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:14:11.369 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:14:11.369 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:14:11.369 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.369 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:11.369 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.369 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:11.372 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 17:14:11.376 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:14:11.376 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.376 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.376 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:11.376 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.376 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.376 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:11.379 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:11.389 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:14:11.400 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.401 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 21ms reading results.
2025-07-11 17:14:11.401 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.401 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:11.402 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 17:14:11.403 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.403 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.403 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:11.403 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.403 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.403 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:11.407 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:11.407 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:14:11.407 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.407 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:11.407 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.407 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:11.407 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 17:14:11.407 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.407 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.407 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:11.408 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.408 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.408 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:11.411 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:11.411 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:14:11.411 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.411 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:11.411 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.411 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:11.412 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.412 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.412 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:11.412 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.412 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:11.412 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:11.416 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:11.416 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:14:11.416 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.416 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:11.416 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.416 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:11.416 +07:00 [INF] Data seeding completed successfully
2025-07-11 17:14:11.417 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:14:11.418 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:11.418 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:14:11.486 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 17:14:11.525 +07:00 [DBG] Hosting starting
2025-07-11 17:14:11.528 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 17:14:11.529 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 17:14:11.530 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 17:14:11.531 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 17:14:11.533 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 17:14:11.533 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 17:14:11.535 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 17:14:11.536 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 17:14:11.536 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 17:14:11.536 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 17:14:11.537 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 17:14:11.537 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 17:14:11.699 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 17:14:11.699 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 17:14:11.699 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 17:14:11.699 +07:00 [INF] Hosting environment: Development
2025-07-11 17:14:11.699 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 17:14:11.699 +07:00 [DBG] Hosting started
2025-07-11 17:14:13.872 +07:00 [DBG] Connection id "0HNE0CENRC8HD" accepted.
2025-07-11 17:14:13.872 +07:00 [DBG] Connection id "0HNE0CENRC8HD" started.
2025-07-11 17:14:13.897 +07:00 [DBG] Connection 0HNE0CENRC8HD established using the following protocol: "Tls12"
2025-07-11 17:14:13.915 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 17:14:13.915 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 17:14:13.923 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:14:13.923 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:14:13.930 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 17:14:13.930 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 17:14:13.931 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:14:13.959 +07:00 [DBG] Successfully validated the token.
2025-07-11 17:14:13.960 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 17:14:13.961 +07:00 [DBG] Authorization was successful.
2025-07-11 17:14:13.964 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:14:13.970 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(App.Entities.DTOs.Topics.GetTopicsQueryDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 17:14:13.971 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:14:13.971 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:14:13.971 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:14:13.971 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:14:13.971 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:14:13.972 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:14:13.974 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:14:13.975 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:14:13.975 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' using the name '' in request data ...
2025-07-11 17:14:13.976 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-07-11 17:14:13.977 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:14:13.977 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:14:13.977 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]' using the name 'CategoryId' in request data ...
2025-07-11 17:14:13.977 +07:00 [DBG] Could not find a value in the request with name 'CategoryId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:14:13.977 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:14:13.977 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-07-11 17:14:13.978 +07:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:14:13.978 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:14:13.978 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-07-11 17:14:13.978 +07:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:14:13.978 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:14:13.978 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-07-11 17:14:13.978 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:14:13.978 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:14:13.978 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-07-11 17:14:13.978 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:14:13.978 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:14:13.978 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:14:13.978 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:14:13.978 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:14:13.980 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:14:13.997 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:14:14.000 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .Count()'
2025-07-11 17:14:14.016 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:14:14.020 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:14:14.020 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:14:14.020 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:14.020 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:14.020 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:14.020 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:14.021 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:14.021 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:14:14.027 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:14:14.028 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:14.028 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:14.028 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:14.028 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:14.030 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .OrderByDescending(x => x.CreatedAt)
    .Skip(__p_0)
    .Take(__p_0)'
2025-07-11 17:14:14.033 +07:00 [DBG] Including navigation: 'Topic.Supervisor'.
2025-07-11 17:14:14.034 +07:00 [DBG] Including navigation: 'Topic.Category'.
2025-07-11 17:14:14.034 +07:00 [DBG] Including navigation: 'Topic.Semester'.
2025-07-11 17:14:14.034 +07:00 [DBG] Including navigation: 'Topic.TopicVersions'.
2025-07-11 17:14:14.072 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CategoryId (int?) FK Index, 1], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Topic.CreatedBy (string), 3], [Property: Topic.DeletedAt (DateTime?), 4], [Property: Topic.Description (string), 5], [Property: Topic.IsActive (bool) Required, 6], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 7], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 8], [Property: Topic.LastModifiedAt (DateTime?), 9], [Property: Topic.LastModifiedBy (string), 10], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 11], [Property: Topic.Objectives (string), 12], [Property: Topic.SemesterId (int) Required FK Index, 13], [Property: Topic.SupervisorId (int) Required FK Index, 14], [Property: Topic.Title (string) Required MaxLength(500), 15] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string), 18], [Property: User.CreatedAt (DateTime) Required, 19], [Property: User.DeletedAt (DateTime?), 20], [Property: User.Email (string), 21], [Property: User.EmailConfirmed (bool) Required, 22], [Property: User.LastModifiedAt (DateTime) Required, 23], [Property: User.LastModifiedBy (string), 24], [Property: User.LockoutEnabled (bool) Required, 25], [Property: User.LockoutEnd (DateTimeOffset?), 26], [Property: User.NormalizedEmail (string), 27], [Property: User.NormalizedUserName (string), 28], [Property: User.PasswordHash (string), 29], [Property: User.PhoneNumber (string), 30], [Property: User.PhoneNumberConfirmed (bool) Required, 31], [Property: User.SecurityStamp (string), 32], [Property: User.TwoFactorEnabled (bool) Required, 33], [Property: User.UserName (string), 34] }
            2 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 35], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 36], [Property: TopicCategory.CreatedBy (string), 37], [Property: TopicCategory.DeletedAt (DateTime?), 38], [Property: TopicCategory.Description (string), 39], [Property: TopicCategory.IsActive (bool) Required, 40], [Property: TopicCategory.LastModifiedAt (DateTime?), 41], [Property: TopicCategory.LastModifiedBy (string), 42], [Property: TopicCategory.Name (string) Required MaxLength(100), 43] }
            3 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 44], [Property: Semester.CreatedAt (DateTime) Required, 45], [Property: Semester.CreatedBy (string), 46], [Property: Semester.DeletedAt (DateTime?), 47], [Property: Semester.EndDate (DateTime) Required, 48], [Property: Semester.IsActive (bool) Required, 49], [Property: Semester.LastModifiedAt (DateTime?), 50], [Property: Semester.LastModifiedBy (string), 51], [Property: Semester.Name (string) Required Index MaxLength(50), 52], [Property: Semester.StartDate (DateTime) Required, 53] }
            4 -> 0
            5 -> 16
            6 -> 35
            7 -> 44
            8 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.ExpectedOutcomes (string), 60], [Property: TopicVersion.IsActive (bool) Required, 61], [Property: TopicVersion.LastModifiedAt (DateTime?), 62], [Property: TopicVersion.LastModifiedBy (string), 63], [Property: TopicVersion.Methodology (string), 64], [Property: TopicVersion.Objectives (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.Title (string) Required MaxLength(500), 70], [Property: TopicVersion.TopicId (int) Required FK Index, 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            9 -> 54
        SELECT t0.Id, t0.CategoryId, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.SemesterId, t0.SupervisorId, t0.Title, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, t1.Id, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.IsActive, t1.LastModifiedAt, t1.LastModifiedBy, t1.Name, s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate, t2.Id, t2.CreatedAt, t2.CreatedBy, t2.DeletedAt, t2.Description, t2.DocumentUrl, t2.ExpectedOutcomes, t2.IsActive, t2.LastModifiedAt, t2.LastModifiedBy, t2.Methodology, t2.Objectives, t2.Requirements, t2.Status, t2.SubmittedAt, t2.SubmittedBy, t2.Title, t2.TopicId, t2.VersionNumber
        FROM 
        (
            SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.SemesterId, t.SupervisorId, t.Title
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)
            ORDER BY t.CreatedAt DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY
        ) AS t0
        INNER JOIN users AS u ON t0.SupervisorId == u.Id
        LEFT JOIN topic_categories AS t1 ON t0.CategoryId == t1.Id
        INNER JOIN semesters AS s ON t0.SemesterId == s.Id
        LEFT JOIN topic_versions AS t2 ON t0.Id == t2.TopicId
        ORDER BY t0.CreatedAt DESC, t0.Id ASC, u.Id ASC, t1.Id ASC, s.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 17:14:14.078 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:14.078 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:14.078 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:14.078 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:14.078 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:14.078 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE 0 = 1
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:14:14.082 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE 0 = 1
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:14:14.082 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:14.083 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:14.083 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:14.083 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:14.085 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:14:14.086 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:14:14.086 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:14:14.087 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:14:14.087 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:14:14.122 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 149.0967ms
2025-07-11 17:14:14.123 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:14:14.124 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:14:14.125 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:14.125 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:14:14.126 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 211.2132ms
2025-07-11 17:14:17.801 +07:00 [DBG] Connection id "0HNE0CENRC8HD" received FIN.
2025-07-11 17:14:17.805 +07:00 [DBG] Connection id "0HNE0CENRC8HD" is closed. The last processed stream ID was 1.
2025-07-11 17:14:17.806 +07:00 [DBG] Connection id "0HNE0CENRC8HD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:14:17.806 +07:00 [DBG] The connection queue processing loop for 0HNE0CENRC8HD completed.
2025-07-11 17:14:17.810 +07:00 [DBG] Connection id "0HNE0CENRC8HD" stopped.
2025-07-11 17:14:18.892 +07:00 [DBG] Connection id "0HNE0CENRC8HE" accepted.
2025-07-11 17:14:18.893 +07:00 [DBG] Connection id "0HNE0CENRC8HE" started.
2025-07-11 17:14:18.911 +07:00 [DBG] Connection 0HNE0CENRC8HE established using the following protocol: "Tls12"
2025-07-11 17:14:18.912 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 17:14:18.934 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 22.0936ms
2025-07-11 17:14:19.053 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 17:14:19.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.9197ms
2025-07-11 17:14:22.800 +07:00 [DBG] Connection id "0HNE0CENRC8HE" received FIN.
2025-07-11 17:14:22.801 +07:00 [DBG] Connection id "0HNE0CENRC8HE" is closed. The last processed stream ID was 3.
2025-07-11 17:14:22.801 +07:00 [DBG] The connection queue processing loop for 0HNE0CENRC8HE completed.
2025-07-11 17:14:22.801 +07:00 [DBG] Connection id "0HNE0CENRC8HE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:14:22.801 +07:00 [DBG] Connection id "0HNE0CENRC8HE" stopped.
2025-07-11 17:14:37.265 +07:00 [DBG] Connection id "0HNE0CENRC8HF" accepted.
2025-07-11 17:14:37.267 +07:00 [DBG] Connection id "0HNE0CENRC8HF" started.
2025-07-11 17:14:37.297 +07:00 [DBG] Connection 0HNE0CENRC8HF established using the following protocol: "Tls12"
2025-07-11 17:14:37.299 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/auth/login - application/json 84
2025-07-11 17:14:37.299 +07:00 [DBG] POST requests are not supported
2025-07-11 17:14:37.299 +07:00 [DBG] POST requests are not supported
2025-07-11 17:14:37.300 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 17:14:37.300 +07:00 [INF] CORS policy execution successful.
2025-07-11 17:14:37.302 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-07-11 17:14:37.302 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-07-11 17:14:37.302 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 17:14:37.305 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-07-11 17:14:37.306 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 17:14:37.310 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Entities.DTOs.Auth.LoginDTO) on controller CapBot.api.Controllers.AuthController (CapBot.api).
2025-07-11 17:14:37.311 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:14:37.311 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:14:37.311 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:14:37.311 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:14:37.311 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:14:37.311 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 17:14:37.314 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 17:14:37.314 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 17:14:37.315 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' using the name '' in request data ...
2025-07-11 17:14:37.316 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 17:14:37.316 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 17:14:37.316 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 17:14:37.316 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 17:14:37.318 +07:00 [DBG] Connection id "0HNE0CENRC8HF", Request id "0HNE0CENRC8HF:00000001": started reading request body.
2025-07-11 17:14:37.318 +07:00 [DBG] Connection id "0HNE0CENRC8HF", Request id "0HNE0CENRC8HF:00000001": done reading request body.
2025-07-11 17:14:37.319 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Auth.LoginDTO'
2025-07-11 17:14:37.319 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 17:14:37.319 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 17:14:37.319 +07:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 17:14:37.320 +07:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 17:14:37.326 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:14:37.327 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:14:37.327 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:14:37.327 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:37.327 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:37.328 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:37.328 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:37.328 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:37.328 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:37.334 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:14:37.334 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:14:37.334 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:37.334 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:37.335 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:37.335 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:37.389 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-11 17:14:37.392 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Name
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        WHERE u.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 17:14:37.393 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:37.393 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:37.393 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:37.393 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:37.393 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:37.393 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 17:14:37.399 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 17:14:37.399 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:37.399 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:37.399 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:37.399 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:37.404 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:14:37.404 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:14:37.404 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:14:37.404 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:14:37.404 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:14:37.406 +07:00 [INF] Executed action CapBot.api.Controllers.AuthController.Login (CapBot.api) in 95.1508ms
2025-07-11 17:14:37.406 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 17:14:37.407 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:14:37.407 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:37.407 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:14:37.407 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/auth/login - 200 null application/json; charset=utf-8 108.2787ms
2025-07-11 17:14:37.803 +07:00 [DBG] Connection id "0HNE0CENRC8HF" received FIN.
2025-07-11 17:14:37.803 +07:00 [DBG] Connection id "0HNE0CENRC8HF" is closed. The last processed stream ID was 1.
2025-07-11 17:14:37.803 +07:00 [DBG] Connection id "0HNE0CENRC8HF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:14:37.803 +07:00 [DBG] The connection queue processing loop for 0HNE0CENRC8HF completed.
2025-07-11 17:14:37.803 +07:00 [DBG] Connection id "0HNE0CENRC8HF" stopped.
2025-07-11 17:14:53.118 +07:00 [DBG] Connection id "0HNE0CENRC8HG" accepted.
2025-07-11 17:14:53.119 +07:00 [DBG] Connection id "0HNE0CENRC8HG" started.
2025-07-11 17:14:53.139 +07:00 [DBG] Connection 0HNE0CENRC8HG established using the following protocol: "Tls12"
2025-07-11 17:14:53.140 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all - null null
2025-07-11 17:14:53.141 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:14:53.141 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:14:53.143 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 17:14:53.144 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 17:14:53.144 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:14:53.148 +07:00 [DBG] Successfully validated the token.
2025-07-11 17:14:53.148 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 17:14:53.150 +07:00 [DBG] Authorization was successful.
2025-07-11 17:14:53.150 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:14:53.150 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(App.Entities.DTOs.Topics.GetTopicsQueryDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 17:14:53.151 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:14:53.151 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:14:53.151 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:14:53.151 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:14:53.151 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:14:53.151 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:14:53.152 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:14:53.152 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:14:53.152 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' using the name '' in request data ...
2025-07-11 17:14:53.152 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-07-11 17:14:53.152 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:14:53.152 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:14:53.152 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]' using the name 'CategoryId' in request data ...
2025-07-11 17:14:53.152 +07:00 [DBG] Could not find a value in the request with name 'CategoryId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:14:53.152 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:14:53.152 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-07-11 17:14:53.153 +07:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:14:53.153 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:14:53.153 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-07-11 17:14:53.153 +07:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:14:53.153 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:14:53.153 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-07-11 17:14:53.153 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:14:53.153 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:14:53.153 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-07-11 17:14:53.153 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:14:53.153 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:14:53.153 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:14:53.153 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:14:53.153 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:14:53.153 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:14:53.155 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:14:53.156 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:14:53.156 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:14:53.157 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:53.157 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:53.157 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:53.157 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:53.157 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:53.157 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:14:53.161 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:14:53.161 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:53.161 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:53.161 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:53.161 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:53.163 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:53.163 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:53.163 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:14:53.163 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:53.163 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:14:53.163 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE 0 = 1
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:14:53.167 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE 0 = 1
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:14:53.168 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:14:53.168 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:14:53.168 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:53.168 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:14:53.168 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:14:53.168 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:14:53.168 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:14:53.169 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:14:53.169 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:14:53.169 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 18.298ms
2025-07-11 17:14:53.169 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:14:53.169 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:14:53.169 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:14:53.170 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:14:53.170 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all - 200 null application/json; charset=utf-8 29.4958ms
2025-07-11 17:14:57.804 +07:00 [DBG] Connection id "0HNE0CENRC8HG" received FIN.
2025-07-11 17:14:57.804 +07:00 [DBG] Connection id "0HNE0CENRC8HG" is closed. The last processed stream ID was 1.
2025-07-11 17:14:57.805 +07:00 [DBG] Connection id "0HNE0CENRC8HG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:14:57.805 +07:00 [DBG] The connection queue processing loop for 0HNE0CENRC8HG completed.
2025-07-11 17:14:57.805 +07:00 [DBG] Connection id "0HNE0CENRC8HG" stopped.
2025-07-11 17:15:01.077 +07:00 [DBG] Connection id "0HNE0CENRC8HH" accepted.
2025-07-11 17:15:01.078 +07:00 [DBG] Connection id "0HNE0CENRC8HH" started.
2025-07-11 17:15:01.098 +07:00 [DBG] Connection 0HNE0CENRC8HH established using the following protocol: "Tls12"
2025-07-11 17:15:01.099 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=100 - null null
2025-07-11 17:15:01.100 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:15:01.100 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:15:01.100 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 17:15:01.100 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 17:15:01.100 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:15:01.101 +07:00 [DBG] Successfully validated the token.
2025-07-11 17:15:01.101 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 17:15:01.103 +07:00 [DBG] Authorization was successful.
2025-07-11 17:15:01.103 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:15:01.103 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(App.Entities.DTOs.Topics.GetTopicsQueryDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 17:15:01.103 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:15:01.103 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:15:01.104 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:15:01.104 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:15:01.104 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:15:01.104 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:15:01.114 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:15:01.117 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:15:01.117 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' using the name '' in request data ...
2025-07-11 17:15:01.117 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-07-11 17:15:01.117 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:15:01.117 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:15:01.117 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]' using the name 'CategoryId' in request data ...
2025-07-11 17:15:01.117 +07:00 [DBG] Could not find a value in the request with name 'CategoryId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:15:01.118 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:15:01.118 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-07-11 17:15:01.118 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:15:01.118 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-07-11 17:15:01.118 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:15:01.118 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-07-11 17:15:01.118 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:15:01.118 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:15:01.118 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-07-11 17:15:01.118 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:15:01.118 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:15:01.119 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:15:01.119 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:15:01.119 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:15:01.119 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:15:01.120 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:15:01.120 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:15:01.120 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:15:01.120 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:15:01.120 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:15:01.120 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:15:01.121 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:15:01.121 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:15:01.121 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:15:01.124 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:15:01.124 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:15:01.124 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:15:01.124 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:15:01.125 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:15:01.125 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .OrderByDescending(x => x.CreatedAt)
    .Skip(__p_0)
    .Take(__p_1)'
2025-07-11 17:15:01.125 +07:00 [DBG] Including navigation: 'Topic.Supervisor'.
2025-07-11 17:15:01.126 +07:00 [DBG] Including navigation: 'Topic.Category'.
2025-07-11 17:15:01.126 +07:00 [DBG] Including navigation: 'Topic.Semester'.
2025-07-11 17:15:01.126 +07:00 [DBG] Including navigation: 'Topic.TopicVersions'.
2025-07-11 17:15:01.140 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CategoryId (int?) FK Index, 1], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Topic.CreatedBy (string), 3], [Property: Topic.DeletedAt (DateTime?), 4], [Property: Topic.Description (string), 5], [Property: Topic.IsActive (bool) Required, 6], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 7], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 8], [Property: Topic.LastModifiedAt (DateTime?), 9], [Property: Topic.LastModifiedBy (string), 10], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 11], [Property: Topic.Objectives (string), 12], [Property: Topic.SemesterId (int) Required FK Index, 13], [Property: Topic.SupervisorId (int) Required FK Index, 14], [Property: Topic.Title (string) Required MaxLength(500), 15] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string), 18], [Property: User.CreatedAt (DateTime) Required, 19], [Property: User.DeletedAt (DateTime?), 20], [Property: User.Email (string), 21], [Property: User.EmailConfirmed (bool) Required, 22], [Property: User.LastModifiedAt (DateTime) Required, 23], [Property: User.LastModifiedBy (string), 24], [Property: User.LockoutEnabled (bool) Required, 25], [Property: User.LockoutEnd (DateTimeOffset?), 26], [Property: User.NormalizedEmail (string), 27], [Property: User.NormalizedUserName (string), 28], [Property: User.PasswordHash (string), 29], [Property: User.PhoneNumber (string), 30], [Property: User.PhoneNumberConfirmed (bool) Required, 31], [Property: User.SecurityStamp (string), 32], [Property: User.TwoFactorEnabled (bool) Required, 33], [Property: User.UserName (string), 34] }
            2 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 35], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 36], [Property: TopicCategory.CreatedBy (string), 37], [Property: TopicCategory.DeletedAt (DateTime?), 38], [Property: TopicCategory.Description (string), 39], [Property: TopicCategory.IsActive (bool) Required, 40], [Property: TopicCategory.LastModifiedAt (DateTime?), 41], [Property: TopicCategory.LastModifiedBy (string), 42], [Property: TopicCategory.Name (string) Required MaxLength(100), 43] }
            3 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 44], [Property: Semester.CreatedAt (DateTime) Required, 45], [Property: Semester.CreatedBy (string), 46], [Property: Semester.DeletedAt (DateTime?), 47], [Property: Semester.EndDate (DateTime) Required, 48], [Property: Semester.IsActive (bool) Required, 49], [Property: Semester.LastModifiedAt (DateTime?), 50], [Property: Semester.LastModifiedBy (string), 51], [Property: Semester.Name (string) Required Index MaxLength(50), 52], [Property: Semester.StartDate (DateTime) Required, 53] }
            4 -> 0
            5 -> 16
            6 -> 35
            7 -> 44
            8 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.ExpectedOutcomes (string), 60], [Property: TopicVersion.IsActive (bool) Required, 61], [Property: TopicVersion.LastModifiedAt (DateTime?), 62], [Property: TopicVersion.LastModifiedBy (string), 63], [Property: TopicVersion.Methodology (string), 64], [Property: TopicVersion.Objectives (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.Title (string) Required MaxLength(500), 70], [Property: TopicVersion.TopicId (int) Required FK Index, 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            9 -> 54
        SELECT t0.Id, t0.CategoryId, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.SemesterId, t0.SupervisorId, t0.Title, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, t1.Id, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.IsActive, t1.LastModifiedAt, t1.LastModifiedBy, t1.Name, s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate, t2.Id, t2.CreatedAt, t2.CreatedBy, t2.DeletedAt, t2.Description, t2.DocumentUrl, t2.ExpectedOutcomes, t2.IsActive, t2.LastModifiedAt, t2.LastModifiedBy, t2.Methodology, t2.Objectives, t2.Requirements, t2.Status, t2.SubmittedAt, t2.SubmittedBy, t2.Title, t2.TopicId, t2.VersionNumber
        FROM 
        (
            SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.SemesterId, t.SupervisorId, t.Title
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)
            ORDER BY t.CreatedAt DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t0
        INNER JOIN users AS u ON t0.SupervisorId == u.Id
        LEFT JOIN topic_categories AS t1 ON t0.CategoryId == t1.Id
        INNER JOIN semesters AS s ON t0.SemesterId == s.Id
        LEFT JOIN topic_versions AS t2 ON t0.Id == t2.TopicId
        ORDER BY t0.CreatedAt DESC, t0.Id ASC, u.Id ASC, t1.Id ASC, s.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 17:15:01.141 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:15:01.141 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:15:01.141 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:15:01.141 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:15:01.141 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:15:01.141 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:15:01.178 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:15:01.184 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:15:01.185 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 6ms reading results.
2025-07-11 17:15:01.185 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:15:01.185 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:15:01.186 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:15:01.186 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:15:01.186 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:15:01.187 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:15:01.187 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:15:01.189 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 84.6466ms
2025-07-11 17:15:01.189 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:15:01.189 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:15:01.189 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:15:01.189 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:15:01.189 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=100 - 200 null application/json; charset=utf-8 89.4969ms
2025-07-11 17:15:02.806 +07:00 [DBG] Connection id "0HNE0CENRC8HH" received FIN.
2025-07-11 17:15:02.808 +07:00 [DBG] Connection id "0HNE0CENRC8HH" is closed. The last processed stream ID was 1.
2025-07-11 17:15:02.808 +07:00 [DBG] Connection id "0HNE0CENRC8HH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:15:02.809 +07:00 [DBG] The connection queue processing loop for 0HNE0CENRC8HH completed.
2025-07-11 17:15:02.809 +07:00 [DBG] Connection id "0HNE0CENRC8HH" stopped.
2025-07-11 17:17:17.787 +07:00 [DBG] Hosting stopping
2025-07-11 17:17:17.784 +07:00 [INF] Application is shutting down...
2025-07-11 17:17:17.800 +07:00 [DBG] Hosting stopped
2025-07-11 17:17:20.360 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 17:17:20.405 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 17:17:20.505 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.513 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.518 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.519 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.519 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.519 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.599 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.600 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.608 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.608 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.609 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.609 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.611 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.611 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 17:17:20.624 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 17:17:20.693 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.694 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:17:20.764 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:17:20.790 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 17:17:20.856 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:17:20.870 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:17:20.876 +07:00 [DBG] Created DbConnection. (5ms).
2025-07-11 17:17:20.878 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:20.984 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:20.985 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:20.988 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 17:17:20.990 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-07-11 17:17:20.993 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:17:21.015 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:17:21.029 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:17:21.037 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.039 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 22ms reading results.
2025-07-11 17:17:21.040 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.042 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 17:17:21.043 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.043 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.043 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:21.043 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.043 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.043 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:17:21.046 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:17:21.046 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:17:21.046 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.046 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:17:21.047 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.047 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:17:21.047 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.047 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.047 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:21.047 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.047 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.047 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:17:21.049 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:17:21.049 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:17:21.049 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.049 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:17:21.049 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.049 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:17:21.049 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.049 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.049 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:21.049 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.049 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.050 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:17:21.052 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:17:21.052 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:17:21.052 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.052 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:17:21.052 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.052 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:17:21.054 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 17:17:21.057 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:17:21.057 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.057 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.057 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:21.057 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.057 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.058 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:17:21.061 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:17:21.068 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:17:21.077 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.077 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 16ms reading results.
2025-07-11 17:17:21.077 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.078 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:17:21.078 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 17:17:21.080 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.080 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.080 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:21.080 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.080 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.080 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:17:21.084 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:17:21.084 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:17:21.084 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.084 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:17:21.084 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.084 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:17:21.085 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 17:17:21.085 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.085 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.085 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:21.085 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.085 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.085 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:17:21.087 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:17:21.087 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:17:21.087 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.087 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:17:21.087 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.087 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:17:21.088 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.088 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.088 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:21.088 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.088 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:21.088 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:17:21.091 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:17:21.091 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:17:21.091 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.092 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:17:21.092 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.092 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:17:21.092 +07:00 [INF] Data seeding completed successfully
2025-07-11 17:17:21.092 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:17:21.093 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:21.093 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:17:21.215 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 17:17:21.261 +07:00 [DBG] Hosting starting
2025-07-11 17:17:21.263 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 17:17:21.265 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 17:17:21.265 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 17:17:21.268 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 17:17:21.269 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 17:17:21.269 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 17:17:21.271 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 17:17:21.272 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 17:17:21.272 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 17:17:21.272 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 17:17:21.273 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 17:17:21.273 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 17:17:21.440 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 17:17:21.440 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 17:17:21.441 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 17:17:21.441 +07:00 [INF] Hosting environment: Development
2025-07-11 17:17:21.441 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 17:17:21.441 +07:00 [DBG] Hosting started
2025-07-11 17:17:25.807 +07:00 [DBG] Connection id "0HNE0CGH1PU2L" accepted.
2025-07-11 17:17:25.809 +07:00 [DBG] Connection id "0HNE0CGH1PU2L" started.
2025-07-11 17:17:25.843 +07:00 [DBG] Connection 0HNE0CGH1PU2L established using the following protocol: "Tls12"
2025-07-11 17:17:25.868 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=100 - null null
2025-07-11 17:17:25.868 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 17:17:25.877 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:17:25.877 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:17:25.885 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 17:17:25.885 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 17:17:25.886 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:17:25.914 +07:00 [DBG] Successfully validated the token.
2025-07-11 17:17:25.914 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 17:17:25.916 +07:00 [DBG] Authorization was successful.
2025-07-11 17:17:25.918 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:17:25.924 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(App.Entities.DTOs.Topics.GetTopicsQueryDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 17:17:25.924 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:17:25.925 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:17:25.925 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:17:25.925 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:17:25.925 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:17:25.925 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:17:25.927 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:17:25.929 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:17:25.929 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' using the name '' in request data ...
2025-07-11 17:17:25.930 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-07-11 17:17:25.930 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:17:25.930 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:17:25.931 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]' using the name 'CategoryId' in request data ...
2025-07-11 17:17:25.931 +07:00 [DBG] Could not find a value in the request with name 'CategoryId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:17:25.931 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:17:25.931 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-07-11 17:17:25.931 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:17:25.931 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-07-11 17:17:25.931 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:17:25.931 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-07-11 17:17:25.931 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:17:25.931 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:17:25.931 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-07-11 17:17:25.931 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:17:25.931 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:17:25.932 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:17:25.932 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:17:25.932 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:17:25.933 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:17:25.949 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:17:25.952 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .Count()'
2025-07-11 17:17:25.967 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:17:25.971 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:17:25.971 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:17:25.971 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:25.971 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:25.971 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:25.971 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:25.971 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:25.971 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:17:25.988 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:17:25.988 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:25.988 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:17:25.988 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:25.988 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:17:25.990 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .OrderByDescending(x => x.CreatedAt)
    .Skip(__p_0)
    .Take(__p_1)'
2025-07-11 17:17:25.993 +07:00 [DBG] Including navigation: 'Topic.Supervisor'.
2025-07-11 17:17:25.994 +07:00 [DBG] Including navigation: 'Topic.Category'.
2025-07-11 17:17:25.994 +07:00 [DBG] Including navigation: 'Topic.Semester'.
2025-07-11 17:17:25.994 +07:00 [DBG] Including navigation: 'Topic.TopicVersions'.
2025-07-11 17:17:26.021 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CategoryId (int?) FK Index, 1], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Topic.CreatedBy (string), 3], [Property: Topic.DeletedAt (DateTime?), 4], [Property: Topic.Description (string), 5], [Property: Topic.IsActive (bool) Required, 6], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 7], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 8], [Property: Topic.LastModifiedAt (DateTime?), 9], [Property: Topic.LastModifiedBy (string), 10], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 11], [Property: Topic.Objectives (string), 12], [Property: Topic.SemesterId (int) Required FK Index, 13], [Property: Topic.SupervisorId (int) Required FK Index, 14], [Property: Topic.Title (string) Required MaxLength(500), 15] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string), 18], [Property: User.CreatedAt (DateTime) Required, 19], [Property: User.DeletedAt (DateTime?), 20], [Property: User.Email (string), 21], [Property: User.EmailConfirmed (bool) Required, 22], [Property: User.LastModifiedAt (DateTime) Required, 23], [Property: User.LastModifiedBy (string), 24], [Property: User.LockoutEnabled (bool) Required, 25], [Property: User.LockoutEnd (DateTimeOffset?), 26], [Property: User.NormalizedEmail (string), 27], [Property: User.NormalizedUserName (string), 28], [Property: User.PasswordHash (string), 29], [Property: User.PhoneNumber (string), 30], [Property: User.PhoneNumberConfirmed (bool) Required, 31], [Property: User.SecurityStamp (string), 32], [Property: User.TwoFactorEnabled (bool) Required, 33], [Property: User.UserName (string), 34] }
            2 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 35], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 36], [Property: TopicCategory.CreatedBy (string), 37], [Property: TopicCategory.DeletedAt (DateTime?), 38], [Property: TopicCategory.Description (string), 39], [Property: TopicCategory.IsActive (bool) Required, 40], [Property: TopicCategory.LastModifiedAt (DateTime?), 41], [Property: TopicCategory.LastModifiedBy (string), 42], [Property: TopicCategory.Name (string) Required MaxLength(100), 43] }
            3 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 44], [Property: Semester.CreatedAt (DateTime) Required, 45], [Property: Semester.CreatedBy (string), 46], [Property: Semester.DeletedAt (DateTime?), 47], [Property: Semester.EndDate (DateTime) Required, 48], [Property: Semester.IsActive (bool) Required, 49], [Property: Semester.LastModifiedAt (DateTime?), 50], [Property: Semester.LastModifiedBy (string), 51], [Property: Semester.Name (string) Required Index MaxLength(50), 52], [Property: Semester.StartDate (DateTime) Required, 53] }
            4 -> 0
            5 -> 16
            6 -> 35
            7 -> 44
            8 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.ExpectedOutcomes (string), 60], [Property: TopicVersion.IsActive (bool) Required, 61], [Property: TopicVersion.LastModifiedAt (DateTime?), 62], [Property: TopicVersion.LastModifiedBy (string), 63], [Property: TopicVersion.Methodology (string), 64], [Property: TopicVersion.Objectives (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.Title (string) Required MaxLength(500), 70], [Property: TopicVersion.TopicId (int) Required FK Index, 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            9 -> 54
        SELECT t0.Id, t0.CategoryId, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.SemesterId, t0.SupervisorId, t0.Title, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, t1.Id, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.IsActive, t1.LastModifiedAt, t1.LastModifiedBy, t1.Name, s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate, t2.Id, t2.CreatedAt, t2.CreatedBy, t2.DeletedAt, t2.Description, t2.DocumentUrl, t2.ExpectedOutcomes, t2.IsActive, t2.LastModifiedAt, t2.LastModifiedBy, t2.Methodology, t2.Objectives, t2.Requirements, t2.Status, t2.SubmittedAt, t2.SubmittedBy, t2.Title, t2.TopicId, t2.VersionNumber
        FROM 
        (
            SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.SemesterId, t.SupervisorId, t.Title
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)
            ORDER BY t.CreatedAt DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t0
        INNER JOIN users AS u ON t0.SupervisorId == u.Id
        LEFT JOIN topic_categories AS t1 ON t0.CategoryId == t1.Id
        INNER JOIN semesters AS s ON t0.SemesterId == s.Id
        LEFT JOIN topic_versions AS t2 ON t0.Id == t2.TopicId
        ORDER BY t0.CreatedAt DESC, t0.Id ASC, u.Id ASC, t1.Id ASC, s.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 17:17:26.024 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:26.024 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:26.024 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:17:26.024 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:26.024 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:17:26.024 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:17:26.035 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:17:26.038 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:17:26.038 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 2ms reading results.
2025-07-11 17:17:26.038 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:26.038 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:17:26.040 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:17:26.040 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:17:26.040 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:17:26.041 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:17:26.041 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:17:26.073 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 147.5877ms
2025-07-11 17:17:26.074 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:17:26.075 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:17:26.075 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:17:26.075 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:17:26.076 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=100 - 200 null application/json; charset=utf-8 208.9237ms
2025-07-11 17:17:27.832 +07:00 [DBG] Connection id "0HNE0CGH1PU2L" received FIN.
2025-07-11 17:17:27.835 +07:00 [DBG] Connection id "0HNE0CGH1PU2L" is closed. The last processed stream ID was 1.
2025-07-11 17:17:27.836 +07:00 [DBG] Connection id "0HNE0CGH1PU2L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:17:27.836 +07:00 [DBG] The connection queue processing loop for 0HNE0CGH1PU2L completed.
2025-07-11 17:17:27.840 +07:00 [DBG] Connection id "0HNE0CGH1PU2L" stopped.
2025-07-11 17:18:47.282 +07:00 [INF] Application is shutting down...
2025-07-11 17:18:47.283 +07:00 [DBG] Hosting stopping
2025-07-11 17:18:47.293 +07:00 [DBG] Hosting stopped
2025-07-11 17:18:58.364 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 17:18:58.422 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 17:18:58.523 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.531 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.536 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.537 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.537 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.537 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.614 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.615 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.622 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.622 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.623 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.623 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.625 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.625 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 17:18:58.637 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 17:18:58.638 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 17:18:58.638 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 17:18:58.696 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.696 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.696 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.696 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.696 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.696 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.696 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.696 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.697 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.697 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.697 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 17:18:58.756 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:18:58.783 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 17:18:58.850 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:18:58.864 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:18:58.871 +07:00 [DBG] Created DbConnection. (5ms).
2025-07-11 17:18:58.872 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:58.980 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:58.981 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:18:58.983 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:58.986 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-07-11 17:18:58.988 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:18:59.013 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:18:59.028 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:18:59.035 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.037 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 23ms reading results.
2025-07-11 17:18:59.038 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.040 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 17:18:59.041 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.041 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.041 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:18:59.042 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.042 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.042 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:18:59.046 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:18:59.046 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:18:59.046 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.046 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:18:59.046 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.046 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:18:59.046 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.046 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.046 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:18:59.046 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.047 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.047 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:18:59.050 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:18:59.050 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:18:59.050 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.050 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:18:59.050 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.050 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:18:59.050 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.050 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.050 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:18:59.050 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.050 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.050 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:18:59.053 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 17:18:59.053 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:18:59.053 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.053 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:18:59.053 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.053 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:18:59.056 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 17:18:59.058 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:18:59.059 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.059 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.059 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:18:59.059 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.059 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.059 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:18:59.063 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:18:59.070 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:18:59.080 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.081 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 17ms reading results.
2025-07-11 17:18:59.081 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.081 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:18:59.081 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 17:18:59.083 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.083 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.083 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:18:59.083 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.083 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.083 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:18:59.086 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:18:59.086 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:18:59.086 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.086 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:18:59.086 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.086 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:18:59.086 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 17:18:59.086 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.087 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.087 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:18:59.087 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.087 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.087 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:18:59.089 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:18:59.089 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:18:59.089 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.089 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:18:59.089 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.089 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:18:59.089 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.090 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.090 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:18:59.090 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.090 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:18:59.090 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:18:59.092 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 17:18:59.092 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 17:18:59.092 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.092 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:18:59.092 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.092 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:18:59.092 +07:00 [INF] Data seeding completed successfully
2025-07-11 17:18:59.093 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:18:59.094 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:18:59.094 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:18:59.161 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 17:18:59.195 +07:00 [DBG] Hosting starting
2025-07-11 17:18:59.197 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 17:18:59.197 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 17:18:59.198 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 17:18:59.199 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 17:18:59.200 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 17:18:59.200 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 17:18:59.202 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 17:18:59.203 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 17:18:59.203 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 17:18:59.204 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 17:18:59.204 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 17:18:59.204 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 17:18:59.348 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 17:18:59.348 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 17:18:59.348 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 17:18:59.348 +07:00 [INF] Hosting environment: Development
2025-07-11 17:18:59.349 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 17:18:59.349 +07:00 [DBG] Hosting started
2025-07-11 17:19:02.544 +07:00 [DBG] Connection id "0HNE0CHDSBVJ7" accepted.
2025-07-11 17:19:02.545 +07:00 [DBG] Connection id "0HNE0CHDSBVJ7" started.
2025-07-11 17:19:02.573 +07:00 [DBG] Connection 0HNE0CHDSBVJ7 established using the following protocol: "Tls12"
2025-07-11 17:19:02.599 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=100 - null null
2025-07-11 17:19:02.600 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 17:19:02.610 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:19:02.610 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:19:02.620 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 17:19:02.621 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 17:19:02.621 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:19:02.657 +07:00 [DBG] Successfully validated the token.
2025-07-11 17:19:02.658 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 17:19:02.660 +07:00 [DBG] Authorization was successful.
2025-07-11 17:19:02.663 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:19:02.673 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(App.Entities.DTOs.Topics.GetTopicsQueryDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 17:19:02.674 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:19:02.674 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:19:02.675 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:19:02.675 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:19:02.675 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:19:02.676 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:19:02.677 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:19:02.680 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:19:02.682 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' using the name '' in request data ...
2025-07-11 17:19:02.683 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-07-11 17:19:02.683 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:02.683 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:02.684 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]' using the name 'CategoryId' in request data ...
2025-07-11 17:19:02.684 +07:00 [DBG] Could not find a value in the request with name 'CategoryId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:02.684 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:02.684 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-07-11 17:19:02.684 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:19:02.684 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-07-11 17:19:02.684 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:19:02.684 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-07-11 17:19:02.684 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:19:02.684 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:19:02.684 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-07-11 17:19:02.684 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:19:02.684 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:19:02.685 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:19:02.685 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:19:02.685 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:19:02.687 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:19:02.707 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:19:02.712 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .Count()'
2025-07-11 17:19:02.731 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 17:19:02.736 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:19:02.736 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:19:02.736 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:02.736 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:02.736 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:19:02.737 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:02.737 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:02.738 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:19:02.742 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:19:02.743 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:19:02.743 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:19:02.743 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:02.743 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:19:02.746 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.IsActive && x.DeletedAt == null)
    .OrderByDescending(x => x.CreatedAt)
    .Skip(__p_0)
    .Take(__p_1)'
2025-07-11 17:19:02.749 +07:00 [DBG] Including navigation: 'Topic.Supervisor'.
2025-07-11 17:19:02.751 +07:00 [DBG] Including navigation: 'Topic.Category'.
2025-07-11 17:19:02.751 +07:00 [DBG] Including navigation: 'Topic.Semester'.
2025-07-11 17:19:02.752 +07:00 [DBG] Including navigation: 'Topic.TopicVersions'.
2025-07-11 17:19:02.786 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Topic>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CategoryId (int?) FK Index, 1], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Topic.CreatedBy (string), 3], [Property: Topic.DeletedAt (DateTime?), 4], [Property: Topic.Description (string), 5], [Property: Topic.IsActive (bool) Required, 6], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 7], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 8], [Property: Topic.LastModifiedAt (DateTime?), 9], [Property: Topic.LastModifiedBy (string), 10], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 11], [Property: Topic.Objectives (string), 12], [Property: Topic.SemesterId (int) Required FK Index, 13], [Property: Topic.SupervisorId (int) Required FK Index, 14], [Property: Topic.Title (string) Required MaxLength(500), 15] }
            1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string), 18], [Property: User.CreatedAt (DateTime) Required, 19], [Property: User.DeletedAt (DateTime?), 20], [Property: User.Email (string), 21], [Property: User.EmailConfirmed (bool) Required, 22], [Property: User.LastModifiedAt (DateTime) Required, 23], [Property: User.LastModifiedBy (string), 24], [Property: User.LockoutEnabled (bool) Required, 25], [Property: User.LockoutEnd (DateTimeOffset?), 26], [Property: User.NormalizedEmail (string), 27], [Property: User.NormalizedUserName (string), 28], [Property: User.PasswordHash (string), 29], [Property: User.PhoneNumber (string), 30], [Property: User.PhoneNumberConfirmed (bool) Required, 31], [Property: User.SecurityStamp (string), 32], [Property: User.TwoFactorEnabled (bool) Required, 33], [Property: User.UserName (string), 34] }
            2 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 35], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 36], [Property: TopicCategory.CreatedBy (string), 37], [Property: TopicCategory.DeletedAt (DateTime?), 38], [Property: TopicCategory.Description (string), 39], [Property: TopicCategory.IsActive (bool) Required, 40], [Property: TopicCategory.LastModifiedAt (DateTime?), 41], [Property: TopicCategory.LastModifiedBy (string), 42], [Property: TopicCategory.Name (string) Required MaxLength(100), 43] }
            3 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 44], [Property: Semester.CreatedAt (DateTime) Required, 45], [Property: Semester.CreatedBy (string), 46], [Property: Semester.DeletedAt (DateTime?), 47], [Property: Semester.EndDate (DateTime) Required, 48], [Property: Semester.IsActive (bool) Required, 49], [Property: Semester.LastModifiedAt (DateTime?), 50], [Property: Semester.LastModifiedBy (string), 51], [Property: Semester.Name (string) Required Index MaxLength(50), 52], [Property: Semester.StartDate (DateTime) Required, 53] }
            4 -> 0
            5 -> 16
            6 -> 35
            7 -> 44
            8 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.ExpectedOutcomes (string), 60], [Property: TopicVersion.IsActive (bool) Required, 61], [Property: TopicVersion.LastModifiedAt (DateTime?), 62], [Property: TopicVersion.LastModifiedBy (string), 63], [Property: TopicVersion.Methodology (string), 64], [Property: TopicVersion.Objectives (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.Title (string) Required MaxLength(500), 70], [Property: TopicVersion.TopicId (int) Required FK Index, 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
            9 -> 54
        SELECT t0.Id, t0.CategoryId, t0.CreatedAt, t0.CreatedBy, t0.DeletedAt, t0.Description, t0.IsActive, t0.IsApproved, t0.IsLegacy, t0.LastModifiedAt, t0.LastModifiedBy, t0.MaxStudents, t0.Objectives, t0.SemesterId, t0.SupervisorId, t0.Title, u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, t1.Id, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.IsActive, t1.LastModifiedAt, t1.LastModifiedBy, t1.Name, s.Id, s.CreatedAt, s.CreatedBy, s.DeletedAt, s.EndDate, s.IsActive, s.LastModifiedAt, s.LastModifiedBy, s.Name, s.StartDate, t2.Id, t2.CreatedAt, t2.CreatedBy, t2.DeletedAt, t2.Description, t2.DocumentUrl, t2.ExpectedOutcomes, t2.IsActive, t2.LastModifiedAt, t2.LastModifiedBy, t2.Methodology, t2.Objectives, t2.Requirements, t2.Status, t2.SubmittedAt, t2.SubmittedBy, t2.Title, t2.TopicId, t2.VersionNumber
        FROM 
        (
            SELECT t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.SemesterId, t.SupervisorId, t.Title
            FROM topics AS t
            WHERE t.IsActive && (t.DeletedAt == NULL)
            ORDER BY t.CreatedAt DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t0
        INNER JOIN users AS u ON t0.SupervisorId == u.Id
        LEFT JOIN topic_categories AS t1 ON t0.CategoryId == t1.Id
        INNER JOIN semesters AS s ON t0.SemesterId == s.Id
        LEFT JOIN topic_versions AS t2 ON t0.Id == t2.TopicId
        ORDER BY t0.CreatedAt DESC, t0.Id ASC, u.Id ASC, t1.Id ASC, s.Id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 17:19:02.790 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:02.790 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:02.790 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:19:02.790 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:02.790 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:02.791 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:19:02.797 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:19:02.802 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:19:02.802 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 4ms reading results.
2025-07-11 17:19:02.802 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:02.802 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:19:02.804 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:19:02.805 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:19:02.805 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:19:02.806 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:19:02.806 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:19:02.849 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 172.3156ms
2025-07-11 17:19:02.850 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:19:02.851 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:19:02.852 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:02.852 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:19:02.853 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=100 - 200 null application/json; charset=utf-8 254.2787ms
2025-07-11 17:19:07.110 +07:00 [DBG] Connection id "0HNE0CHDSBVJ7" received FIN.
2025-07-11 17:19:07.111 +07:00 [DBG] Connection id "0HNE0CHDSBVJ7" is closed. The last processed stream ID was 1.
2025-07-11 17:19:07.111 +07:00 [DBG] Connection id "0HNE0CHDSBVJ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:19:07.112 +07:00 [DBG] The connection queue processing loop for 0HNE0CHDSBVJ7 completed.
2025-07-11 17:19:07.114 +07:00 [DBG] Connection id "0HNE0CHDSBVJ7" stopped.
2025-07-11 17:19:16.003 +07:00 [DBG] Connection id "0HNE0CHDSBVJ8" accepted.
2025-07-11 17:19:16.004 +07:00 [DBG] Connection id "0HNE0CHDSBVJ8" started.
2025-07-11 17:19:16.038 +07:00 [DBG] Connection 0HNE0CHDSBVJ8 established using the following protocol: "Tls12"
2025-07-11 17:19:16.040 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=1 - null null
2025-07-11 17:19:16.042 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:19:16.043 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:19:16.045 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 17:19:16.045 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 17:19:16.046 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:19:16.049 +07:00 [DBG] Successfully validated the token.
2025-07-11 17:19:16.050 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 17:19:16.051 +07:00 [DBG] Authorization was successful.
2025-07-11 17:19:16.052 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:19:16.052 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(App.Entities.DTOs.Topics.GetTopicsQueryDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 17:19:16.052 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:19:16.052 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:19:16.052 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:19:16.052 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:19:16.053 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:19:16.053 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:19:16.054 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:19:16.055 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:19:16.055 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' using the name '' in request data ...
2025-07-11 17:19:16.055 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-07-11 17:19:16.055 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:16.055 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:16.056 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]' using the name 'CategoryId' in request data ...
2025-07-11 17:19:16.056 +07:00 [DBG] Could not find a value in the request with name 'CategoryId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:16.056 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:16.056 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-07-11 17:19:16.056 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:19:16.056 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-07-11 17:19:16.056 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:19:16.056 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-07-11 17:19:16.056 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:19:16.056 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:19:16.056 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-07-11 17:19:16.056 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:19:16.056 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:19:16.057 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:19:16.057 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:19:16.057 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:19:16.057 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:19:16.064 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:19:16.066 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:19:16.066 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:19:16.066 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:16.066 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:16.066 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:19:16.067 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:16.067 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:16.067 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:19:16.087 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:19:16.088 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:19:16.088 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:19:16.088 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:16.088 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:19:16.090 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:16.090 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:16.090 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:19:16.090 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:16.090 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:16.091 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:19:16.096 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:19:16.097 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:19:16.097 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:19:16.097 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:16.098 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:19:16.098 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:19:16.098 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:19:16.098 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:19:16.098 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:19:16.098 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:19:16.099 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 46.4452ms
2025-07-11 17:19:16.099 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:19:16.099 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:19:16.100 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:16.100 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:19:16.100 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=1 - 200 null application/json; charset=utf-8 60.4936ms
2025-07-11 17:19:17.844 +07:00 [DBG] Connection id "0HNE0CHDSBVJ8" received FIN.
2025-07-11 17:19:17.844 +07:00 [DBG] Connection id "0HNE0CHDSBVJ8" is closed. The last processed stream ID was 1.
2025-07-11 17:19:17.844 +07:00 [DBG] Connection id "0HNE0CHDSBVJ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:19:17.844 +07:00 [DBG] The connection queue processing loop for 0HNE0CHDSBVJ8 completed.
2025-07-11 17:19:17.845 +07:00 [DBG] Connection id "0HNE0CHDSBVJ8" stopped.
2025-07-11 17:19:23.001 +07:00 [DBG] Connection id "0HNE0CHDSBVJ9" accepted.
2025-07-11 17:19:23.001 +07:00 [DBG] Connection id "0HNE0CHDSBVJ9" started.
2025-07-11 17:19:23.018 +07:00 [DBG] Connection 0HNE0CHDSBVJ9 established using the following protocol: "Tls12"
2025-07-11 17:19:23.019 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=2 - null null
2025-07-11 17:19:23.020 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:19:23.020 +07:00 [DBG] The request path /api/topic/all does not match a supported file type
2025-07-11 17:19:23.020 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/all'
2025-07-11 17:19:23.020 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)' with route pattern 'api/topic/all' is valid for the request path '/api/topic/all'
2025-07-11 17:19:23.020 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:19:23.024 +07:00 [DBG] Successfully validated the token.
2025-07-11 17:19:23.025 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 17:19:23.026 +07:00 [DBG] Authorization was successful.
2025-07-11 17:19:23.026 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:19:23.026 +07:00 [INF] Route matched with {action = "GetAll", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(App.Entities.DTOs.Topics.GetTopicsQueryDTO) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 17:19:23.027 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 17:19:23.027 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 17:19:23.027 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 17:19:23.027 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 17:19:23.027 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 17:19:23.027 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:19:23.038 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 17:19:23.039 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:19:23.039 +07:00 [DBG] Attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' using the name '' in request data ...
2025-07-11 17:19:23.039 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]' using the name 'SemesterId' in request data ...
2025-07-11 17:19:23.039 +07:00 [DBG] Could not find a value in the request with name 'SemesterId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:23.039 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.SemesterId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:23.039 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]' using the name 'CategoryId' in request data ...
2025-07-11 17:19:23.039 +07:00 [DBG] Could not find a value in the request with name 'CategoryId' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:23.039 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.CategoryId' of type 'System.Nullable`1[System.Int32]'.
2025-07-11 17:19:23.039 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2025-07-11 17:19:23.039 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageNumber' of type 'System.Int32'.
2025-07-11 17:19:23.039 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-07-11 17:19:23.039 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.PageSize' of type 'System.Int32'.
2025-07-11 17:19:23.039 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String' using the name 'Keyword' in request data ...
2025-07-11 17:19:23.039 +07:00 [DBG] Could not find a value in the request with name 'Keyword' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:19:23.039 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.Keyword' of type 'System.String'.
2025-07-11 17:19:23.039 +07:00 [DBG] Attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32' using the name 'TotalRecord' in request data ...
2025-07-11 17:19:23.039 +07:00 [DBG] Could not find a value in the request with name 'TotalRecord' for binding property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:19:23.039 +07:00 [DBG] Done attempting to bind property 'App.Entities.DTOs.Topics.GetTopicsQueryDTO.TotalRecord' of type 'System.Int32'.
2025-07-11 17:19:23.039 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:19:23.039 +07:00 [DBG] Done attempting to bind parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:19:23.039 +07:00 [DBG] Attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO' ...
2025-07-11 17:19:23.040 +07:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'App.Entities.DTOs.Topics.GetTopicsQueryDTO'.
2025-07-11 17:19:23.041 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 17:19:23.041 +07:00 [DBG] Creating DbConnection.
2025-07-11 17:19:23.041 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 17:19:23.041 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:23.041 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:23.041 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:19:23.041 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:23.041 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:23.041 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:19:23.044 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [topics] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
2025-07-11 17:19:23.044 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:19:23.044 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:19:23.044 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:23.044 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:19:23.045 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:23.045 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:23.045 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 17:19:23.045 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:23.045 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 17:19:23.045 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:19:23.048 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t0].[Id], [t0].[CategoryId], [t0].[CreatedAt], [t0].[CreatedBy], [t0].[DeletedAt], [t0].[Description], [t0].[IsActive], [t0].[IsApproved], [t0].[IsLegacy], [t0].[LastModifiedAt], [t0].[LastModifiedBy], [t0].[MaxStudents], [t0].[Objectives], [t0].[SemesterId], [t0].[SupervisorId], [t0].[Title], [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t1].[Id], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[Name], [s].[Id], [s].[CreatedAt], [s].[CreatedBy], [s].[DeletedAt], [s].[EndDate], [s].[IsActive], [s].[LastModifiedAt], [s].[LastModifiedBy], [s].[Name], [s].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title]
    FROM [topics] AS [t]
    WHERE [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
    ORDER BY [t].[CreatedAt] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t0]
INNER JOIN [users] AS [u] ON [t0].[SupervisorId] = [u].[Id]
LEFT JOIN [topic_categories] AS [t1] ON [t0].[CategoryId] = [t1].[Id]
INNER JOIN [semesters] AS [s] ON [t0].[SemesterId] = [s].[Id]
LEFT JOIN [topic_versions] AS [t2] ON [t0].[Id] = [t2].[TopicId]
ORDER BY [t0].[CreatedAt] DESC, [t0].[Id], [u].[Id], [t1].[Id], [s].[Id]
2025-07-11 17:19:23.049 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 17:19:23.049 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 17:19:23.049 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:23.049 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 17:19:23.050 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 17:19:23.050 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 17:19:23.050 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 17:19:23.050 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 17:19:23.050 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 17:19:23.050 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetAll (CapBot.api) in 23.1946ms
2025-07-11 17:19:23.050 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetAll (CapBot.api)'
2025-07-11 17:19:23.050 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 17:19:23.050 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 17:19:23.050 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 17:19:23.050 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/all?PageNumber=1&PageSize=2 - 200 null application/json; charset=utf-8 31.7194ms
2025-07-11 17:19:27.846 +07:00 [DBG] Connection id "0HNE0CHDSBVJ9" received FIN.
2025-07-11 17:19:27.847 +07:00 [DBG] Connection id "0HNE0CHDSBVJ9" is closed. The last processed stream ID was 1.
2025-07-11 17:19:27.847 +07:00 [DBG] The connection queue processing loop for 0HNE0CHDSBVJ9 completed.
2025-07-11 17:19:27.847 +07:00 [DBG] Connection id "0HNE0CHDSBVJ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 17:19:27.848 +07:00 [DBG] Connection id "0HNE0CHDSBVJ9" stopped.
2025-07-11 17:19:49.415 +07:00 [INF] Application is shutting down...
2025-07-11 17:19:49.415 +07:00 [DBG] Hosting stopping
2025-07-11 17:19:49.421 +07:00 [DBG] Hosting stopped
2025-07-11 22:18:13.810 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-11 22:18:13.886 +07:00 [INF] User profile is available. Using '/Users/tamnguyen/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-07-11 22:18:14.012 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.029 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.041 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.048 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.048 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.054 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.296 +07:00 [DBG] No relationship from 'ReviewerAssignment' to 'User' has been configured by convention because there are multiple properties on one entity type - {'AssignedByUser', 'Reviewer'} that could be matched with the properties on the other entity type - {'ReviewerAssignments'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.297 +07:00 [DBG] No relationship from 'User' to 'ReviewerAssignment' has been configured by convention because there are multiple properties on one entity type - {'ReviewerAssignments'} that could be matched with the properties on the other entity type - {'AssignedByUser', 'Reviewer'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.309 +07:00 [DBG] No relationship from 'WorkflowTransition' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromTransitions', 'ToTransitions'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.310 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.310 +07:00 [DBG] No relationship from 'WorkflowState' to 'WorkflowTransition' has been configured by convention because there are multiple properties on one entity type - {'FromTransitions', 'ToTransitions'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.310 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.315 +07:00 [DBG] No relationship from 'SubmissionWorkflowLog' to 'WorkflowState' has been configured by convention because there are multiple properties on one entity type - {'FromState', 'ToState'} that could be matched with the properties on the other entity type - {'FromStateLogs', 'ToStateLogs'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.316 +07:00 [DBG] No relationship from 'WorkflowState' to 'SubmissionWorkflowLog' has been configured by convention because there are multiple properties on one entity type - {'FromStateLogs', 'ToStateLogs'} that could be matched with the properties on the other entity type - {'FromState', 'ToState'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-07-11 22:18:14.342 +07:00 [DBG] The index {'LecturerId'} was not created on entity type 'LecturerSkill' as the properties are already covered by the index {'LecturerId', 'SkillTag'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Phase' as the properties are already covered by the index {'SemesterId', 'PhaseTypeId'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'AssignmentId'} was not created on entity type 'Review' as the properties are already covered by the index {'AssignmentId', 'Status'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewComment' as the properties are already covered by the index {'ReviewId', 'SectionName'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'ReviewId'} was not created on entity type 'ReviewCriteriaScore' as the properties are already covered by the index {'ReviewId', 'CriteriaId'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'ReviewerId', 'Status'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'ReviewerAssignment' as the properties are already covered by the index {'SubmissionId', 'ReviewerId'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'ReviewerId'} was not created on entity type 'ReviewerPerformance' as the properties are already covered by the index {'ReviewerId', 'SemesterId'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'PhaseId'} was not created on entity type 'Submission' as the properties are already covered by the index {'PhaseId', 'Status', 'SubmittedAt'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'TopicVersionId'} was not created on entity type 'Submission' as the properties are already covered by the index {'TopicVersionId', 'PhaseId', 'SubmissionRound'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'SubmissionId'} was not created on entity type 'SubmissionWorkflowLog' as the properties are already covered by the index {'SubmissionId', 'CreatedAt'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'UserId'} was not created on entity type 'SystemNotification' as the properties are already covered by the index {'UserId', 'IsRead', 'CreatedAt'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'SemesterId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SemesterId', 'IsApproved'}.
2025-07-11 22:18:14.343 +07:00 [DBG] The index {'SupervisorId'} was not created on entity type 'Topic' as the properties are already covered by the index {'SupervisorId', 'SemesterId'}.
2025-07-11 22:18:14.344 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'Status'}.
2025-07-11 22:18:14.344 +07:00 [DBG] The index {'TopicId'} was not created on entity type 'TopicVersion' as the properties are already covered by the index {'TopicId', 'VersionNumber'}.
2025-07-11 22:18:14.344 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-07-11 22:18:14.344 +07:00 [DBG] The index {'UserId'} was not created on entity type 'UserToken' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-07-11 22:18:14.439 +07:00 [WRN] The 'ProficiencyLevels' property 'ProficiencyLevel' on entity type 'LecturerSkill' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ProficiencyLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.439 +07:00 [WRN] The 'ReviewRecommendations' property 'Recommendation' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewRecommendations' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.439 +07:00 [WRN] The 'ReviewStatus' property 'Status' on entity type 'Review' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'ReviewStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.439 +07:00 [WRN] The 'CommentTypes' property 'CommentType' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'CommentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.439 +07:00 [WRN] The 'PriorityLevels' property 'Priority' on entity type 'ReviewComment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'PriorityLevels' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.439 +07:00 [WRN] The 'AssignmentTypes' property 'AssignmentType' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.439 +07:00 [WRN] The 'AssignmentStatus' property 'Status' on entity type 'ReviewerAssignment' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AssignmentStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.439 +07:00 [WRN] The 'AiCheckStatus' property 'AiCheckStatus' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'AiCheckStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.439 +07:00 [WRN] The 'SubmissionStatus' property 'Status' on entity type 'Submission' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'SubmissionStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.440 +07:00 [WRN] The 'NotificationTypes' property 'Type' on entity type 'SystemNotification' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'NotificationTypes' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.440 +07:00 [WRN] The 'TopicStatus' property 'Status' on entity type 'TopicVersion' is configured with a database-generated default, but has no configured sentinel value. The database-generated default will always be used for inserts when the property has the value '0', since this is the CLR default for the 'TopicStatus' type. Consider using a nullable type, using a nullable backing field, or setting the sentinel value for the property to ensure the database default is used when, and only when, appropriate. See https://aka.ms/efcore-docs-default-values for more information.
2025-07-11 22:18:14.521 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 22:18:14.574 +07:00 [DBG] Compiling query expression: 
'DbSet<Role>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-07-11 22:18:14.662 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Role>(
    asyncEnumerable: new SingleQueryingEnumerable<Role>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Role.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Role.ConcurrencyStamp (string), 1], [Property: Role.IsAdmin (bool) Required, 2], [Property: Role.Name (string), 3], [Property: Role.NormalizedName (string), 4] }
            SELECT TOP(1) r.Id, r.ConcurrencyStamp, r.IsAdmin, r.Name, r.NormalizedName
            FROM roles AS r
            WHERE r.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Role>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 22:18:14.684 +07:00 [DBG] Creating DbConnection.
2025-07-11 22:18:14.693 +07:00 [DBG] Created DbConnection. (8ms).
2025-07-11 22:18:14.695 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.003 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.004 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:15.007 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-11 22:18:15.010 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-07-11 22:18:15.013 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 22:18:15.043 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 22:18:15.061 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 22:18:15.071 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.074 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 28ms reading results.
2025-07-11 22:18:15.075 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.077 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (1ms).
2025-07-11 22:18:15.079 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.079 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.079 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:15.079 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.079 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.079 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 22:18:15.082 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 22:18:15.083 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 22:18:15.084 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.084 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 1ms reading results.
2025-07-11 22:18:15.085 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.085 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:18:15.087 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.087 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.087 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:15.087 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.087 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.087 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 22:18:15.090 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 22:18:15.090 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 22:18:15.090 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.090 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 22:18:15.090 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.090 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:18:15.091 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.091 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.091 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:15.091 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.091 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.092 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 22:18:15.094 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[ConcurrencyStamp], [r].[IsAdmin], [r].[Name], [r].[NormalizedName]
FROM [roles] AS [r]
WHERE [r].[NormalizedName] = @__normalizedName_0
2025-07-11 22:18:15.095 +07:00 [DBG] Context 'MyDbContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 22:18:15.095 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.095 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 22:18:15.095 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.095 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:18:15.100 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2025-07-11 22:18:15.104 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string), 2], [Property: User.CreatedAt (DateTime) Required, 3], [Property: User.DeletedAt (DateTime?), 4], [Property: User.Email (string), 5], [Property: User.EmailConfirmed (bool) Required, 6], [Property: User.LastModifiedAt (DateTime) Required, 7], [Property: User.LastModifiedBy (string), 8], [Property: User.LockoutEnabled (bool) Required, 9], [Property: User.LockoutEnd (DateTimeOffset?), 10], [Property: User.NormalizedEmail (string), 11], [Property: User.NormalizedUserName (string), 12], [Property: User.PasswordHash (string), 13], [Property: User.PhoneNumber (string), 14], [Property: User.PhoneNumberConfirmed (bool) Required, 15], [Property: User.SecurityStamp (string), 16], [Property: User.TwoFactorEnabled (bool) Required, 17], [Property: User.UserName (string), 18] }
            SELECT TOP(2) u.Id, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt, u.DeletedAt, u.Email, u.EmailConfirmed, u.LastModifiedAt, u.LastModifiedBy, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName
            FROM users AS u
            WHERE u.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 22:18:15.106 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.106 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.106 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:15.106 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.106 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.106 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:15.110 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:15.122 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 22:18:15.136 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.136 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 26ms reading results.
2025-07-11 22:18:15.136 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.136 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:18:15.137 +07:00 [INF] Admin user 'fptslayer@gmail.com' already exists
2025-07-11 22:18:15.139 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.139 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.139 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:15.139 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.139 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.139 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:15.141 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:15.142 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 22:18:15.142 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.142 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 22:18:15.142 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.142 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:18:15.142 +07:00 [INF] Sample moderator 'moderator@example.com' already exists
2025-07-11 22:18:15.143 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.143 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.143 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:15.143 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.143 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.143 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:15.145 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:15.145 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 22:18:15.145 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.145 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 22:18:15.145 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.145 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:18:15.145 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.145 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.145 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:15.145 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.145 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:15.145 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:15.148 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:15.148 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 22:18:15.148 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.148 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 22:18:15.149 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.149 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:18:15.149 +07:00 [INF] Data seeding completed successfully
2025-07-11 22:18:15.150 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 22:18:15.151 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:15.152 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 22:18:15.236 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider"]
2025-07-11 22:18:15.276 +07:00 [DBG] Hosting starting
2025-07-11 22:18:15.280 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 22:18:15.281 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 22:18:15.281 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 22:18:15.283 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 22:18:15.285 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 22:18:15.286 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 22:18:15.289 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 22:18:15.290 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 22:18:15.291 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 22:18:15.291 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 22:18:15.292 +07:00 [DBG] Default key expiration imminent and repository contains no viable successor. Caller should generate a successor.
2025-07-11 22:18:15.292 +07:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2025-07-11 22:18:15.295 +07:00 [INF] Creating key {45734ab9-a8cc-4c68-9ae5-36f9a5253115} with creation date 2025-07-11 15:18:15Z, activation date 2025-07-13 10:25:26Z, and expiration date 2025-10-09 15:18:15Z.
2025-07-11 22:18:15.297 +07:00 [DBG] Descriptor deserializer type for key {45734ab9-a8cc-4c68-9ae5-36f9a5253115} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2025-07-11 22:18:15.297 +07:00 [DBG] No key escrow sink found. Not writing key {45734ab9-a8cc-4c68-9ae5-36f9a5253115} to escrow.
2025-07-11 22:18:15.297 +07:00 [WRN] No XML encryptor configured. Key {45734ab9-a8cc-4c68-9ae5-36f9a5253115} may be persisted to storage in unencrypted form.
2025-07-11 22:18:15.298 +07:00 [INF] Writing data to file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-45734ab9-a8cc-4c68-9ae5-36f9a5253115.xml'.
2025-07-11 22:18:15.298 +07:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2025-07-11 22:18:15.299 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-45734ab9-a8cc-4c68-9ae5-36f9a5253115.xml'.
2025-07-11 22:18:15.299 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b.xml'.
2025-07-11 22:18:15.299 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-f4e99ca9-6656-4066-996f-feec683eb80e.xml'.
2025-07-11 22:18:15.299 +07:00 [DBG] Reading data from file '/Users/tamnguyen/.aspnet/DataProtection-Keys/key-443ab2bd-ad7c-414b-bf76-a2dcf79d813d.xml'.
2025-07-11 22:18:15.299 +07:00 [DBG] Found key {45734ab9-a8cc-4c68-9ae5-36f9a5253115}.
2025-07-11 22:18:15.300 +07:00 [DBG] Found key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b}.
2025-07-11 22:18:15.300 +07:00 [DBG] Found key {f4e99ca9-6656-4066-996f-feec683eb80e}.
2025-07-11 22:18:15.300 +07:00 [DBG] Found key {443ab2bd-ad7c-414b-bf76-a2dcf79d813d}.
2025-07-11 22:18:15.300 +07:00 [DBG] Considering key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} with expiration date 2025-07-13 10:25:26Z as default key.
2025-07-11 22:18:15.300 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-07-11 22:18:15.301 +07:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2025-07-11 22:18:15.301 +07:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2025-07-11 22:18:15.301 +07:00 [DBG] Using key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} as the default key.
2025-07-11 22:18:15.301 +07:00 [DBG] Key ring with default key {5ef59ac5-f01b-4400-a43d-e0e7d8af5c7b} was loaded during application startup.
2025-07-11 22:18:15.486 +07:00 [INF] Now listening on: https://localhost:7190
2025-07-11 22:18:15.487 +07:00 [DBG] Loaded hosting startup assembly CapBot.api
2025-07-11 22:18:15.487 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-11 22:18:15.487 +07:00 [INF] Hosting environment: Development
2025-07-11 22:18:15.487 +07:00 [INF] Content root path: /Users/tamnguyen/Documents/SideProject/CapBot-CapStone/CapBot.api
2025-07-11 22:18:15.487 +07:00 [DBG] Hosting started
2025-07-11 22:18:17.438 +07:00 [DBG] Connection id "0HNE0HOKRIDUP" accepted.
2025-07-11 22:18:17.452 +07:00 [DBG] Connection id "0HNE0HOKRIDUP" started.
2025-07-11 22:18:17.537 +07:00 [DBG] Connection 0HNE0HOKRIDUP established using the following protocol: "Tls12"
2025-07-11 22:18:17.593 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 22:18:17.595 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-11 22:18:17.758 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 166.4047ms
2025-07-11 22:18:17.907 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 22:18:18.078 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 171.5576ms
2025-07-11 22:18:28.137 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7190/api/auth/login - application/json 82
2025-07-11 22:18:28.148 +07:00 [DBG] POST requests are not supported
2025-07-11 22:18:28.149 +07:00 [DBG] POST requests are not supported
2025-07-11 22:18:28.150 +07:00 [DBG] The request has an origin header: 'https://localhost:7190'.
2025-07-11 22:18:28.150 +07:00 [INF] CORS policy execution successful.
2025-07-11 22:18:28.166 +07:00 [DBG] 1 candidate(s) found for the request path '/api/auth/login'
2025-07-11 22:18:28.167 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)' with route pattern 'api/auth/login' is valid for the request path '/api/auth/login'
2025-07-11 22:18:28.167 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 22:18:28.215 +07:00 [DBG] Successfully validated the token.
2025-07-11 22:18:28.216 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 22:18:28.219 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 22:18:28.227 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(App.Entities.DTOs.Auth.LoginDTO) on controller CapBot.api.Controllers.AuthController (CapBot.api).
2025-07-11 22:18:28.228 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 22:18:28.228 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 22:18:28.228 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 22:18:28.228 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 22:18:28.228 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 22:18:28.229 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 22:18:28.231 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.AuthController (CapBot.api)
2025-07-11 22:18:28.234 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 22:18:28.235 +07:00 [DBG] Attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' using the name '' in request data ...
2025-07-11 22:18:28.235 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 22:18:28.235 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 22:18:28.236 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.OData.Formatter.ODataInputFormatter' for content type 'application/json'.
2025-07-11 22:18:28.236 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-07-11 22:18:28.239 +07:00 [DBG] Connection id "0HNE0HOKRIDUP", Request id "0HNE0HOKRIDUP:00000005": started reading request body.
2025-07-11 22:18:28.239 +07:00 [DBG] Connection id "0HNE0HOKRIDUP", Request id "0HNE0HOKRIDUP:00000005": done reading request body.
2025-07-11 22:18:28.240 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'App.Entities.DTOs.Auth.LoginDTO'
2025-07-11 22:18:28.240 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 22:18:28.240 +07:00 [DBG] Done attempting to bind parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 22:18:28.240 +07:00 [DBG] Attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO' ...
2025-07-11 22:18:28.243 +07:00 [DBG] Done attempting to validate the bound parameter 'loginDTO' of type 'App.Entities.DTOs.Auth.LoginDTO'.
2025-07-11 22:18:28.265 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 22:18:28.267 +07:00 [DBG] Creating DbConnection.
2025-07-11 22:18:28.267 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 22:18:28.267 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:28.267 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:28.267 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:28.268 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:28.268 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:28.268 +07:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:28.281 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt], [u].[LastModifiedBy], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName]
FROM [users] AS [u]
WHERE [u].[NormalizedEmail] = @__normalizedEmail_0
2025-07-11 22:18:28.282 +07:00 [DBG] Context 'MyDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-11 22:18:28.282 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:28.282 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 22:18:28.282 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:28.282 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:18:28.333 +07:00 [DBG] Compiling query expression: 
'DbSet<UserRole>()
    .Join(
        inner: DbSet<Role>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-07-11 22:18:28.355 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT r.Name
        FROM user_roles AS u
        INNER JOIN roles AS r ON u.RoleId == r.Id
        WHERE u.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    App.DAL.Context.MyDbContext, 
    False, 
    False, 
    True
)'
2025-07-11 22:18:28.355 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:28.356 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:28.356 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:18:28.356 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:28.356 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:18:28.356 +07:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 22:18:28.361 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Name]
FROM [user_roles] AS [u]
INNER JOIN [roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0
2025-07-11 22:18:28.362 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:18:28.362 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 0ms reading results.
2025-07-11 22:18:28.362 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:28.362 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:18:28.369 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 22:18:28.370 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 22:18:28.370 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 22:18:28.372 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 22:18:28.373 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 22:18:28.388 +07:00 [INF] Executed action CapBot.api.Controllers.AuthController.Login (CapBot.api) in 158.1006ms
2025-07-11 22:18:28.388 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.AuthController.Login (CapBot.api)'
2025-07-11 22:18:28.389 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 22:18:28.389 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:18:28.389 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 22:18:28.390 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7190/api/auth/login - 200 null application/json; charset=utf-8 253.1019ms
2025-07-11 22:18:41.904 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/index.html - null null
2025-07-11 22:18:41.907 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/index.html - 200 null text/html;charset=utf-8 6.4747ms
2025-07-11 22:18:42.017 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - null null
2025-07-11 22:18:42.042 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 25.3737ms
2025-07-11 22:19:07.839 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7190/api/topic/detail/1 - null null
2025-07-11 22:19:07.843 +07:00 [DBG] The request path /api/topic/detail/1 does not match a supported file type
2025-07-11 22:19:07.843 +07:00 [DBG] The request path /api/topic/detail/1 does not match a supported file type
2025-07-11 22:19:07.846 +07:00 [DBG] 1 candidate(s) found for the request path '/api/topic/detail/1'
2025-07-11 22:19:07.846 +07:00 [DBG] Endpoint 'CapBot.api.Controllers.TopicController.GetDetail (CapBot.api)' with route pattern 'api/topic/detail/{topicId}' is valid for the request path '/api/topic/detail/1'
2025-07-11 22:19:07.846 +07:00 [DBG] Request matched endpoint 'CapBot.api.Controllers.TopicController.GetDetail (CapBot.api)'
2025-07-11 22:19:07.849 +07:00 [DBG] Successfully validated the token.
2025-07-11 22:19:07.849 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-07-11 22:19:07.855 +07:00 [DBG] Authorization was successful.
2025-07-11 22:19:07.856 +07:00 [INF] Executing endpoint 'CapBot.api.Controllers.TopicController.GetDetail (CapBot.api)'
2025-07-11 22:19:07.860 +07:00 [INF] Route matched with {action = "GetDetail", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDetail(Int32) on controller CapBot.api.Controllers.TopicController (CapBot.api).
2025-07-11 22:19:07.860 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-11 22:19:07.860 +07:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-11 22:19:07.861 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-07-11 22:19:07.861 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-11 22:19:07.861 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ProducesAttribute (Order: 0)"]
2025-07-11 22:19:07.861 +07:00 [DBG] Executing controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 22:19:07.862 +07:00 [DBG] Executed controller factory for controller CapBot.api.Controllers.TopicController (CapBot.api)
2025-07-11 22:19:07.863 +07:00 [DBG] Attempting to bind parameter 'topicId' of type 'System.Int32' ...
2025-07-11 22:19:07.863 +07:00 [DBG] Attempting to bind parameter 'topicId' of type 'System.Int32' using the name 'topicId' in request data ...
2025-07-11 22:19:07.863 +07:00 [DBG] Done attempting to bind parameter 'topicId' of type 'System.Int32'.
2025-07-11 22:19:07.863 +07:00 [DBG] Done attempting to bind parameter 'topicId' of type 'System.Int32'.
2025-07-11 22:19:07.863 +07:00 [DBG] Attempting to validate the bound parameter 'topicId' of type 'System.Int32' ...
2025-07-11 22:19:07.863 +07:00 [DBG] Done attempting to validate the bound parameter 'topicId' of type 'System.Int32'.
2025-07-11 22:19:07.873 +07:00 [DBG] Entity Framework Core 8.0.16 initialized 'MyDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.13' with options: MigrationsAssembly=App.DAL 
2025-07-11 22:19:07.879 +07:00 [DBG] Compiling query expression: 
'DbSet<Topic>()
    .AsNoTracking()
    .Include(x => x.Supervisor)
    .Include(x => x.Category)
    .Include(x => x.Semester)
    .Include(x => x.TopicVersions)
    .Where(x => x.Id == __topicId_0 && x.IsActive && x.DeletedAt == null)
    .FirstOrDefault()'
2025-07-11 22:19:07.885 +07:00 [DBG] Including navigation: 'Topic.Supervisor'.
2025-07-11 22:19:07.885 +07:00 [DBG] Including navigation: 'Topic.Category'.
2025-07-11 22:19:07.886 +07:00 [DBG] Including navigation: 'Topic.Semester'.
2025-07-11 22:19:07.886 +07:00 [DBG] Including navigation: 'Topic.TopicVersions'.
2025-07-11 22:19:07.917 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Topic>(
    asyncEnumerable: new SingleQueryingEnumerable<Topic>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Topic.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Topic.CategoryId (int?) FK Index, 1], [Property: Topic.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 2], [Property: Topic.CreatedBy (string), 3], [Property: Topic.DeletedAt (DateTime?), 4], [Property: Topic.Description (string), 5], [Property: Topic.IsActive (bool) Required, 6], [Property: Topic.IsApproved (bool) Required Index Sentinel:True ValueGenerated.OnAdd, 7], [Property: Topic.IsLegacy (bool) Required Index ValueGenerated.OnAdd, 8], [Property: Topic.LastModifiedAt (DateTime?), 9], [Property: Topic.LastModifiedBy (string), 10], [Property: Topic.MaxStudents (int) Required ValueGenerated.OnAdd, 11], [Property: Topic.Objectives (string), 12], [Property: Topic.SemesterId (int) Required FK Index, 13], [Property: Topic.SupervisorId (int) Required FK Index, 14], [Property: Topic.Title (string) Required MaxLength(500), 15] }
                1 -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 16], [Property: User.AccessFailedCount (int) Required, 17], [Property: User.ConcurrencyStamp (string), 18], [Property: User.CreatedAt (DateTime) Required, 19], [Property: User.DeletedAt (DateTime?), 20], [Property: User.Email (string), 21], [Property: User.EmailConfirmed (bool) Required, 22], [Property: User.LastModifiedAt (DateTime) Required, 23], [Property: User.LastModifiedBy (string), 24], [Property: User.LockoutEnabled (bool) Required, 25], [Property: User.LockoutEnd (DateTimeOffset?), 26], [Property: User.NormalizedEmail (string), 27], [Property: User.NormalizedUserName (string), 28], [Property: User.PasswordHash (string), 29], [Property: User.PhoneNumber (string), 30], [Property: User.PhoneNumberConfirmed (bool) Required, 31], [Property: User.SecurityStamp (string), 32], [Property: User.TwoFactorEnabled (bool) Required, 33], [Property: User.UserName (string), 34] }
                2 -> Dictionary<IProperty, int> { [Property: TopicCategory.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 35], [Property: TopicCategory.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 36], [Property: TopicCategory.CreatedBy (string), 37], [Property: TopicCategory.DeletedAt (DateTime?), 38], [Property: TopicCategory.Description (string), 39], [Property: TopicCategory.IsActive (bool) Required, 40], [Property: TopicCategory.LastModifiedAt (DateTime?), 41], [Property: TopicCategory.LastModifiedBy (string), 42], [Property: TopicCategory.Name (string) Required MaxLength(100), 43] }
                3 -> Dictionary<IProperty, int> { [Property: Semester.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 44], [Property: Semester.CreatedAt (DateTime) Required, 45], [Property: Semester.CreatedBy (string), 46], [Property: Semester.DeletedAt (DateTime?), 47], [Property: Semester.EndDate (DateTime) Required, 48], [Property: Semester.IsActive (bool) Required, 49], [Property: Semester.LastModifiedAt (DateTime?), 50], [Property: Semester.LastModifiedBy (string), 51], [Property: Semester.Name (string) Required Index MaxLength(50), 52], [Property: Semester.StartDate (DateTime) Required, 53] }
                4 -> 0
                5 -> 16
                6 -> 35
                7 -> 44
                8 -> Dictionary<IProperty, int> { [Property: TopicVersion.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 54], [Property: TopicVersion.CreatedAt (DateTime) Required ValueGenerated.OnAdd, 55], [Property: TopicVersion.CreatedBy (string), 56], [Property: TopicVersion.DeletedAt (DateTime?), 57], [Property: TopicVersion.Description (string), 58], [Property: TopicVersion.DocumentUrl (string) MaxLength(500), 59], [Property: TopicVersion.ExpectedOutcomes (string), 60], [Property: TopicVersion.IsActive (bool) Required, 61], [Property: TopicVersion.LastModifiedAt (DateTime?), 62], [Property: TopicVersion.LastModifiedBy (string), 63], [Property: TopicVersion.Methodology (string), 64], [Property: TopicVersion.Objectives (string), 65], [Property: TopicVersion.Requirements (string), 66], [Property: TopicVersion.Status (TopicStatus) Required Index ValueGenerated.OnAdd, 67], [Property: TopicVersion.SubmittedAt (DateTime?), 68], [Property: TopicVersion.SubmittedBy (int?) FK Index, 69], [Property: TopicVersion.Title (string) Required MaxLength(500), 70], [Property: TopicVersion.TopicId (int) Required FK Index, 71], [Property: TopicVersion.VersionNumber (int) Required Index, 72] }
                9 -> 54
            SELECT t1.Id, t1.CategoryId, t1.CreatedAt, t1.CreatedBy, t1.DeletedAt, t1.Description, t1.IsActive, t1.IsApproved, t1.IsLegacy, t1.LastModifiedAt, t1.LastModifiedBy, t1.MaxStudents, t1.Objectives, t1.SemesterId, t1.SupervisorId, t1.Title, t1.Id0, t1.AccessFailedCount, t1.ConcurrencyStamp, t1.CreatedAt0, t1.DeletedAt0, t1.Email, t1.EmailConfirmed, t1.LastModifiedAt0, t1.LastModifiedBy0, t1.LockoutEnabled, t1.LockoutEnd, t1.NormalizedEmail, t1.NormalizedUserName, t1.PasswordHash, t1.PhoneNumber, t1.PhoneNumberConfirmed, t1.SecurityStamp, t1.TwoFactorEnabled, t1.UserName, t1.Id1, t1.CreatedAt1, t1.CreatedBy0, t1.DeletedAt1, t1.Description0, t1.IsActive0, t1.LastModifiedAt1, t1.LastModifiedBy1, t1.Name, t1.Id2, t1.CreatedAt2, t1.CreatedBy1, t1.DeletedAt2, t1.EndDate, t1.IsActive1, t1.LastModifiedAt2, t1.LastModifiedBy2, t1.Name0, t1.StartDate, t2.Id, t2.CreatedAt, t2.CreatedBy, t2.DeletedAt, t2.Description, t2.DocumentUrl, t2.ExpectedOutcomes, t2.IsActive, t2.LastModifiedAt, t2.LastModifiedBy, t2.Methodology, t2.Objectives, t2.Requirements, t2.Status, t2.SubmittedAt, t2.SubmittedBy, t2.Title, t2.TopicId, t2.VersionNumber
            FROM 
            (
                SELECT TOP(1) t.Id, t.CategoryId, t.CreatedAt, t.CreatedBy, t.DeletedAt, t.Description, t.IsActive, t.IsApproved, t.IsLegacy, t.LastModifiedAt, t.LastModifiedBy, t.MaxStudents, t.Objectives, t.SemesterId, t.SupervisorId, t.Title, u.Id AS Id0, u.AccessFailedCount, u.ConcurrencyStamp, u.CreatedAt AS CreatedAt0, u.DeletedAt AS DeletedAt0, u.Email, u.EmailConfirmed, u.LastModifiedAt AS LastModifiedAt0, u.LastModifiedBy AS LastModifiedBy0, u.LockoutEnabled, u.LockoutEnd, u.NormalizedEmail, u.NormalizedUserName, u.PasswordHash, u.PhoneNumber, u.PhoneNumberConfirmed, u.SecurityStamp, u.TwoFactorEnabled, u.UserName, t0.Id AS Id1, t0.CreatedAt AS CreatedAt1, t0.CreatedBy AS CreatedBy0, t0.DeletedAt AS DeletedAt1, t0.Description AS Description0, t0.IsActive AS IsActive0, t0.LastModifiedAt AS LastModifiedAt1, t0.LastModifiedBy AS LastModifiedBy1, t0.Name, s.Id AS Id2, s.CreatedAt AS CreatedAt2, s.CreatedBy AS CreatedBy1, s.DeletedAt AS DeletedAt2, s.EndDate, s.IsActive AS IsActive1, s.LastModifiedAt AS LastModifiedAt2, s.LastModifiedBy AS LastModifiedBy2, s.Name AS Name0, s.StartDate
                FROM topics AS t
                INNER JOIN users AS u ON t.SupervisorId == u.Id
                LEFT JOIN topic_categories AS t0 ON t.CategoryId == t0.Id
                INNER JOIN semesters AS s ON t.SemesterId == s.Id
                WHERE ((t.Id == @__topicId_0) && t.IsActive) && (t.DeletedAt == NULL)
            ) AS t1
            LEFT JOIN topic_versions AS t2 ON t1.Id == t2.TopicId
            ORDER BY t1.Id ASC, t1.Id0 ASC, t1.Id1 ASC, t1.Id2 ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Topic>, 
        App.DAL.Context.MyDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-11 22:19:07.919 +07:00 [DBG] Creating DbConnection.
2025-07-11 22:19:07.919 +07:00 [DBG] Created DbConnection. (0ms).
2025-07-11 22:19:07.919 +07:00 [DBG] Opening connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:19:07.919 +07:00 [DBG] Opened connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:19:07.919 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-11 22:19:07.919 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:19:07.919 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-07-11 22:19:07.919 +07:00 [DBG] Executing DbCommand [Parameters=[@__topicId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DeletedAt0], [t1].[Email], [t1].[EmailConfirmed], [t1].[LastModifiedAt0], [t1].[LastModifiedBy0], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [t1].[Id1], [t1].[CreatedAt1], [t1].[CreatedBy0], [t1].[DeletedAt1], [t1].[Description0], [t1].[IsActive0], [t1].[LastModifiedAt1], [t1].[LastModifiedBy1], [t1].[Name], [t1].[Id2], [t1].[CreatedAt2], [t1].[CreatedBy1], [t1].[DeletedAt2], [t1].[EndDate], [t1].[IsActive1], [t1].[LastModifiedAt2], [t1].[LastModifiedBy2], [t1].[Name0], [t1].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt] AS [DeletedAt0], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt] AS [LastModifiedAt0], [u].[LastModifiedBy] AS [LastModifiedBy0], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id] AS [Id1], [t0].[CreatedAt] AS [CreatedAt1], [t0].[CreatedBy] AS [CreatedBy0], [t0].[DeletedAt] AS [DeletedAt1], [t0].[Description] AS [Description0], [t0].[IsActive] AS [IsActive0], [t0].[LastModifiedAt] AS [LastModifiedAt1], [t0].[LastModifiedBy] AS [LastModifiedBy1], [t0].[Name], [s].[Id] AS [Id2], [s].[CreatedAt] AS [CreatedAt2], [s].[CreatedBy] AS [CreatedBy1], [s].[DeletedAt] AS [DeletedAt2], [s].[EndDate], [s].[IsActive] AS [IsActive1], [s].[LastModifiedAt] AS [LastModifiedAt2], [s].[LastModifiedBy] AS [LastModifiedBy2], [s].[Name] AS [Name0], [s].[StartDate]
    FROM [topics] AS [t]
    INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
    LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
    INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
    WHERE [t].[Id] = @__topicId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t1]
LEFT JOIN [topic_versions] AS [t2] ON [t1].[Id] = [t2].[TopicId]
ORDER BY [t1].[Id], [t1].[Id0], [t1].[Id1], [t1].[Id2]
2025-07-11 22:19:07.929 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__topicId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t1].[Id], [t1].[CategoryId], [t1].[CreatedAt], [t1].[CreatedBy], [t1].[DeletedAt], [t1].[Description], [t1].[IsActive], [t1].[IsApproved], [t1].[IsLegacy], [t1].[LastModifiedAt], [t1].[LastModifiedBy], [t1].[MaxStudents], [t1].[Objectives], [t1].[SemesterId], [t1].[SupervisorId], [t1].[Title], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[CreatedAt0], [t1].[DeletedAt0], [t1].[Email], [t1].[EmailConfirmed], [t1].[LastModifiedAt0], [t1].[LastModifiedBy0], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName], [t1].[Id1], [t1].[CreatedAt1], [t1].[CreatedBy0], [t1].[DeletedAt1], [t1].[Description0], [t1].[IsActive0], [t1].[LastModifiedAt1], [t1].[LastModifiedBy1], [t1].[Name], [t1].[Id2], [t1].[CreatedAt2], [t1].[CreatedBy1], [t1].[DeletedAt2], [t1].[EndDate], [t1].[IsActive1], [t1].[LastModifiedAt2], [t1].[LastModifiedBy2], [t1].[Name0], [t1].[StartDate], [t2].[Id], [t2].[CreatedAt], [t2].[CreatedBy], [t2].[DeletedAt], [t2].[Description], [t2].[DocumentUrl], [t2].[ExpectedOutcomes], [t2].[IsActive], [t2].[LastModifiedAt], [t2].[LastModifiedBy], [t2].[Methodology], [t2].[Objectives], [t2].[Requirements], [t2].[Status], [t2].[SubmittedAt], [t2].[SubmittedBy], [t2].[Title], [t2].[TopicId], [t2].[VersionNumber]
FROM (
    SELECT TOP(1) [t].[Id], [t].[CategoryId], [t].[CreatedAt], [t].[CreatedBy], [t].[DeletedAt], [t].[Description], [t].[IsActive], [t].[IsApproved], [t].[IsLegacy], [t].[LastModifiedAt], [t].[LastModifiedBy], [t].[MaxStudents], [t].[Objectives], [t].[SemesterId], [t].[SupervisorId], [t].[Title], [u].[Id] AS [Id0], [u].[AccessFailedCount], [u].[ConcurrencyStamp], [u].[CreatedAt] AS [CreatedAt0], [u].[DeletedAt] AS [DeletedAt0], [u].[Email], [u].[EmailConfirmed], [u].[LastModifiedAt] AS [LastModifiedAt0], [u].[LastModifiedBy] AS [LastModifiedBy0], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[TwoFactorEnabled], [u].[UserName], [t0].[Id] AS [Id1], [t0].[CreatedAt] AS [CreatedAt1], [t0].[CreatedBy] AS [CreatedBy0], [t0].[DeletedAt] AS [DeletedAt1], [t0].[Description] AS [Description0], [t0].[IsActive] AS [IsActive0], [t0].[LastModifiedAt] AS [LastModifiedAt1], [t0].[LastModifiedBy] AS [LastModifiedBy1], [t0].[Name], [s].[Id] AS [Id2], [s].[CreatedAt] AS [CreatedAt2], [s].[CreatedBy] AS [CreatedBy1], [s].[DeletedAt] AS [DeletedAt2], [s].[EndDate], [s].[IsActive] AS [IsActive1], [s].[LastModifiedAt] AS [LastModifiedAt2], [s].[LastModifiedBy] AS [LastModifiedBy2], [s].[Name] AS [Name0], [s].[StartDate]
    FROM [topics] AS [t]
    INNER JOIN [users] AS [u] ON [t].[SupervisorId] = [u].[Id]
    LEFT JOIN [topic_categories] AS [t0] ON [t].[CategoryId] = [t0].[Id]
    INNER JOIN [semesters] AS [s] ON [t].[SemesterId] = [s].[Id]
    WHERE [t].[Id] = @__topicId_0 AND [t].[IsActive] = CAST(1 AS bit) AND [t].[DeletedAt] IS NULL
) AS [t1]
LEFT JOIN [topic_versions] AS [t2] ON [t1].[Id] = [t2].[TopicId]
ORDER BY [t1].[Id], [t1].[Id0], [t1].[Id1], [t1].[Id2]
2025-07-11 22:19:07.932 +07:00 [DBG] Closing data reader to 'capbot_db' on server 'localhost'.
2025-07-11 22:19:07.932 +07:00 [DBG] A data reader for 'capbot_db' on server 'localhost' is being disposed after spending 3ms reading results.
2025-07-11 22:19:07.932 +07:00 [DBG] Closing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:19:07.933 +07:00 [DBG] Closed connection to database 'capbot_db' on server 'localhost' (0ms).
2025-07-11 22:19:07.934 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.OData.Formatter.ODataOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-11 22:19:07.934 +07:00 [DBG] No information found on request to perform content negotiation.
2025-07-11 22:19:07.934 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/json"]'.
2025-07-11 22:19:07.934 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-11 22:19:07.934 +07:00 [INF] Executing ObjectResult, writing value of type 'FS.Commons.FSResponse'.
2025-07-11 22:19:07.940 +07:00 [INF] Executed action CapBot.api.Controllers.TopicController.GetDetail (CapBot.api) in 79.567ms
2025-07-11 22:19:07.940 +07:00 [INF] Executed endpoint 'CapBot.api.Controllers.TopicController.GetDetail (CapBot.api)'
2025-07-11 22:19:07.941 +07:00 [DBG] 'MyDbContext' disposed.
2025-07-11 22:19:07.941 +07:00 [DBG] Disposing connection to database 'capbot_db' on server 'localhost'.
2025-07-11 22:19:07.941 +07:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-07-11 22:19:07.941 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7190/api/topic/detail/1 - 200 null application/json; charset=utf-8 102.4784ms
2025-07-11 22:19:44.048 +07:00 [DBG] Connection id "0HNE0HOKRIDUP" received FIN.
2025-07-11 22:19:44.053 +07:00 [DBG] Connection id "0HNE0HOKRIDUP" is closed. The last processed stream ID was 11.
2025-07-11 22:19:44.054 +07:00 [DBG] Connection id "0HNE0HOKRIDUP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-11 22:19:44.056 +07:00 [DBG] The connection queue processing loop for 0HNE0HOKRIDUP completed.
2025-07-11 22:19:44.063 +07:00 [DBG] Connection id "0HNE0HOKRIDUP" stopped.
